import { __read } from "tslib";
import moment from 'moment-timezone';
import { useState } from 'react';
var withinTimeScale = function (newValues, timescale) {
    var domain = timescale.domain().map(function (value) { return moment(value); });
    if (newValues.length === 0) {
        return true;
    }
    else if (newValues.length === 1) {
        return domain[0] < newValues[0] && newValues[0] < domain[1];
    }
    else if (newValues.length === 2) {
        return domain[0] < newValues[0] && newValues[1] < domain[1];
    }
    else {
        console.debug('selectionRange can have a maximum of two elements.');
        return false;
    }
};
export var useSelectionRange = function (defaultValues, timescale) {
    var _a = __read(useState(defaultValues), 2), values = _a[0], setValues = _a[1];
    var setSelectionRange = function (newValues) {
        if (withinTimeScale(newValues, timescale)) {
            setValues(newValues);
        }
    };
    return [values, setSelectionRange];
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9va3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50L3RpbWVsaW5lL2hvb2tzLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxNQUFrQixNQUFNLGlCQUFpQixDQUFBO0FBQ2hELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxPQUFPLENBQUE7QUFHaEMsSUFBTSxlQUFlLEdBQUcsVUFBQyxTQUFtQixFQUFFLFNBQW9CO0lBQ2hFLElBQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsVUFBQyxLQUFLLElBQUssT0FBQSxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQWIsQ0FBYSxDQUFDLENBQUE7SUFFL0QsSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQzNCLE9BQU8sSUFBSSxDQUFBO0lBQ2IsQ0FBQztTQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUUsQ0FBQztRQUNsQyxPQUFPLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUM3RCxDQUFDO1NBQU0sSUFBSSxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRSxDQUFDO1FBQ2xDLE9BQU8sTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQzdELENBQUM7U0FBTSxDQUFDO1FBQ04sT0FBTyxDQUFDLEtBQUssQ0FBQyxvREFBb0QsQ0FBQyxDQUFBO1FBQ25FLE9BQU8sS0FBSyxDQUFBO0lBQ2QsQ0FBQztBQUNILENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxJQUFNLGlCQUFpQixHQUFHLFVBQy9CLGFBQXVCLEVBQ3ZCLFNBQW9CO0lBRWQsSUFBQSxLQUFBLE9BQXNCLFFBQVEsQ0FBVyxhQUFhLENBQUMsSUFBQSxFQUF0RCxNQUFNLFFBQUEsRUFBRSxTQUFTLFFBQXFDLENBQUE7SUFDN0QsSUFBTSxpQkFBaUIsR0FBRyxVQUFDLFNBQW1CO1FBQzVDLElBQUksZUFBZSxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsRUFBRSxDQUFDO1lBQzFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUN0QixDQUFDO0lBQ0gsQ0FBQyxDQUFBO0lBRUQsT0FBTyxDQUFDLE1BQU0sRUFBRSxpQkFBaUIsQ0FBQyxDQUFBO0FBQ3BDLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb21lbnQsIHsgTW9tZW50IH0gZnJvbSAnbW9tZW50LXRpbWV6b25lJ1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFRpbWVzY2FsZSB9IGZyb20gJy4vdHlwZXMnXG5cbmNvbnN0IHdpdGhpblRpbWVTY2FsZSA9IChuZXdWYWx1ZXM6IE1vbWVudFtdLCB0aW1lc2NhbGU6IFRpbWVzY2FsZSkgPT4ge1xuICBjb25zdCBkb21haW4gPSB0aW1lc2NhbGUuZG9tYWluKCkubWFwKCh2YWx1ZSkgPT4gbW9tZW50KHZhbHVlKSlcblxuICBpZiAobmV3VmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSBpZiAobmV3VmFsdWVzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBkb21haW5bMF0gPCBuZXdWYWx1ZXNbMF0gJiYgbmV3VmFsdWVzWzBdIDwgZG9tYWluWzFdXG4gIH0gZWxzZSBpZiAobmV3VmFsdWVzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBkb21haW5bMF0gPCBuZXdWYWx1ZXNbMF0gJiYgbmV3VmFsdWVzWzFdIDwgZG9tYWluWzFdXG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5kZWJ1Zygnc2VsZWN0aW9uUmFuZ2UgY2FuIGhhdmUgYSBtYXhpbXVtIG9mIHR3byBlbGVtZW50cy4nKVxuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCB1c2VTZWxlY3Rpb25SYW5nZSA9IChcbiAgZGVmYXVsdFZhbHVlczogTW9tZW50W10sXG4gIHRpbWVzY2FsZTogVGltZXNjYWxlXG4pOiBbTW9tZW50W10sIChuZXdWYWx1ZTogTW9tZW50W10pID0+IHZvaWRdID0+IHtcbiAgY29uc3QgW3ZhbHVlcywgc2V0VmFsdWVzXSA9IHVzZVN0YXRlPE1vbWVudFtdPihkZWZhdWx0VmFsdWVzKVxuICBjb25zdCBzZXRTZWxlY3Rpb25SYW5nZSA9IChuZXdWYWx1ZXM6IE1vbWVudFtdKSA9PiB7XG4gICAgaWYgKHdpdGhpblRpbWVTY2FsZShuZXdWYWx1ZXMsIHRpbWVzY2FsZSkpIHtcbiAgICAgIHNldFZhbHVlcyhuZXdWYWx1ZXMpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFt2YWx1ZXMsIHNldFNlbGVjdGlvblJhbmdlXVxufVxuIl19
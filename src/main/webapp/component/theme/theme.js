import { __assign, __makeTemplateObject } from "tslib";
import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from "react/jsx-runtime";
import * as React from 'react';
import { createTheme, ThemeProvider, StyledEngineProvider, darken, lighten, alpha, } from '@mui/material/styles';
import { ThemeContext } from 'styled-components';
import { createGlobalStyle } from 'styled-components';
import { meetsContrastGuidelines } from 'polished';
import { useRemoveFocusStyle } from '../app/blueprint.adjust';
// // octo colors
// export const dark: Theme = {
//   background: '#F38832',
//   navbar: '#2B3A49',
//   panels: '#3A4A54',
//   overlays: '#475A66',
//   paper: '#213137',
//   primary: '#589dd5',
//   secondary: '#589dd5',
// }
export var dark = {
    background: '#0B1821',
    navbar: darken('#365160', 0.2),
    panels: '#243540', // 243540
    overlays: darken('#365160', 0.1),
    paper: darken('#365160', 0.2),
    tabs: darken('#243540', 0.3),
    primary: '#69E1E8',
    secondary: '#2196f3',
};
export var light = {
    primary: '#3c6dd5',
    secondary: '#2196f3',
    background: '#E5E5E5', // elevation 0
    navbar: '#fafbfc', // elevation 8
    panels: '#FCFCFC', // elevation 6
    tabs: darken('#FCFCFC', 0.05),
    overlays: '#FCFCFC', // elevation 16
    paper: '#FCFCFC',
};
export var Elevations = {
    navbar: 8,
    background: 0,
    paper: 2,
    panels: 6,
    overlays: 16,
};
export var MuiOutlinedInputBorderClasses = 'px-[14px] py-[8.5px] border rounded dark:border-white/20 border-black/20 dark:hover:border-white hover:border-black';
var GlobalStyles = createGlobalStyle(templateObject_1 || (templateObject_1 = __makeTemplateObject(["\n      .ol-overlaycontainer-stopevent {\n        display: none;\n      }\n      a {\n        color: inherit !important;\n      }\n      *.outline-none, a.outline-none, a, button{\n        outline: none !important; \n      }\n      span.highlight {\n        background-color: rgba(66, 110, 203, 0.40);\n      }\n      .MuiToolbar-root a,\n      .MuiToolbar-root .MuiBreadcrumbs-separator {\n        color: ", ";\n      }\n      .MuiDrawer-root a {\n        color: ", ";\n      }\n      .MuiTooltip-tooltip {\n        max-width: 50vw;\n        padding: 0px;\n        background-color: none;\n      }\n      .MuiFormControlLabel-labelPlacementStart {\n        margin-left: 0px;\n      }\n      @media (min-width: 600px) {\n        .MuiListItemIcon-root {\n          margin-left: 8px;\n        }\n      }\n      .lm_goldenlayout, .lm_content {\n        background: inherit;\n      }\n      .lm_splitter  {\n        background: ", ";\n        opacity: 1;\n      }\n      .lm_splitter:hover  {\n        background: ", " !important;\n      }\n      .lm_stack{\n        box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12);\n        background: ", " !important;\n        border-radius: 4px;\n        transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n      }\n      .lm_header {\n        z-index: 0 !important;\n        background: ", " !important;\n      }\n      .lm_tab.lm_active {\n        background: ", " !important;\n            box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12) !important;\n      }\n      .lm_tab, lm_tabs {\n        border-radius: 4px !important;\n        border-bottom-left-radius: 0px !important;\n        border-bottom-right-radius: 0px !important;\n      }\n      .lm_tab:not(.lm_active) {\n        color: ", " !important;\n        background: ", " !important;\n        button {\n          visibility: hidden;\n        }\n      }\n      .lm_tabs .lm_tab {\n        border: 1px solid fade(@contrastColor, 10%);\n        margin-right: 8px !important;\n        box-shadow: none !important;\n        padding: 0px !important;\n        height: 44px !important;\n        minWidth: 44px !important;\n      }\n      .lm_tabs .lm_tab:hover {\n        color: ", " !important;\n      }\n      .lm_header,\n      .lm_tabs .lm_tab,\n      .lm_tabdropdown:before {\n        color: ", " !important;\n      }\n      .is-drawing [role=\"tooltip\"], .is-drawing .MuiPopover-root {\n        display: none!important;\n      }\n      [role=\"tooltip\"] {\n        z-index: 101 !important;\n        pointer-events: all !important;\n      }\n      .bp3-portal {\n        z-index: 101 !important;\n      }\n      .bp3-popover-wrapper,.bp3-popover-target, .bp3-control-group {\n        width: 100%;\n      }\n      .bp3-control-group {\n        flex-wrap: wrap;\n      }\n      .bp3-control-group > div:first-of-type::after {\n        content: 'and';\n        display:block;\n        position: absolute;\n        left: 14px;\n        bottom: -25px;\n      }\n      .bp3-control-group > div:nth-of-type(2) {\n        margin-top: 30px;\n      }\n      .bp3-input-group input {\n        background: transparent !important; \n        box-shadow: none !important;\n        font-size: 1.1428571428571428rem !important;\n        padding: 0px !important;\n        height: 1.3125rem !important;\n        line-height: 1.15 !important;\n      }\n      .bp3-popover .bp3-popover-content, .bp3-popover .bp3-popover-content, .bp3-datepicker, .bp3-menu{\n        background: ", " !important;\n      }\n      .bp3-popover-arrow {\n        display: none !important;\n      }\n      .bp3-datepicker .DayPicker-Day.DayPicker-Day--selected, .bp3-active {\n        background-color: ", " !important;\n      }\n      .bp3-table-quadrant, .bp3-table-cell-client, .bp3-table-row-headers {\n        background: inherit !important;\n      }\n      .bp4-portal {\n        z-index: 101 !important;\n      }\n      .bp4-popover-wrapper,.bp4-popover-target, .bp4-control-group {\n        width: 100%;\n      }\n      .bp4-control-group {\n        flex-wrap: wrap;\n      }\n      .bp4-control-group > div:first-of-type::after {\n        content: 'and';\n        display:block;\n        position: absolute;\n        left: 14px;\n        bottom: -25px;\n      }\n      .bp4-control-group > div:nth-of-type(2) {\n        margin-top: 30px;\n      }\n      .bp4-input-group input {\n        background: transparent !important; \n        box-shadow: none !important;\n        font-size: 1.1428571428571428rem !important;\n        padding: 0px !important;\n        height: 1.3125rem !important;\n        line-height: 1.15 !important;\n      }\n      .bp4-popover .bp4-popover-content, .bp4-popover .bp4-popover-content, .bp4-datepicker, .bp4-menu{\n        background: ", " !important;\n      }\n      .bp4-popover-arrow {\n        display: none !important;\n      }\n      .bp4-datepicker .DayPicker-Day.DayPicker-Day--selected, .bp4-active {\n        background-color: ", " !important;\n      }\n      .bp4-table-quadrant, .bp4-table-cell-client, .bp4-table-row-headers {\n        background: inherit !important;\n      }\n      // for whatever reason they have a height of 0 sometimes, maybe MUI will fix this in v5\n      textarea.MuiInputBase-input {\n        min-height: 21px;\n      }\n      .MuiPaper-box-shadow {\n        box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12);\n      }\n      .MuiPaper-elevation0 {\n        background-color: ", ";\n      }\n      .MuiPaper-elevation8 {\n        background-color: ", ";\n      }\n      .MuiPaper-elevation6 {\n        background-color: ", ";\n      }\n      .MuiPaper-elevation16 {\n        background-color: ", ";\n      }\n      .MuiPaper-elevation2 {\n        border-width: 1px;\n        border-style: solid;\n        border-color: ", ";\n          background-color: ", ";\n      }\n      [data-behavior-dropdown] {\n        background-color: ", ";\n      }\n      .font-awesome-span {\n        && {\n          font-size: 1.4rem;\n          font-family: 'Open Sans', arial, sans-serif;\n        }\n        /* stylelint-disable */\n        &::before {\n          font-family: 'FontAwesome';\n          margin-left: 2px;\n          margin-right: 5px;\n        }\n      }\n      ::-webkit-scrollbar {\n        width: 8px;\n        height: 8px;\n      }\n      ::-webkit-scrollbar-track {\n        background: ", ";\n      }\n      ::-webkit-scrollbar-thumb {\n        background: ", ";\n            border-radius: 4px;\n      }\n      // fix an issue where focus is applied because of blueprint to popover papers\n      .MuiPaper-root:focus { \n        outline: none;\n      }\n      // Fix Mui styles \n      .MuiButton-endIcon {\n        margin-left: 0px;\n        margin-right: 0px;\n      }\n      .MuiButton-iconSizeSmall > svg {\n        font-size: 18px;\n        margin-top: 1px;\n      }\n      // Mui tailwind style\n      .Mui-icon-size-small {\n        font-size: 18px;\n      }\n      [disabled] .Mui-text-text-primary,\n      [disabled] .Mui-text-primary,\n      [disabled] .Mui-text-secondary {\n        color: ", ";\n      }\n      .Mui-text-text-primary {\n        color: ", ";\n      }\n      .Mui-text-primary {\n        color: ", ";\n      }\n      .Mui-text-secondary {\n        color: ", ";\n      }\n      .Mui-text-warning {\n        color: ", ";\n      }\n      .Mui-text-error {\n        color: ", ";\n      }\n      .Mui-bg-default {\n        background-color: ", ";\n      }\n      .Mui-bg-primary {\n        background-color: ", ";\n      }\n      .Mui-bg-secondary {\n        background-color: ", ";\n      }\n      .Mui-bg-divider {\n        background-color: ", ";\n      }\n      .Mui-border-divider {\n        border-color: ", ";\n      }\n      .Mui-bg-button:hover,\n      .Mui-bg-button:focus-within {\n        background: ", ";\n      }\n      .theme-bg-overlays {\n        background: ", ";\n      }\n      .children-max-h-full {\n        > * {\n          max-height: 100%;\n        }\n      }\n      .children-h-full {\n        > * {\n          height: 100%;\n        }\n      }\n      .children-block {\n        > * {\n          display: block;\n        }\n      }\n      .children-p-0 {\n        > * {\n          padding: 0px;\n        }\n      }\n      // idea is to have this track with subtracting margin / padding\n      .max-w-full-1 {\n        max-width: calc(100% - 2*0.25rem);\n      }\n      .max-w-full-2 {\n        max-width: calc(100% - 2*0.5rem);\n      }\n      .max-w-full-3 {\n        max-width: calc(100% - 2*0.75rem);\n      }\n      .max-w-full-4 {\n        max-width: calc(100% - 2*1rem);\n      }\n      .min-w-32 {\n        min-width: 8rem;\n      }\n      .min-w-16\t{\n        min-width: 4rem;\n      }\n    "], ["\n      .ol-overlaycontainer-stopevent {\n        display: none;\n      }\n      a {\n        color: inherit !important;\n      }\n      *.outline-none, a.outline-none, a, button{\n        outline: none !important; \n      }\n      span.highlight {\n        background-color: rgba(66, 110, 203, 0.40);\n      }\n      .MuiToolbar-root a,\n      .MuiToolbar-root .MuiBreadcrumbs-separator {\n        color: ", ";\n      }\n      .MuiDrawer-root a {\n        color: ", ";\n      }\n      .MuiTooltip-tooltip {\n        max-width: 50vw;\n        padding: 0px;\n        background-color: none;\n      }\n      .MuiFormControlLabel-labelPlacementStart {\n        margin-left: 0px;\n      }\n      @media (min-width: 600px) {\n        .MuiListItemIcon-root {\n          margin-left: 8px;\n        }\n      }\n      .lm_goldenlayout, .lm_content {\n        background: inherit;\n      }\n      .lm_splitter  {\n        background: ", ";\n        opacity: 1;\n      }\n      .lm_splitter:hover  {\n        background: ", " !important;\n      }\n      .lm_stack{\n        box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12);\n        background: ", " !important;\n        border-radius: 4px;\n        transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;\n      }\n      .lm_header {\n        z-index: 0 !important;\n        background: ", " !important;\n      }\n      .lm_tab.lm_active {\n        background: ", " !important;\n            box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12) !important;\n      }\n      .lm_tab, lm_tabs {\n        border-radius: 4px !important;\n        border-bottom-left-radius: 0px !important;\n        border-bottom-right-radius: 0px !important;\n      }\n      .lm_tab:not(.lm_active) {\n        color: ", " !important;\n        background: ", " !important;\n        button {\n          visibility: hidden;\n        }\n      }\n      .lm_tabs .lm_tab {\n        border: 1px solid fade(@contrastColor, 10%);\n        margin-right: 8px !important;\n        box-shadow: none !important;\n        padding: 0px !important;\n        height: 44px !important;\n        minWidth: 44px !important;\n      }\n      .lm_tabs .lm_tab:hover {\n        color: ", " !important;\n      }\n      .lm_header,\n      .lm_tabs .lm_tab,\n      .lm_tabdropdown:before {\n        color: ", " !important;\n      }\n      .is-drawing [role=\"tooltip\"], .is-drawing .MuiPopover-root {\n        display: none!important;\n      }\n      [role=\"tooltip\"] {\n        z-index: 101 !important;\n        pointer-events: all !important;\n      }\n      .bp3-portal {\n        z-index: 101 !important;\n      }\n      .bp3-popover-wrapper,.bp3-popover-target, .bp3-control-group {\n        width: 100%;\n      }\n      .bp3-control-group {\n        flex-wrap: wrap;\n      }\n      .bp3-control-group > div:first-of-type::after {\n        content: 'and';\n        display:block;\n        position: absolute;\n        left: 14px;\n        bottom: -25px;\n      }\n      .bp3-control-group > div:nth-of-type(2) {\n        margin-top: 30px;\n      }\n      .bp3-input-group input {\n        background: transparent !important; \n        box-shadow: none !important;\n        font-size: 1.1428571428571428rem !important;\n        padding: 0px !important;\n        height: 1.3125rem !important;\n        line-height: 1.15 !important;\n      }\n      .bp3-popover .bp3-popover-content, .bp3-popover .bp3-popover-content, .bp3-datepicker, .bp3-menu{\n        background: ", " !important;\n      }\n      .bp3-popover-arrow {\n        display: none !important;\n      }\n      .bp3-datepicker .DayPicker-Day.DayPicker-Day--selected, .bp3-active {\n        background-color: ", " !important;\n      }\n      .bp3-table-quadrant, .bp3-table-cell-client, .bp3-table-row-headers {\n        background: inherit !important;\n      }\n      .bp4-portal {\n        z-index: 101 !important;\n      }\n      .bp4-popover-wrapper,.bp4-popover-target, .bp4-control-group {\n        width: 100%;\n      }\n      .bp4-control-group {\n        flex-wrap: wrap;\n      }\n      .bp4-control-group > div:first-of-type::after {\n        content: 'and';\n        display:block;\n        position: absolute;\n        left: 14px;\n        bottom: -25px;\n      }\n      .bp4-control-group > div:nth-of-type(2) {\n        margin-top: 30px;\n      }\n      .bp4-input-group input {\n        background: transparent !important; \n        box-shadow: none !important;\n        font-size: 1.1428571428571428rem !important;\n        padding: 0px !important;\n        height: 1.3125rem !important;\n        line-height: 1.15 !important;\n      }\n      .bp4-popover .bp4-popover-content, .bp4-popover .bp4-popover-content, .bp4-datepicker, .bp4-menu{\n        background: ", " !important;\n      }\n      .bp4-popover-arrow {\n        display: none !important;\n      }\n      .bp4-datepicker .DayPicker-Day.DayPicker-Day--selected, .bp4-active {\n        background-color: ", " !important;\n      }\n      .bp4-table-quadrant, .bp4-table-cell-client, .bp4-table-row-headers {\n        background: inherit !important;\n      }\n      // for whatever reason they have a height of 0 sometimes, maybe MUI will fix this in v5\n      textarea.MuiInputBase-input {\n        min-height: 21px;\n      }\n      .MuiPaper-box-shadow {\n        box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2), 0px 6px 10px 0px rgba(0,0,0,0.14), 0px 1px 18px 0px rgba(0,0,0,0.12);\n      }\n      .MuiPaper-elevation0 {\n        background-color: ", ";\n      }\n      .MuiPaper-elevation8 {\n        background-color: ", ";\n      }\n      .MuiPaper-elevation6 {\n        background-color: ", ";\n      }\n      .MuiPaper-elevation16 {\n        background-color: ", ";\n      }\n      .MuiPaper-elevation2 {\n        border-width: 1px;\n        border-style: solid;\n        border-color: ", ";\n          background-color: ", ";\n      }\n      [data-behavior-dropdown] {\n        background-color: ", ";\n      }\n      .font-awesome-span {\n        && {\n          font-size: 1.4rem;\n          font-family: 'Open Sans', arial, sans-serif;\n        }\n        /* stylelint-disable */\n        &::before {\n          font-family: 'FontAwesome';\n          margin-left: 2px;\n          margin-right: 5px;\n        }\n      }\n      ::-webkit-scrollbar {\n        width: 8px;\n        height: 8px;\n      }\n      ::-webkit-scrollbar-track {\n        background: ", ";\n      }\n      ::-webkit-scrollbar-thumb {\n        background: ", ";\n            border-radius: 4px;\n      }\n      // fix an issue where focus is applied because of blueprint to popover papers\n      .MuiPaper-root:focus { \n        outline: none;\n      }\n      // Fix Mui styles \n      .MuiButton-endIcon {\n        margin-left: 0px;\n        margin-right: 0px;\n      }\n      .MuiButton-iconSizeSmall > svg {\n        font-size: 18px;\n        margin-top: 1px;\n      }\n      // Mui tailwind style\n      .Mui-icon-size-small {\n        font-size: 18px;\n      }\n      [disabled] .Mui-text-text-primary,\n      [disabled] .Mui-text-primary,\n      [disabled] .Mui-text-secondary {\n        color: ", ";\n      }\n      .Mui-text-text-primary {\n        color: ", ";\n      }\n      .Mui-text-primary {\n        color: ", ";\n      }\n      .Mui-text-secondary {\n        color: ", ";\n      }\n      .Mui-text-warning {\n        color: ", ";\n      }\n      .Mui-text-error {\n        color: ", ";\n      }\n      .Mui-bg-default {\n        background-color: ", ";\n      }\n      .Mui-bg-primary {\n        background-color: ", ";\n      }\n      .Mui-bg-secondary {\n        background-color: ", ";\n      }\n      .Mui-bg-divider {\n        background-color: ", ";\n      }\n      .Mui-border-divider {\n        border-color: ", ";\n      }\n      .Mui-bg-button:hover,\n      .Mui-bg-button:focus-within {\n        background: ", ";\n      }\n      .theme-bg-overlays {\n        background: ", ";\n      }\n      .children-max-h-full {\n        > * {\n          max-height: 100%;\n        }\n      }\n      .children-h-full {\n        > * {\n          height: 100%;\n        }\n      }\n      .children-block {\n        > * {\n          display: block;\n        }\n      }\n      .children-p-0 {\n        > * {\n          padding: 0px;\n        }\n      }\n      // idea is to have this track with subtracting margin / padding\n      .max-w-full-1 {\n        max-width: calc(100% - 2*0.25rem);\n      }\n      .max-w-full-2 {\n        max-width: calc(100% - 2*0.5rem);\n      }\n      .max-w-full-3 {\n        max-width: calc(100% - 2*0.75rem);\n      }\n      .max-w-full-4 {\n        max-width: calc(100% - 2*1rem);\n      }\n      .min-w-32 {\n        min-width: 8rem;\n      }\n      .min-w-16\t{\n        min-width: 4rem;\n      }\n    "])), function (props) {
    return props.palette.getContrastText(props.palette.primary.main);
}, function (props) {
    return props.palette.getContrastText(props.palette.background.paper);
}, function (props) { return props.palette.background.default; }, function (props) { return props.palette.primary.main; }, function (props) {
    return props.palette.mode === 'dark'
        ? dark.panels
        : light.panels;
}, function (props) {
    return props.palette.mode === 'dark'
        ? dark.background
        : light.background;
}, function (props) {
    return props.palette.mode === 'dark'
        ? dark.panels
        : light.panels;
}, function (props) {
    return props.palette.mode === 'dark'
        ? props.palette.text.secondary
        : props.palette.text.secondary;
}, function (props) {
    return props.palette.mode === 'dark' ? dark.tabs : light.tabs;
}, function (props) { return props.palette.text.primary; }, function (props) { return props.palette.text.primary; }, function (props) { return props.palette.background.paper; }, function (props) { return props.palette.primary.dark; }, function (props) { return props.palette.background.paper; }, function (props) { return props.palette.primary.dark; }, function (props) {
    return props.palette.mode === 'dark' ? dark.background : light.background;
}, function (props) {
    return props.palette.mode === 'dark' ? dark.navbar : light.navbar;
}, function (props) {
    return props.palette.mode === 'dark' ? dark.panels : light.panels;
}, function (props) {
    return props.palette.mode === 'dark' ? dark.overlays : light.overlays;
}, function (props) {
    return props.palette.mode === 'dark'
        ? props.palette.divider
        : props.palette.divider;
}, function (props) {
    return props.palette.mode === 'dark' ? dark.paper : light.paper;
}, function (props) {
    return props.palette.mode === 'dark' ? dark.overlays : light.overlays;
}, function (props) {
    return props.palette.mode === 'dark'
        ? 'rgb(30, 44, 53)'
        : 'rgb(229, 229, 229)';
}, function (props) {
    return props.palette.mode === 'dark'
        ? 'linear-gradient(-180deg, rgb(229, 229, 229) 0%, rgb(206, 206, 206) 100%)'
        : 'linear-gradient(-180deg, rgb(153, 153, 153) 0%, rgb(187, 187, 187) 100%)';
}, function (props) {
    return props.palette.mode === 'dark'
        ? 'rgba(255, 255, 255, 0.3)'
        : 'rgba(0, 0, 0, 0.26)';
}, function (props) { return props.palette.text.primary; }, function (props) { return props.palette.primary.main; }, function (props) { return props.palette.secondary.main; }, function (props) { return props.palette.warning.main; }, function (props) { return props.palette.error.main; }, function (props) { return props.palette.background.default; }, function (props) { return props.palette.primary.main; }, function (props) { return props.palette.secondary.main; }, function (props) { return props.palette.divider; }, function (props) { return props.palette.divider; }, function (props) {
    return props.palette.mode === 'dark'
        ? 'rgba(255, 255, 255, 0.08)'
        : 'rgba(0, 0, 0, 0.04)';
}, function (props) {
    return props.palette.mode === 'dark' ? dark.overlays : light.overlays;
});
var lightenUntilContrasting = function (color, background) {
    var passes = meetsContrastGuidelines(color, background);
    if (passes.AA) {
        return color;
    }
    return lightenUntilContrasting(lighten(color, 0.1), background);
};
var darkenUntilContrasting = function (color, background) {
    var passes = meetsContrastGuidelines(color, background);
    if (passes.AA) {
        return color;
    }
    return darkenUntilContrasting(darken(color, 0.1), background);
};
export var Provider = function (_a) {
    var children = _a.children;
    var styledTheme = React.useContext(ThemeContext);
    var darkMode = styledTheme.theme === 'dark';
    var paperColor = darkMode ? dark.paper : light.paper;
    var backgroundColor = darkMode ? dark.background : light.background;
    var customPalette = styledTheme.palette === 'custom' &&
        styledTheme.primary &&
        styledTheme.secondary;
    var primaryMain = customPalette
        ? styledTheme.primary
        : darkMode
            ? dark.primary
            : light.primary;
    var secondaryMain = customPalette
        ? styledTheme.secondary
        : darkMode
            ? dark.secondary
            : light.secondary;
    var primaryContrastScores = meetsContrastGuidelines(paperColor, primaryMain);
    var secondaryContrastScores = meetsContrastGuidelines(paperColor, secondaryMain);
    var failedContrastPrimaryReplacement = darkMode
        ? lightenUntilContrasting(primaryMain, paperColor)
        : darkenUntilContrasting(primaryMain, paperColor);
    var failedContrastSecondaryReplacement = darkMode
        ? lightenUntilContrasting(secondaryMain, paperColor)
        : darkenUntilContrasting(secondaryMain, paperColor);
    /**
     *  Specify theme settings that don't need variables from theme
     *
     *  We do things like the typography here because otherwise the defaults get applied to each individual typography component,
     *  meaning we'd have to specify overrides for each one.
     */
    var initialTheme = createTheme({
        palette: {
            mode: darkMode ? 'dark' : 'light',
            primary: {
                main: primaryMain,
            },
            secondary: {
                main: secondaryMain,
            },
            background: {
                default: backgroundColor,
                paper: paperColor,
            },
            grey: {
                // We do this to emulate v4 MUI behavior for default button color
                // @ts-ignore
                main: '#fff',
            },
        },
        // Typography must be set here to ensure all components use the same font
        typography: {
            fontFamily: "'Open Sans', arial, sans-serif",
            button: {
                textTransform: 'none',
            },
        },
        zIndex: {
            mobileStepper: 101,
            appBar: 101,
            drawer: 101,
            modal: 101,
            snackbar: 101,
            tooltip: 101,
            fab: 101,
            speedDial: 101,
        },
    });
    /**
     *  We split these out to so that we can access theme variables within our custom theme
     */
    var themeBasedTheme = {
        components: {
            MuiChip: {
                styleOverrides: {
                    root: {
                        fontSize: '1rem',
                    },
                },
            },
            MuiButton: {
                defaultProps: {
                    size: 'small',
                    color: 'grey',
                },
                variants: [
                    {
                        props: { variant: 'contained', color: 'grey' },
                        style: {
                            color: initialTheme.palette.getContrastText(initialTheme.palette.grey[300]),
                        },
                    },
                    {
                        props: { variant: 'outlined', color: 'grey' },
                        style: {
                            color: initialTheme.palette.text.primary,
                            borderColor: initialTheme.palette.mode === 'light'
                                ? 'rgba(0, 0, 0, 0.23)'
                                : 'rgba(255, 255, 255, 0.23)',
                            '&.Mui-disabled': {
                                border: "1px solid ".concat(initialTheme.palette.action.disabledBackground),
                            },
                            '&:hover': {
                                borderColor: initialTheme.palette.mode === 'light'
                                    ? 'rgba(0, 0, 0, 0.23)'
                                    : 'rgba(255, 255, 255, 0.23)',
                                backgroundColor: alpha(initialTheme.palette.text.primary, initialTheme.palette.action.hoverOpacity),
                            },
                        },
                    },
                    {
                        props: { color: 'grey', variant: 'text' },
                        style: {
                            color: initialTheme.palette.text.primary,
                            '&:hover': {
                                backgroundColor: alpha(initialTheme.palette.text.primary, initialTheme.palette.action.hoverOpacity),
                            },
                        },
                    },
                ],
                styleOverrides: __assign(__assign({ root: {
                        lineHeight: 'inherit', // maybe open a ticket on MUI, seems like the default they use doesn't center text quite right with icons
                        minWidth: '0px', // usually more annoying than not
                    } }, (primaryContrastScores.AA
                    ? { textPrimary: {} } // weird requirement due to types, need textPrimary here but empty
                    : {
                        textPrimary: {
                            color: failedContrastPrimaryReplacement,
                            '&:hover': {
                                backgroundColor: alpha(failedContrastPrimaryReplacement, 0.1),
                                // Reset on touch devices, it doesn't add specificity
                                '@media (hover: none)': {
                                    backgroundColor: 'transparent',
                                },
                            },
                        },
                    })), (secondaryContrastScores.AA
                    ? { textSecondary: {} } // weird requirement due to types, need textPrimary here but empty
                    : {
                        textSecondary: {
                            color: failedContrastSecondaryReplacement,
                            '&:hover': {
                                backgroundColor: alpha(failedContrastSecondaryReplacement, 0.1),
                                // Reset on touch devices, it doesn't add specificity
                                '@media (hover: none)': {
                                    backgroundColor: 'transparent',
                                },
                            },
                        },
                    })),
            },
            MuiCardActionArea: {
                styleOverrides: {
                    root: {
                        height: 'auto',
                    },
                },
            },
            MuiCardHeader: {
                styleOverrides: {
                    content: {
                        minWidth: '0px',
                    },
                },
            },
            MuiPaper: {
                styleOverrides: {
                    root: { backgroundImage: 'unset' },
                },
            },
            MuiTooltip: {
                styleOverrides: {
                    tooltip: {
                        fontSize: '1rem',
                    },
                },
            },
        },
    };
    var theme = createTheme(initialTheme, themeBasedTheme);
    React.useEffect(function () {
        var htmlElement = document.querySelector('html');
        if (styledTheme.theme === 'dark') {
            htmlElement.classList.add('bp3-dark');
            htmlElement.classList.add('bp4-dark');
            htmlElement.classList.add('theme-dark');
            htmlElement.classList.add('dark');
        }
        else {
            htmlElement.classList.remove('bp3-dark');
            htmlElement.classList.remove('bp4-dark');
            htmlElement.classList.remove('theme-dark');
            htmlElement.classList.remove('dark');
        }
    }, [styledTheme.theme]);
    useRemoveFocusStyle();
    return (_jsxs(_Fragment, { children: [_jsx(GlobalStyles, __assign({}, theme)), _jsx(StyledEngineProvider, { injectFirst: true, children: _jsx(ThemeProvider, { theme: theme, children: children }) })] }));
};
var templateObject_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50L3RoZW1lL3RoZW1lLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFBO0FBQzlCLE9BQU8sRUFDTCxXQUFXLEVBQ1gsYUFBYSxFQUNiLG9CQUFvQixFQUNwQixNQUFNLEVBSU4sT0FBTyxFQUNQLEtBQUssR0FFTixNQUFNLHNCQUFzQixDQUFBO0FBQzdCLE9BQU8sRUFBZ0IsWUFBWSxFQUFFLE1BQU0sbUJBQW1CLENBQUE7QUFDOUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sbUJBQW1CLENBQUE7QUFDckQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2xELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHlCQUF5QixDQUFBO0FBYTdELGlCQUFpQjtBQUNqQiwrQkFBK0I7QUFDL0IsMkJBQTJCO0FBQzNCLHVCQUF1QjtBQUN2Qix1QkFBdUI7QUFDdkIseUJBQXlCO0FBQ3pCLHNCQUFzQjtBQUN0Qix3QkFBd0I7QUFDeEIsMEJBQTBCO0FBQzFCLElBQUk7QUFFSixNQUFNLENBQUMsSUFBTSxJQUFJLEdBQVU7SUFDekIsVUFBVSxFQUFFLFNBQVM7SUFDckIsTUFBTSxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDO0lBQzlCLE1BQU0sRUFBRSxTQUFTLEVBQUUsU0FBUztJQUM1QixRQUFRLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUM7SUFDaEMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDO0lBQzdCLElBQUksRUFBRSxNQUFNLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQztJQUM1QixPQUFPLEVBQUUsU0FBUztJQUNsQixTQUFTLEVBQUUsU0FBUztDQUNyQixDQUFB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TSxDQUFDLFlBQVksQ0FBQyxDQUFBO1lBQzFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ3RDLENBQUM7SUFDSCxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtJQUN2QixtQkFBbUIsRUFBRSxDQUFBO0lBQ3JCLE9BQU8sQ0FDTCw4QkFDRSxLQUFDLFlBQVksZUFBSyxLQUFLLEVBQUksRUFDM0IsS0FBQyxvQkFBb0IsSUFBQyxXQUFXLGtCQUMvQixLQUFDLGFBQWEsSUFBQyxLQUFLLEVBQUUsS0FBSyxZQUFHLFFBQVEsR0FBaUIsR0FDbEMsSUFDdEIsQ0FDSixDQUFBO0FBQ0gsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQge1xuICBjcmVhdGVUaGVtZSxcbiAgVGhlbWVQcm92aWRlcixcbiAgU3R5bGVkRW5naW5lUHJvdmlkZXIsXG4gIGRhcmtlbixcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciB0cy1taWdyYXRlKDYxMzMpIEZJWE1FOiAnZ2V0Q29udHJhc3RSYXRpbycgaXMgZGVjbGFyZWQgYnV0IGl0cyB2YWx1ZSBpcyBuZS4uLiBSZW1vdmUgdGhpcyBjb21tZW50IHRvIHNlZSB0aGUgZnVsbCBlcnJvciBtZXNzYWdlXG4gIGdldENvbnRyYXN0UmF0aW8sXG4gIFRoZW1lIGFzIFRoZW1lSW50ZXJmYWNlLFxuICBsaWdodGVuLFxuICBhbHBoYSxcbiAgVGhlbWVPcHRpb25zLFxufSBmcm9tICdAbXVpL21hdGVyaWFsL3N0eWxlcydcbmltcG9ydCB7IERlZmF1bHRUaGVtZSwgVGhlbWVDb250ZXh0IH0gZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnXG5pbXBvcnQgeyBjcmVhdGVHbG9iYWxTdHlsZSB9IGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuaW1wb3J0IHsgbWVldHNDb250cmFzdEd1aWRlbGluZXMgfSBmcm9tICdwb2xpc2hlZCdcbmltcG9ydCB7IHVzZVJlbW92ZUZvY3VzU3R5bGUgfSBmcm9tICcuLi9hcHAvYmx1ZXByaW50LmFkanVzdCdcblxudHlwZSBUaGVtZSA9IHtcbiAgcHJpbWFyeTogc3RyaW5nXG4gIHNlY29uZGFyeTogc3RyaW5nXG4gIGJhY2tncm91bmQ6IHN0cmluZ1xuICBuYXZiYXI6IHN0cmluZ1xuICBwYW5lbHM6IHN0cmluZ1xuICBvdmVybGF5czogc3RyaW5nXG4gIHBhcGVyOiBzdHJpbmdcbiAgdGFiczogc3RyaW5nXG59XG5cbi8vIC8vIG9jdG8gY29sb3JzXG4vLyBleHBvcnQgY29uc3QgZGFyazogVGhlbWUgPSB7XG4vLyAgIGJhY2tncm91bmQ6ICcjRjM4ODMyJyxcbi8vICAgbmF2YmFyOiAnIzJCM0E0OScsXG4vLyAgIHBhbmVsczogJyMzQTRBNTQnLFxuLy8gICBvdmVybGF5czogJyM0NzVBNjYnLFxuLy8gICBwYXBlcjogJyMyMTMxMzcnLFxuLy8gICBwcmltYXJ5OiAnIzU4OWRkNScsXG4vLyAgIHNlY29uZGFyeTogJyM1ODlkZDUnLFxuLy8gfVxuXG5leHBvcnQgY29uc3QgZGFyazogVGhlbWUgPSB7XG4gIGJhY2tncm91bmQ6ICcjMEIxODIxJyxcbiAgbmF2YmFyOiBkYXJrZW4oJyMzNjUxNjAnLCAwLjIpLFxuICBwYW5lbHM6ICcjMjQzNTQwJywgLy8gMjQzNTQwXG4gIG92ZXJsYXlzOiBkYXJrZW4oJyMzNjUxNjAnLCAwLjEpLFxuICBwYXBlcjogZGFya2VuKCcjMzY1MTYwJywgMC4yKSxcbiAgdGFiczogZGFya2VuKCcjMjQzNTQwJywgMC4zKSxcbiAgcHJpbWFyeTogJyM2OUUxRTgnLFxuICBzZWNvbmRhcnk6ICcjMjE5NmYzJyxcbn1cblxuZXhwb3J0IGNvbnN0IGxpZ2h0OiBUaGVtZSA9IHtcbiAgcHJpbWFyeTogJyMzYzZkZDUnLFxuICBzZWNvbmRhcnk6ICcjMjE5NmYzJyxcbiAgYmFja2dyb3VuZDogJyNFNUU1RTUnLCAvLyBlbGV2YXRpb24gMFxuICBuYXZiYXI6ICcjZmFmYmZjJywgLy8gZWxldmF0aW9uIDhcbiAgcGFuZWxzOiAnI0ZDRkNGQycsIC8vIGVsZXZhdGlvbiA2XG4gIHRhYnM6IGRhcmtlbignI0ZDRkNGQycsIDAuMDUpLFxuICBvdmVybGF5czogJyNGQ0ZDRkMnLCAvLyBlbGV2YXRpb24gMTZcbiAgcGFwZXI6ICcjRkNGQ0ZDJyxcbn1cblxuZXhwb3J0IGNvbnN0IEVsZXZhdGlvbnMgPSB7XG4gIG5hdmJhcjogOCxcbiAgYmFja2dyb3VuZDogMCxcbiAgcGFwZXI6IDIsXG4gIHBhbmVsczogNixcbiAgb3ZlcmxheXM6IDE2LFxufVxuXG5leHBvcnQgY29uc3QgTXVpT3V0bGluZWRJbnB1dEJvcmRlckNsYXNzZXMgPVxuICAncHgtWzE0cHhdIHB5LVs4LjVweF0gYm9yZGVyIHJvdW5kZWQgZGFyazpib3JkZXItd2hpdGUvMjAgYm9yZGVyLWJsYWNrLzIwIGRhcms6aG92ZXI6Ym9yZGVyLXdoaXRlIGhvdmVyOmJvcmRlci1ibGFjaydcblxuY29uc3QgR2xvYmFsU3R5bGVzID0gY3JlYXRlR2xvYmFsU3R5bGU8VGhlbWVJbnRlcmZhY2U+YFxuICAgICAgLm9sLW92ZXJsYXljb250YWluZXItc3RvcGV2ZW50IHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIH1cbiAgICAgIGEge1xuICAgICAgICBjb2xvcjogaW5oZXJpdCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgKi5vdXRsaW5lLW5vbmUsIGEub3V0bGluZS1ub25lLCBhLCBidXR0b257XG4gICAgICAgIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDsgXG4gICAgICB9XG4gICAgICBzcGFuLmhpZ2hsaWdodCB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjYsIDExMCwgMjAzLCAwLjQwKTtcbiAgICAgIH1cbiAgICAgIC5NdWlUb29sYmFyLXJvb3QgYSxcbiAgICAgIC5NdWlUb29sYmFyLXJvb3QgLk11aUJyZWFkY3J1bWJzLXNlcGFyYXRvciB7XG4gICAgICAgIGNvbG9yOiAkeyhwcm9wcykgPT5cbiAgICAgICAgICBwcm9wcy5wYWxldHRlLmdldENvbnRyYXN0VGV4dChwcm9wcy5wYWxldHRlLnByaW1hcnkubWFpbil9O1xuICAgICAgfVxuICAgICAgLk11aURyYXdlci1yb290IGEge1xuICAgICAgICBjb2xvcjogJHsocHJvcHMpID0+XG4gICAgICAgICAgcHJvcHMucGFsZXR0ZS5nZXRDb250cmFzdFRleHQocHJvcHMucGFsZXR0ZS5iYWNrZ3JvdW5kLnBhcGVyKX07XG4gICAgICB9XG4gICAgICAuTXVpVG9vbHRpcC10b29sdGlwIHtcbiAgICAgICAgbWF4LXdpZHRoOiA1MHZ3O1xuICAgICAgICBwYWRkaW5nOiAwcHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IG5vbmU7XG4gICAgICB9XG4gICAgICAuTXVpRm9ybUNvbnRyb2xMYWJlbC1sYWJlbFBsYWNlbWVudFN0YXJ0IHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDBweDtcbiAgICAgIH1cbiAgICAgIEBtZWRpYSAobWluLXdpZHRoOiA2MDBweCkge1xuICAgICAgICAuTXVpTGlzdEl0ZW1JY29uLXJvb3Qge1xuICAgICAgICAgIG1hcmdpbi1sZWZ0OiA4cHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC5sbV9nb2xkZW5sYXlvdXQsIC5sbV9jb250ZW50IHtcbiAgICAgICAgYmFja2dyb3VuZDogaW5oZXJpdDtcbiAgICAgIH1cbiAgICAgIC5sbV9zcGxpdHRlciAge1xuICAgICAgICBiYWNrZ3JvdW5kOiAkeyhwcm9wcykgPT4gcHJvcHMucGFsZXR0ZS5iYWNrZ3JvdW5kLmRlZmF1bHR9O1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgfVxuICAgICAgLmxtX3NwbGl0dGVyOmhvdmVyICB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7KHByb3BzKSA9PiBwcm9wcy5wYWxldHRlLnByaW1hcnkubWFpbn0gIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5sbV9zdGFja3tcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDJweCAxcHggLTFweCByZ2JhKDAsMCwwLDAuMiksIDBweCAxcHggMXB4IDBweCByZ2JhKDAsMCwwLDAuMTQpLCAwcHggMXB4IDNweCAwcHggcmdiYSgwLDAsMCwwLjEyKTtcbiAgICAgICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+XG4gICAgICAgICAgcHJvcHMucGFsZXR0ZS5tb2RlID09PSAnZGFyaydcbiAgICAgICAgICAgID8gZGFyay5wYW5lbHNcbiAgICAgICAgICAgIDogbGlnaHQucGFuZWxzfSAhaW1wb3J0YW50O1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIHRyYW5zaXRpb246IGJveC1zaGFkb3cgMzAwbXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKSAwbXM7XG4gICAgICB9XG4gICAgICAubG1faGVhZGVyIHtcbiAgICAgICAgei1pbmRleDogMCAhaW1wb3J0YW50O1xuICAgICAgICBiYWNrZ3JvdW5kOiAkeyhwcm9wcykgPT5cbiAgICAgICAgICBwcm9wcy5wYWxldHRlLm1vZGUgPT09ICdkYXJrJ1xuICAgICAgICAgICAgPyBkYXJrLmJhY2tncm91bmRcbiAgICAgICAgICAgIDogbGlnaHQuYmFja2dyb3VuZH0gIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5sbV90YWIubG1fYWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+XG4gICAgICAgICAgcHJvcHMucGFsZXR0ZS5tb2RlID09PSAnZGFyaydcbiAgICAgICAgICAgID8gZGFyay5wYW5lbHNcbiAgICAgICAgICAgIDogbGlnaHQucGFuZWxzfSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDJweCAxcHggLTFweCByZ2JhKDAsMCwwLDAuMiksIDBweCAxcHggMXB4IDBweCByZ2JhKDAsMCwwLDAuMTQpLCAwcHggMXB4IDNweCAwcHggcmdiYSgwLDAsMCwwLjEyKSAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgLmxtX3RhYiwgbG1fdGFicyB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweCAhaW1wb3J0YW50O1xuICAgICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAwcHggIWltcG9ydGFudDtcbiAgICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDBweCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgLmxtX3RhYjpub3QoLmxtX2FjdGl2ZSkge1xuICAgICAgICBjb2xvcjogJHsocHJvcHMpID0+XG4gICAgICAgICAgcHJvcHMucGFsZXR0ZS5tb2RlID09PSAnZGFyaydcbiAgICAgICAgICAgID8gcHJvcHMucGFsZXR0ZS50ZXh0LnNlY29uZGFyeVxuICAgICAgICAgICAgOiBwcm9wcy5wYWxldHRlLnRleHQuc2Vjb25kYXJ5fSAhaW1wb3J0YW50O1xuICAgICAgICBiYWNrZ3JvdW5kOiAkeyhwcm9wcykgPT5cbiAgICAgICAgICBwcm9wcy5wYWxldHRlLm1vZGUgPT09ICdkYXJrJyA/IGRhcmsudGFicyA6IGxpZ2h0LnRhYnN9ICFpbXBvcnRhbnQ7XG4gICAgICAgIGJ1dHRvbiB7XG4gICAgICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAubG1fdGFicyAubG1fdGFiIHtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgZmFkZShAY29udHJhc3RDb2xvciwgMTAlKTtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiA4cHggIWltcG9ydGFudDtcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDtcbiAgICAgICAgaGVpZ2h0OiA0NHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1pbldpZHRoOiA0NHB4ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAubG1fdGFicyAubG1fdGFiOmhvdmVyIHtcbiAgICAgICAgY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy5wYWxldHRlLnRleHQucHJpbWFyeX0gIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5sbV9oZWFkZXIsXG4gICAgICAubG1fdGFicyAubG1fdGFiLFxuICAgICAgLmxtX3RhYmRyb3Bkb3duOmJlZm9yZSB7XG4gICAgICAgIGNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMucGFsZXR0ZS50ZXh0LnByaW1hcnl9ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAuaXMtZHJhd2luZyBbcm9sZT1cInRvb2x0aXBcIl0sIC5pcy1kcmF3aW5nIC5NdWlQb3BvdmVyLXJvb3Qge1xuICAgICAgICBkaXNwbGF5OiBub25lIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIFtyb2xlPVwidG9vbHRpcFwiXSB7XG4gICAgICAgIHotaW5kZXg6IDEwMSAhaW1wb3J0YW50O1xuICAgICAgICBwb2ludGVyLWV2ZW50czogYWxsICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAuYnAzLXBvcnRhbCB7XG4gICAgICAgIHotaW5kZXg6IDEwMSAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgLmJwMy1wb3BvdmVyLXdyYXBwZXIsLmJwMy1wb3BvdmVyLXRhcmdldCwgLmJwMy1jb250cm9sLWdyb3VwIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB9XG4gICAgICAuYnAzLWNvbnRyb2wtZ3JvdXAge1xuICAgICAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgICB9XG4gICAgICAuYnAzLWNvbnRyb2wtZ3JvdXAgPiBkaXY6Zmlyc3Qtb2YtdHlwZTo6YWZ0ZXIge1xuICAgICAgICBjb250ZW50OiAnYW5kJztcbiAgICAgICAgZGlzcGxheTpibG9jaztcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBsZWZ0OiAxNHB4O1xuICAgICAgICBib3R0b206IC0yNXB4O1xuICAgICAgfVxuICAgICAgLmJwMy1jb250cm9sLWdyb3VwID4gZGl2Om50aC1vZi10eXBlKDIpIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMzBweDtcbiAgICAgIH1cbiAgICAgIC5icDMtaW5wdXQtZ3JvdXAgaW5wdXQge1xuICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCAhaW1wb3J0YW50OyBcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICBmb250LXNpemU6IDEuMTQyODU3MTQyODU3MTQyOHJlbSAhaW1wb3J0YW50O1xuICAgICAgICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDtcbiAgICAgICAgaGVpZ2h0OiAxLjMxMjVyZW0gIWltcG9ydGFudDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuMTUgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5icDMtcG9wb3ZlciAuYnAzLXBvcG92ZXItY29udGVudCwgLmJwMy1wb3BvdmVyIC5icDMtcG9wb3Zlci1jb250ZW50LCAuYnAzLWRhdGVwaWNrZXIsIC5icDMtbWVudXtcbiAgICAgICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+IHByb3BzLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcn0gIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5icDMtcG9wb3Zlci1hcnJvdyB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5icDMtZGF0ZXBpY2tlciAuRGF5UGlja2VyLURheS5EYXlQaWNrZXItRGF5LS1zZWxlY3RlZCwgLmJwMy1hY3RpdmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMucGFsZXR0ZS5wcmltYXJ5LmRhcmt9ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAuYnAzLXRhYmxlLXF1YWRyYW50LCAuYnAzLXRhYmxlLWNlbGwtY2xpZW50LCAuYnAzLXRhYmxlLXJvdy1oZWFkZXJzIHtcbiAgICAgICAgYmFja2dyb3VuZDogaW5oZXJpdCAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgLmJwNC1wb3J0YWwge1xuICAgICAgICB6LWluZGV4OiAxMDEgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC5icDQtcG9wb3Zlci13cmFwcGVyLC5icDQtcG9wb3Zlci10YXJnZXQsIC5icDQtY29udHJvbC1ncm91cCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgfVxuICAgICAgLmJwNC1jb250cm9sLWdyb3VwIHtcbiAgICAgICAgZmxleC13cmFwOiB3cmFwO1xuICAgICAgfVxuICAgICAgLmJwNC1jb250cm9sLWdyb3VwID4gZGl2OmZpcnN0LW9mLXR5cGU6OmFmdGVyIHtcbiAgICAgICAgY29udGVudDogJ2FuZCc7XG4gICAgICAgIGRpc3BsYXk6YmxvY2s7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgbGVmdDogMTRweDtcbiAgICAgICAgYm90dG9tOiAtMjVweDtcbiAgICAgIH1cbiAgICAgIC5icDQtY29udHJvbC1ncm91cCA+IGRpdjpudGgtb2YtdHlwZSgyKSB7XG4gICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgICB9XG4gICAgICAuYnA0LWlucHV0LWdyb3VwIGlucHV0IHtcbiAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDsgXG4gICAgICAgIGJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgZm9udC1zaXplOiAxLjE0Mjg1NzE0Mjg1NzE0MjhyZW0gIWltcG9ydGFudDtcbiAgICAgICAgcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGhlaWdodDogMS4zMTI1cmVtICFpbXBvcnRhbnQ7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxLjE1ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAuYnA0LXBvcG92ZXIgLmJwNC1wb3BvdmVyLWNvbnRlbnQsIC5icDQtcG9wb3ZlciAuYnA0LXBvcG92ZXItY29udGVudCwgLmJwNC1kYXRlcGlja2VyLCAuYnA0LW1lbnV7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7KHByb3BzKSA9PiBwcm9wcy5wYWxldHRlLmJhY2tncm91bmQucGFwZXJ9ICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAuYnA0LXBvcG92ZXItYXJyb3cge1xuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgICAuYnA0LWRhdGVwaWNrZXIgLkRheVBpY2tlci1EYXkuRGF5UGlja2VyLURheS0tc2VsZWN0ZWQsIC5icDQtYWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnBhbGV0dGUucHJpbWFyeS5kYXJrfSAhaW1wb3J0YW50O1xuICAgICAgfVxuICAgICAgLmJwNC10YWJsZS1xdWFkcmFudCwgLmJwNC10YWJsZS1jZWxsLWNsaWVudCwgLmJwNC10YWJsZS1yb3ctaGVhZGVycyB7XG4gICAgICAgIGJhY2tncm91bmQ6IGluaGVyaXQgIWltcG9ydGFudDtcbiAgICAgIH1cbiAgICAgIC8vIGZvciB3aGF0ZXZlciByZWFzb24gdGhleSBoYXZlIGEgaGVpZ2h0IG9mIDAgc29tZXRpbWVzLCBtYXliZSBNVUkgd2lsbCBmaXggdGhpcyBpbiB2NVxuICAgICAgdGV4dGFyZWEuTXVpSW5wdXRCYXNlLWlucHV0IHtcbiAgICAgICAgbWluLWhlaWdodDogMjFweDtcbiAgICAgIH1cbiAgICAgIC5NdWlQYXBlci1ib3gtc2hhZG93IHtcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDNweCA1cHggLTFweCByZ2JhKDAsMCwwLDAuMiksIDBweCA2cHggMTBweCAwcHggcmdiYSgwLDAsMCwwLjE0KSwgMHB4IDFweCAxOHB4IDBweCByZ2JhKDAsMCwwLDAuMTIpO1xuICAgICAgfVxuICAgICAgLk11aVBhcGVyLWVsZXZhdGlvbjAge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkeyhwcm9wcykgPT5cbiAgICAgICAgICBwcm9wcy5wYWxldHRlLm1vZGUgPT09ICdkYXJrJyA/IGRhcmsuYmFja2dyb3VuZCA6IGxpZ2h0LmJhY2tncm91bmR9O1xuICAgICAgfVxuICAgICAgLk11aVBhcGVyLWVsZXZhdGlvbjgge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkeyhwcm9wcykgPT5cbiAgICAgICAgICBwcm9wcy5wYWxldHRlLm1vZGUgPT09ICdkYXJrJyA/IGRhcmsubmF2YmFyIDogbGlnaHQubmF2YmFyfTtcbiAgICAgIH1cbiAgICAgIC5NdWlQYXBlci1lbGV2YXRpb242IHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHsocHJvcHMpID0+XG4gICAgICAgICAgcHJvcHMucGFsZXR0ZS5tb2RlID09PSAnZGFyaycgPyBkYXJrLnBhbmVscyA6IGxpZ2h0LnBhbmVsc307XG4gICAgICB9XG4gICAgICAuTXVpUGFwZXItZWxldmF0aW9uMTYge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkeyhwcm9wcykgPT5cbiAgICAgICAgICBwcm9wcy5wYWxldHRlLm1vZGUgPT09ICdkYXJrJyA/IGRhcmsub3ZlcmxheXMgOiBsaWdodC5vdmVybGF5c307XG4gICAgICB9XG4gICAgICAuTXVpUGFwZXItZWxldmF0aW9uMiB7XG4gICAgICAgIGJvcmRlci13aWR0aDogMXB4O1xuICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xuICAgICAgICBib3JkZXItY29sb3I6ICR7KHByb3BzKSA9PlxuICAgICAgICAgIHByb3BzLnBhbGV0dGUubW9kZSA9PT0gJ2RhcmsnXG4gICAgICAgICAgICA/IHByb3BzLnBhbGV0dGUuZGl2aWRlclxuICAgICAgICAgICAgOiBwcm9wcy5wYWxldHRlLmRpdmlkZXJ9O1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7KHByb3BzKSA9PlxuICAgICAgICAgICAgcHJvcHMucGFsZXR0ZS5tb2RlID09PSAnZGFyaycgPyBkYXJrLnBhcGVyIDogbGlnaHQucGFwZXJ9O1xuICAgICAgfVxuICAgICAgW2RhdGEtYmVoYXZpb3ItZHJvcGRvd25dIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHsocHJvcHMpID0+XG4gICAgICAgICAgcHJvcHMucGFsZXR0ZS5tb2RlID09PSAnZGFyaycgPyBkYXJrLm92ZXJsYXlzIDogbGlnaHQub3ZlcmxheXN9O1xuICAgICAgfVxuICAgICAgLmZvbnQtYXdlc29tZS1zcGFuIHtcbiAgICAgICAgJiYge1xuICAgICAgICAgIGZvbnQtc2l6ZTogMS40cmVtO1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiAnT3BlbiBTYW5zJywgYXJpYWwsIHNhbnMtc2VyaWY7XG4gICAgICAgIH1cbiAgICAgICAgLyogc3R5bGVsaW50LWRpc2FibGUgKi9cbiAgICAgICAgJjo6YmVmb3JlIHtcbiAgICAgICAgICBmb250LWZhbWlseTogJ0ZvbnRBd2Vzb21lJztcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMnB4O1xuICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgICAgd2lkdGg6IDhweDtcbiAgICAgICAgaGVpZ2h0OiA4cHg7XG4gICAgICB9XG4gICAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgICAgICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+XG4gICAgICAgICAgcHJvcHMucGFsZXR0ZS5tb2RlID09PSAnZGFyaydcbiAgICAgICAgICAgID8gJ3JnYigzMCwgNDQsIDUzKSdcbiAgICAgICAgICAgIDogJ3JnYigyMjksIDIyOSwgMjI5KSd9O1xuICAgICAgfVxuICAgICAgOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XG4gICAgICAgIGJhY2tncm91bmQ6ICR7KHByb3BzKSA9PlxuICAgICAgICAgIHByb3BzLnBhbGV0dGUubW9kZSA9PT0gJ2RhcmsnXG4gICAgICAgICAgICA/ICdsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywgcmdiKDIyOSwgMjI5LCAyMjkpIDAlLCByZ2IoMjA2LCAyMDYsIDIwNikgMTAwJSknXG4gICAgICAgICAgICA6ICdsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywgcmdiKDE1MywgMTUzLCAxNTMpIDAlLCByZ2IoMTg3LCAxODcsIDE4NykgMTAwJSknfTtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgIH1cbiAgICAgIC8vIGZpeCBhbiBpc3N1ZSB3aGVyZSBmb2N1cyBpcyBhcHBsaWVkIGJlY2F1c2Ugb2YgYmx1ZXByaW50IHRvIHBvcG92ZXIgcGFwZXJzXG4gICAgICAuTXVpUGFwZXItcm9vdDpmb2N1cyB7IFxuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuICAgICAgLy8gRml4IE11aSBzdHlsZXMgXG4gICAgICAuTXVpQnV0dG9uLWVuZEljb24ge1xuICAgICAgICBtYXJnaW4tbGVmdDogMHB4O1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDBweDtcbiAgICAgIH1cbiAgICAgIC5NdWlCdXR0b24taWNvblNpemVTbWFsbCA+IHN2ZyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgICAgbWFyZ2luLXRvcDogMXB4O1xuICAgICAgfVxuICAgICAgLy8gTXVpIHRhaWx3aW5kIHN0eWxlXG4gICAgICAuTXVpLWljb24tc2l6ZS1zbWFsbCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICAgIH1cbiAgICAgIFtkaXNhYmxlZF0gLk11aS10ZXh0LXRleHQtcHJpbWFyeSxcbiAgICAgIFtkaXNhYmxlZF0gLk11aS10ZXh0LXByaW1hcnksXG4gICAgICBbZGlzYWJsZWRdIC5NdWktdGV4dC1zZWNvbmRhcnkge1xuICAgICAgICBjb2xvcjogJHsocHJvcHMpID0+XG4gICAgICAgICAgcHJvcHMucGFsZXR0ZS5tb2RlID09PSAnZGFyaydcbiAgICAgICAgICAgID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4zKSdcbiAgICAgICAgICAgIDogJ3JnYmEoMCwgMCwgMCwgMC4yNiknfTtcbiAgICAgIH1cbiAgICAgIC5NdWktdGV4dC10ZXh0LXByaW1hcnkge1xuICAgICAgICBjb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnBhbGV0dGUudGV4dC5wcmltYXJ5fTtcbiAgICAgIH1cbiAgICAgIC5NdWktdGV4dC1wcmltYXJ5IHtcbiAgICAgICAgY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy5wYWxldHRlLnByaW1hcnkubWFpbn07XG4gICAgICB9XG4gICAgICAuTXVpLXRleHQtc2Vjb25kYXJ5IHtcbiAgICAgICAgY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy5wYWxldHRlLnNlY29uZGFyeS5tYWlufTtcbiAgICAgIH1cbiAgICAgIC5NdWktdGV4dC13YXJuaW5nIHtcbiAgICAgICAgY29sb3I6ICR7KHByb3BzKSA9PiBwcm9wcy5wYWxldHRlLndhcm5pbmcubWFpbn07XG4gICAgICB9XG4gICAgICAuTXVpLXRleHQtZXJyb3Ige1xuICAgICAgICBjb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnBhbGV0dGUuZXJyb3IubWFpbn07XG4gICAgICB9XG4gICAgICAuTXVpLWJnLWRlZmF1bHQge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMucGFsZXR0ZS5iYWNrZ3JvdW5kLmRlZmF1bHR9O1xuICAgICAgfVxuICAgICAgLk11aS1iZy1wcmltYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnBhbGV0dGUucHJpbWFyeS5tYWlufTtcbiAgICAgIH1cbiAgICAgIC5NdWktYmctc2Vjb25kYXJ5IHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW59O1xuICAgICAgfVxuICAgICAgLk11aS1iZy1kaXZpZGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHsocHJvcHMpID0+IHByb3BzLnBhbGV0dGUuZGl2aWRlcn07XG4gICAgICB9XG4gICAgICAuTXVpLWJvcmRlci1kaXZpZGVyIHtcbiAgICAgICAgYm9yZGVyLWNvbG9yOiAkeyhwcm9wcykgPT4gcHJvcHMucGFsZXR0ZS5kaXZpZGVyfTtcbiAgICAgIH1cbiAgICAgIC5NdWktYmctYnV0dG9uOmhvdmVyLFxuICAgICAgLk11aS1iZy1idXR0b246Zm9jdXMtd2l0aGluIHtcbiAgICAgICAgYmFja2dyb3VuZDogJHsocHJvcHMpID0+XG4gICAgICAgICAgcHJvcHMucGFsZXR0ZS5tb2RlID09PSAnZGFyaydcbiAgICAgICAgICAgID8gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4wOCknXG4gICAgICAgICAgICA6ICdyZ2JhKDAsIDAsIDAsIDAuMDQpJ307XG4gICAgICB9XG4gICAgICAudGhlbWUtYmctb3ZlcmxheXMge1xuICAgICAgICBiYWNrZ3JvdW5kOiAkeyhwcm9wcykgPT5cbiAgICAgICAgICBwcm9wcy5wYWxldHRlLm1vZGUgPT09ICdkYXJrJyA/IGRhcmsub3ZlcmxheXMgOiBsaWdodC5vdmVybGF5c307XG4gICAgICB9XG4gICAgICAuY2hpbGRyZW4tbWF4LWgtZnVsbCB7XG4gICAgICAgID4gKiB7XG4gICAgICAgICAgbWF4LWhlaWdodDogMTAwJTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLmNoaWxkcmVuLWgtZnVsbCB7XG4gICAgICAgID4gKiB7XG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuY2hpbGRyZW4tYmxvY2sge1xuICAgICAgICA+ICoge1xuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAuY2hpbGRyZW4tcC0wIHtcbiAgICAgICAgPiAqIHtcbiAgICAgICAgICBwYWRkaW5nOiAwcHg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGlkZWEgaXMgdG8gaGF2ZSB0aGlzIHRyYWNrIHdpdGggc3VidHJhY3RpbmcgbWFyZ2luIC8gcGFkZGluZ1xuICAgICAgLm1heC13LWZ1bGwtMSB7XG4gICAgICAgIG1heC13aWR0aDogY2FsYygxMDAlIC0gMiowLjI1cmVtKTtcbiAgICAgIH1cbiAgICAgIC5tYXgtdy1mdWxsLTIge1xuICAgICAgICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIqMC41cmVtKTtcbiAgICAgIH1cbiAgICAgIC5tYXgtdy1mdWxsLTMge1xuICAgICAgICBtYXgtd2lkdGg6IGNhbGMoMTAwJSAtIDIqMC43NXJlbSk7XG4gICAgICB9XG4gICAgICAubWF4LXctZnVsbC00IHtcbiAgICAgICAgbWF4LXdpZHRoOiBjYWxjKDEwMCUgLSAyKjFyZW0pO1xuICAgICAgfVxuICAgICAgLm1pbi13LTMyIHtcbiAgICAgICAgbWluLXdpZHRoOiA4cmVtO1xuICAgICAgfVxuICAgICAgLm1pbi13LTE2XHR7XG4gICAgICAgIG1pbi13aWR0aDogNHJlbTtcbiAgICAgIH1cbiAgICBgXG5cbmNvbnN0IGxpZ2h0ZW5VbnRpbENvbnRyYXN0aW5nID0gKGNvbG9yOiBzdHJpbmcsIGJhY2tncm91bmQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHBhc3NlcyA9IG1lZXRzQ29udHJhc3RHdWlkZWxpbmVzKGNvbG9yLCBiYWNrZ3JvdW5kKVxuICBpZiAocGFzc2VzLkFBKSB7XG4gICAgcmV0dXJuIGNvbG9yXG4gIH1cbiAgcmV0dXJuIGxpZ2h0ZW5VbnRpbENvbnRyYXN0aW5nKGxpZ2h0ZW4oY29sb3IsIDAuMSksIGJhY2tncm91bmQpXG59XG5cbmNvbnN0IGRhcmtlblVudGlsQ29udHJhc3RpbmcgPSAoY29sb3I6IHN0cmluZywgYmFja2dyb3VuZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgcGFzc2VzID0gbWVldHNDb250cmFzdEd1aWRlbGluZXMoY29sb3IsIGJhY2tncm91bmQpXG4gIGlmIChwYXNzZXMuQUEpIHtcbiAgICByZXR1cm4gY29sb3JcbiAgfVxuICByZXR1cm4gZGFya2VuVW50aWxDb250cmFzdGluZyhkYXJrZW4oY29sb3IsIDAuMSksIGJhY2tncm91bmQpXG59XG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzcyNzIwNTI0L3R5cGVzY3JpcHQtcmVhY3QtbXVpLXVzZS1jdXN0b20tY29sb3Itb24tYnV0dG9uLWNvbXBvbmVudFxuZGVjbGFyZSBtb2R1bGUgJ0BtdWkvbWF0ZXJpYWwnIHtcbiAgaW50ZXJmYWNlIEJ1dHRvblByb3BzQ29sb3JPdmVycmlkZXMge1xuICAgIGdyZXk6IHRydWVcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgUHJvdmlkZXIgPSAoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBhbnkgfSkgPT4ge1xuICBjb25zdCBzdHlsZWRUaGVtZSA9IFJlYWN0LnVzZUNvbnRleHQoVGhlbWVDb250ZXh0KSBhcyBEZWZhdWx0VGhlbWVcbiAgY29uc3QgZGFya01vZGUgPSBzdHlsZWRUaGVtZS50aGVtZSA9PT0gJ2RhcmsnXG4gIGNvbnN0IHBhcGVyQ29sb3IgPSBkYXJrTW9kZSA/IGRhcmsucGFwZXIgOiBsaWdodC5wYXBlclxuICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSBkYXJrTW9kZSA/IGRhcmsuYmFja2dyb3VuZCA6IGxpZ2h0LmJhY2tncm91bmRcbiAgY29uc3QgY3VzdG9tUGFsZXR0ZSA9XG4gICAgc3R5bGVkVGhlbWUucGFsZXR0ZSA9PT0gJ2N1c3RvbScgJiZcbiAgICBzdHlsZWRUaGVtZS5wcmltYXJ5ICYmXG4gICAgc3R5bGVkVGhlbWUuc2Vjb25kYXJ5XG4gIGNvbnN0IHByaW1hcnlNYWluID0gY3VzdG9tUGFsZXR0ZVxuICAgID8gc3R5bGVkVGhlbWUucHJpbWFyeVxuICAgIDogZGFya01vZGVcbiAgICA/IGRhcmsucHJpbWFyeVxuICAgIDogbGlnaHQucHJpbWFyeVxuICBjb25zdCBzZWNvbmRhcnlNYWluID0gY3VzdG9tUGFsZXR0ZVxuICAgID8gc3R5bGVkVGhlbWUuc2Vjb25kYXJ5XG4gICAgOiBkYXJrTW9kZVxuICAgID8gZGFyay5zZWNvbmRhcnlcbiAgICA6IGxpZ2h0LnNlY29uZGFyeVxuICBjb25zdCBwcmltYXJ5Q29udHJhc3RTY29yZXMgPSBtZWV0c0NvbnRyYXN0R3VpZGVsaW5lcyhcbiAgICBwYXBlckNvbG9yLFxuICAgIHByaW1hcnlNYWluIVxuICApXG4gIGNvbnN0IHNlY29uZGFyeUNvbnRyYXN0U2NvcmVzID0gbWVldHNDb250cmFzdEd1aWRlbGluZXMoXG4gICAgcGFwZXJDb2xvcixcbiAgICBzZWNvbmRhcnlNYWluXG4gIClcbiAgY29uc3QgZmFpbGVkQ29udHJhc3RQcmltYXJ5UmVwbGFjZW1lbnQgPSBkYXJrTW9kZVxuICAgID8gbGlnaHRlblVudGlsQ29udHJhc3RpbmcocHJpbWFyeU1haW4sIHBhcGVyQ29sb3IpXG4gICAgOiBkYXJrZW5VbnRpbENvbnRyYXN0aW5nKHByaW1hcnlNYWluLCBwYXBlckNvbG9yKVxuICBjb25zdCBmYWlsZWRDb250cmFzdFNlY29uZGFyeVJlcGxhY2VtZW50ID0gZGFya01vZGVcbiAgICA/IGxpZ2h0ZW5VbnRpbENvbnRyYXN0aW5nKHNlY29uZGFyeU1haW4sIHBhcGVyQ29sb3IpXG4gICAgOiBkYXJrZW5VbnRpbENvbnRyYXN0aW5nKHNlY29uZGFyeU1haW4sIHBhcGVyQ29sb3IpXG5cbiAgLyoqXG4gICAqICBTcGVjaWZ5IHRoZW1lIHNldHRpbmdzIHRoYXQgZG9uJ3QgbmVlZCB2YXJpYWJsZXMgZnJvbSB0aGVtZVxuICAgKlxuICAgKiAgV2UgZG8gdGhpbmdzIGxpa2UgdGhlIHR5cG9ncmFwaHkgaGVyZSBiZWNhdXNlIG90aGVyd2lzZSB0aGUgZGVmYXVsdHMgZ2V0IGFwcGxpZWQgdG8gZWFjaCBpbmRpdmlkdWFsIHR5cG9ncmFwaHkgY29tcG9uZW50LFxuICAgKiAgbWVhbmluZyB3ZSdkIGhhdmUgdG8gc3BlY2lmeSBvdmVycmlkZXMgZm9yIGVhY2ggb25lLlxuICAgKi9cbiAgY29uc3QgaW5pdGlhbFRoZW1lID0gY3JlYXRlVGhlbWUoe1xuICAgIHBhbGV0dGU6IHtcbiAgICAgIG1vZGU6IGRhcmtNb2RlID8gJ2RhcmsnIDogJ2xpZ2h0JyxcbiAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgbWFpbjogcHJpbWFyeU1haW4sXG4gICAgICB9LFxuICAgICAgc2Vjb25kYXJ5OiB7XG4gICAgICAgIG1haW46IHNlY29uZGFyeU1haW4sXG4gICAgICB9LFxuICAgICAgYmFja2dyb3VuZDoge1xuICAgICAgICBkZWZhdWx0OiBiYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIHBhcGVyOiBwYXBlckNvbG9yLFxuICAgICAgfSxcbiAgICAgIGdyZXk6IHtcbiAgICAgICAgLy8gV2UgZG8gdGhpcyB0byBlbXVsYXRlIHY0IE1VSSBiZWhhdmlvciBmb3IgZGVmYXVsdCBidXR0b24gY29sb3JcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYWluOiAnI2ZmZicsXG4gICAgICB9LFxuICAgIH0sXG4gICAgLy8gVHlwb2dyYXBoeSBtdXN0IGJlIHNldCBoZXJlIHRvIGVuc3VyZSBhbGwgY29tcG9uZW50cyB1c2UgdGhlIHNhbWUgZm9udFxuICAgIHR5cG9ncmFwaHk6IHtcbiAgICAgIGZvbnRGYW1pbHk6IGAnT3BlbiBTYW5zJywgYXJpYWwsIHNhbnMtc2VyaWZgLFxuICAgICAgYnV0dG9uOiB7XG4gICAgICAgIHRleHRUcmFuc2Zvcm06ICdub25lJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB6SW5kZXg6IHtcbiAgICAgIG1vYmlsZVN0ZXBwZXI6IDEwMSxcbiAgICAgIGFwcEJhcjogMTAxLFxuICAgICAgZHJhd2VyOiAxMDEsXG4gICAgICBtb2RhbDogMTAxLFxuICAgICAgc25hY2tiYXI6IDEwMSxcbiAgICAgIHRvb2x0aXA6IDEwMSxcbiAgICAgIGZhYjogMTAxLFxuICAgICAgc3BlZWREaWFsOiAxMDEsXG4gICAgfSxcbiAgfSlcblxuICAvKipcbiAgICogIFdlIHNwbGl0IHRoZXNlIG91dCB0byBzbyB0aGF0IHdlIGNhbiBhY2Nlc3MgdGhlbWUgdmFyaWFibGVzIHdpdGhpbiBvdXIgY3VzdG9tIHRoZW1lXG4gICAqL1xuICBjb25zdCB0aGVtZUJhc2VkVGhlbWU6IFRoZW1lT3B0aW9ucyA9IHtcbiAgICBjb21wb25lbnRzOiB7XG4gICAgICBNdWlDaGlwOiB7XG4gICAgICAgIHN0eWxlT3ZlcnJpZGVzOiB7XG4gICAgICAgICAgcm9vdDoge1xuICAgICAgICAgICAgZm9udFNpemU6ICcxcmVtJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIE11aUJ1dHRvbjoge1xuICAgICAgICBkZWZhdWx0UHJvcHM6IHtcbiAgICAgICAgICBzaXplOiAnc21hbGwnLFxuICAgICAgICAgIGNvbG9yOiAnZ3JleScsXG4gICAgICAgIH0sXG4gICAgICAgIHZhcmlhbnRzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJvcHM6IHsgdmFyaWFudDogJ2NvbnRhaW5lZCcsIGNvbG9yOiAnZ3JleScgfSxcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGNvbG9yOiBpbml0aWFsVGhlbWUucGFsZXR0ZS5nZXRDb250cmFzdFRleHQoXG4gICAgICAgICAgICAgICAgaW5pdGlhbFRoZW1lLnBhbGV0dGUuZ3JleVszMDBdXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgcHJvcHM6IHsgdmFyaWFudDogJ291dGxpbmVkJywgY29sb3I6ICdncmV5JyB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgY29sb3I6IGluaXRpYWxUaGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSxcbiAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6XG4gICAgICAgICAgICAgICAgaW5pdGlhbFRoZW1lLnBhbGV0dGUubW9kZSA9PT0gJ2xpZ2h0J1xuICAgICAgICAgICAgICAgICAgPyAncmdiYSgwLCAwLCAwLCAwLjIzKSdcbiAgICAgICAgICAgICAgICAgIDogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yMyknLFxuICAgICAgICAgICAgICAnJi5NdWktZGlzYWJsZWQnOiB7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7aW5pdGlhbFRoZW1lLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkQmFja2dyb3VuZH1gLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjpcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxUaGVtZS5wYWxldHRlLm1vZGUgPT09ICdsaWdodCdcbiAgICAgICAgICAgICAgICAgICAgPyAncmdiYSgwLCAwLCAwLCAwLjIzKSdcbiAgICAgICAgICAgICAgICAgICAgOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIzKScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBhbHBoYShcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxUaGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSxcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxUaGVtZS5wYWxldHRlLmFjdGlvbi5ob3Zlck9wYWNpdHlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHByb3BzOiB7IGNvbG9yOiAnZ3JleScsIHZhcmlhbnQ6ICd0ZXh0JyB9LFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgY29sb3I6IGluaXRpYWxUaGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSxcbiAgICAgICAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBhbHBoYShcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxUaGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSxcbiAgICAgICAgICAgICAgICAgIGluaXRpYWxUaGVtZS5wYWxldHRlLmFjdGlvbi5ob3Zlck9wYWNpdHlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBzdHlsZU92ZXJyaWRlczoge1xuICAgICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6ICdpbmhlcml0JywgLy8gbWF5YmUgb3BlbiBhIHRpY2tldCBvbiBNVUksIHNlZW1zIGxpa2UgdGhlIGRlZmF1bHQgdGhleSB1c2UgZG9lc24ndCBjZW50ZXIgdGV4dCBxdWl0ZSByaWdodCB3aXRoIGljb25zXG4gICAgICAgICAgICBtaW5XaWR0aDogJzBweCcsIC8vIHVzdWFsbHkgbW9yZSBhbm5veWluZyB0aGFuIG5vdFxuICAgICAgICAgIH0sXG4gICAgICAgICAgLi4uKHByaW1hcnlDb250cmFzdFNjb3Jlcy5BQVxuICAgICAgICAgICAgPyB7IHRleHRQcmltYXJ5OiB7fSB9IC8vIHdlaXJkIHJlcXVpcmVtZW50IGR1ZSB0byB0eXBlcywgbmVlZCB0ZXh0UHJpbWFyeSBoZXJlIGJ1dCBlbXB0eVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgdGV4dFByaW1hcnk6IHtcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBmYWlsZWRDb250cmFzdFByaW1hcnlSZXBsYWNlbWVudCxcbiAgICAgICAgICAgICAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGFscGhhKFxuICAgICAgICAgICAgICAgICAgICAgIGZhaWxlZENvbnRyYXN0UHJpbWFyeVJlcGxhY2VtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIDAuMVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBvbiB0b3VjaCBkZXZpY2VzLCBpdCBkb2Vzbid0IGFkZCBzcGVjaWZpY2l0eVxuICAgICAgICAgICAgICAgICAgICAnQG1lZGlhIChob3Zlcjogbm9uZSknOiB7XG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAuLi4oc2Vjb25kYXJ5Q29udHJhc3RTY29yZXMuQUFcbiAgICAgICAgICAgID8geyB0ZXh0U2Vjb25kYXJ5OiB7fSB9IC8vIHdlaXJkIHJlcXVpcmVtZW50IGR1ZSB0byB0eXBlcywgbmVlZCB0ZXh0UHJpbWFyeSBoZXJlIGJ1dCBlbXB0eVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgdGV4dFNlY29uZGFyeToge1xuICAgICAgICAgICAgICAgICAgY29sb3I6IGZhaWxlZENvbnRyYXN0U2Vjb25kYXJ5UmVwbGFjZW1lbnQsXG4gICAgICAgICAgICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBhbHBoYShcbiAgICAgICAgICAgICAgICAgICAgICBmYWlsZWRDb250cmFzdFNlY29uZGFyeVJlcGxhY2VtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIDAuMVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCBvbiB0b3VjaCBkZXZpY2VzLCBpdCBkb2Vzbid0IGFkZCBzcGVjaWZpY2l0eVxuICAgICAgICAgICAgICAgICAgICAnQG1lZGlhIChob3Zlcjogbm9uZSknOiB7XG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBNdWlDYXJkQWN0aW9uQXJlYToge1xuICAgICAgICBzdHlsZU92ZXJyaWRlczoge1xuICAgICAgICAgIHJvb3Q6IHtcbiAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgTXVpQ2FyZEhlYWRlcjoge1xuICAgICAgICBzdHlsZU92ZXJyaWRlczoge1xuICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgIG1pbldpZHRoOiAnMHB4JyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIE11aVBhcGVyOiB7XG4gICAgICAgIHN0eWxlT3ZlcnJpZGVzOiB7XG4gICAgICAgICAgcm9vdDogeyBiYWNrZ3JvdW5kSW1hZ2U6ICd1bnNldCcgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBNdWlUb29sdGlwOiB7XG4gICAgICAgIHN0eWxlT3ZlcnJpZGVzOiB7XG4gICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgZm9udFNpemU6ICcxcmVtJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9XG5cbiAgY29uc3QgdGhlbWUgPSBjcmVhdGVUaGVtZShpbml0aWFsVGhlbWUsIHRoZW1lQmFzZWRUaGVtZSlcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaHRtbCcpIGFzIEhUTUxFbGVtZW50XG4gICAgaWYgKHN0eWxlZFRoZW1lLnRoZW1lID09PSAnZGFyaycpIHtcbiAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2JwMy1kYXJrJylcbiAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2JwNC1kYXJrJylcbiAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3RoZW1lLWRhcmsnKVxuICAgICAgaHRtbEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpXG4gICAgfSBlbHNlIHtcbiAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JwMy1kYXJrJylcbiAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2JwNC1kYXJrJylcbiAgICAgIGh0bWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3RoZW1lLWRhcmsnKVxuICAgICAgaHRtbEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpXG4gICAgfVxuICB9LCBbc3R5bGVkVGhlbWUudGhlbWVdKVxuICB1c2VSZW1vdmVGb2N1c1N0eWxlKClcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEdsb2JhbFN0eWxlcyB7Li4udGhlbWV9IC8+XG4gICAgICA8U3R5bGVkRW5naW5lUHJvdmlkZXIgaW5qZWN0Rmlyc3Q+XG4gICAgICAgIDxUaGVtZVByb3ZpZGVyIHRoZW1lPXt0aGVtZX0+e2NoaWxkcmVufTwvVGhlbWVQcm92aWRlcj5cbiAgICAgIDwvU3R5bGVkRW5naW5lUHJvdmlkZXI+XG4gICAgPC8+XG4gIClcbn1cbiJdfQ==
import { __read } from "tslib";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import Button from '@mui/material/Button';
import MenuItem from '@mui/material/MenuItem';
import Paper from '@mui/material/Paper';
import Popover from '@mui/material/Popover';
import * as React from 'react';
import { useNavigate } from 'react-router-dom';
import { AsyncTasks } from '../../js/model/AsyncTask/async-task';
import { useQuery, UserQuery } from '../../js/model/TypedQuery';
import { useMenuState } from '../menu-state/menu-state';
import { Elevations } from '../theme/theme';
import { OpenSearch, SaveForm } from './search';
import SelectionInterfaceModel from '../selection-interface/selection-interface.model';
var selectionInterface = new SelectionInterfaceModel();
var Open = function () {
    var navigate = useNavigate();
    var openMenuState = useMenuState();
    var titleMenuState = useMenuState();
    var fromExistingMenuState = useMenuState();
    var _a = __read(useQuery(), 1), search = _a[0];
    React.useEffect(function () {
        openMenuState.handleClick();
    }, []);
    React.useEffect(function () {
        selectionInterface.setCurrentQuery(search);
    }, []);
    return (_jsxs("div", { className: "w-full h-full p-2", children: [_jsx(Button, { component: "div", onClick: openMenuState.handleClick, className: "text-2xl pb-2", variant: "contained", color: "primary", ref: openMenuState.anchorRef, children: "Create" }), _jsx(Popover, { open: titleMenuState.open, anchorEl: titleMenuState.anchorRef.current, onClose: titleMenuState.handleClose, anchorOrigin: { vertical: 'bottom', horizontal: 'left' }, children: _jsx(Paper, { elevation: Elevations.overlays, className: "p-2", children: _jsx(SaveForm, { selectionInterface: selectionInterface, onClose: function () {
                            titleMenuState.handleClose();
                        }, onSave: function (title) {
                            var searchData = UserQuery().toJSON();
                            searchData.title = title;
                            var task = AsyncTasks.createSearch({ data: searchData });
                            navigate("/search/".concat(task.data.id));
                        } }) }) }), _jsx(Popover, { open: fromExistingMenuState.open, anchorEl: fromExistingMenuState.anchorRef.current, onClose: fromExistingMenuState.handleClose, anchorOrigin: { vertical: 'bottom', horizontal: 'left' }, children: _jsx(Paper, { elevation: Elevations.overlays, className: "p-2 w-64", children: _jsx(OpenSearch, { label: "", constructLink: function (result) {
                            return "/search/".concat(result.plain.id);
                        }, onFinish: function (value) {
                            var copy = JSON.parse(JSON.stringify(value.plain.metacard.properties));
                            delete copy.id;
                            copy.title = "New from '".concat(copy.title, "'");
                            var task = AsyncTasks.createSearch({ data: copy });
                            navigate("/search/".concat(task.data.id), {
                                replace: true,
                            });
                        }, autocompleteProps: {
                            fullWidth: true,
                            className: 'w-full',
                        } }) }) }), _jsxs(Popover, { open: openMenuState.open, onClose: openMenuState.handleClose, anchorEl: openMenuState.anchorRef.current, anchorOrigin: { vertical: 'bottom', horizontal: 'left' }, children: [_jsx(MenuItem, { component: "div", ref: titleMenuState.anchorRef, onClick: function () {
                            titleMenuState.handleClick();
                        }, children: "Search" }), _jsx(MenuItem, { component: "div", ref: fromExistingMenuState.anchorRef, onClick: function () {
                            fromExistingMenuState.handleClick();
                        }, children: "Search from existing" })] })] }));
};
export default Open;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudC9wYWdlcy9jcmVhdGUudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsT0FBTyxNQUFNLE1BQU0sc0JBQXNCLENBQUE7QUFDekMsT0FBTyxRQUFRLE1BQU0sd0JBQXdCLENBQUE7QUFDN0MsT0FBTyxLQUFLLE1BQU0scUJBQXFCLENBQUE7QUFDdkMsT0FBTyxPQUFPLE1BQU0sdUJBQXVCLENBQUE7QUFDM0MsT0FBTyxLQUFLLEtBQUssTUFBTSxPQUFPLENBQUE7QUFFOUIsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFBO0FBQzlDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxxQ0FBcUMsQ0FBQTtBQUNoRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxNQUFNLDJCQUEyQixDQUFBO0FBQy9ELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQTtBQUN2RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUE7QUFDM0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFFL0MsT0FBTyx1QkFBdUIsTUFBTSxrREFBa0QsQ0FBQTtBQUV0RixJQUFNLGtCQUFrQixHQUFHLElBQUksdUJBQXVCLEVBQUUsQ0FBQTtBQUV4RCxJQUFNLElBQUksR0FBRztJQUNYLElBQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFBO0lBQzlCLElBQU0sYUFBYSxHQUFHLFlBQVksRUFBRSxDQUFBO0lBQ3BDLElBQU0sY0FBYyxHQUFHLFlBQVksRUFBRSxDQUFBO0lBQ3JDLElBQU0scUJBQXFCLEdBQUcsWUFBWSxFQUFFLENBQUE7SUFDdEMsSUFBQSxLQUFBLE9BQVcsUUFBUSxFQUFFLElBQUEsRUFBcEIsTUFBTSxRQUFjLENBQUE7SUFDM0Is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aUIsRUFBRTs0QkFDakIsU0FBUyxFQUFFLElBQUk7NEJBQ2YsU0FBUyxFQUFFLFFBQVE7eUJBQ3BCLEdBQ0QsR0FDSSxHQUNBLEVBQ1YsTUFBQyxPQUFPLElBQ04sSUFBSSxFQUFFLGFBQWEsQ0FBQyxJQUFJLEVBQ3hCLE9BQU8sRUFBRSxhQUFhLENBQUMsV0FBVyxFQUNsQyxRQUFRLEVBQUUsYUFBYSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQ3pDLFlBQVksRUFBRSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxhQUV4RCxLQUFDLFFBQVEsSUFDUCxTQUFTLEVBQUMsS0FBSyxFQUNmLEdBQUcsRUFBRSxjQUFjLENBQUMsU0FBUyxFQUM3QixPQUFPLEVBQUU7NEJBQ1AsY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFBO3dCQUM5QixDQUFDLHVCQUdRLEVBQ1gsS0FBQyxRQUFRLElBQ1AsU0FBUyxFQUFDLEtBQUssRUFDZixHQUFHLEVBQUUscUJBQXFCLENBQUMsU0FBUyxFQUNwQyxPQUFPLEVBQUU7NEJBQ1AscUJBQXFCLENBQUMsV0FBVyxFQUFFLENBQUE7d0JBQ3JDLENBQUMscUNBR1EsSUFDSCxJQUNOLENBQ1AsQ0FBQTtBQUNILENBQUMsQ0FBQTtBQUVELGVBQWUsSUFBSSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJ1dHRvbiBmcm9tICdAbXVpL21hdGVyaWFsL0J1dHRvbidcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbXVpL21hdGVyaWFsL01lbnVJdGVtJ1xuaW1wb3J0IFBhcGVyIGZyb20gJ0BtdWkvbWF0ZXJpYWwvUGFwZXInXG5pbXBvcnQgUG9wb3ZlciBmcm9tICdAbXVpL21hdGVyaWFsL1BvcG92ZXInXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcblxuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJ1xuaW1wb3J0IHsgQXN5bmNUYXNrcyB9IGZyb20gJy4uLy4uL2pzL21vZGVsL0FzeW5jVGFzay9hc3luYy10YXNrJ1xuaW1wb3J0IHsgdXNlUXVlcnksIFVzZXJRdWVyeSB9IGZyb20gJy4uLy4uL2pzL21vZGVsL1R5cGVkUXVlcnknXG5pbXBvcnQgeyB1c2VNZW51U3RhdGUgfSBmcm9tICcuLi9tZW51LXN0YXRlL21lbnUtc3RhdGUnXG5pbXBvcnQgeyBFbGV2YXRpb25zIH0gZnJvbSAnLi4vdGhlbWUvdGhlbWUnXG5pbXBvcnQgeyBPcGVuU2VhcmNoLCBTYXZlRm9ybSB9IGZyb20gJy4vc2VhcmNoJ1xuXG5pbXBvcnQgU2VsZWN0aW9uSW50ZXJmYWNlTW9kZWwgZnJvbSAnLi4vc2VsZWN0aW9uLWludGVyZmFjZS9zZWxlY3Rpb24taW50ZXJmYWNlLm1vZGVsJ1xuXG5jb25zdCBzZWxlY3Rpb25JbnRlcmZhY2UgPSBuZXcgU2VsZWN0aW9uSW50ZXJmYWNlTW9kZWwoKVxuXG5jb25zdCBPcGVuID0gKCkgPT4ge1xuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKClcbiAgY29uc3Qgb3Blbk1lbnVTdGF0ZSA9IHVzZU1lbnVTdGF0ZSgpXG4gIGNvbnN0IHRpdGxlTWVudVN0YXRlID0gdXNlTWVudVN0YXRlKClcbiAgY29uc3QgZnJvbUV4aXN0aW5nTWVudVN0YXRlID0gdXNlTWVudVN0YXRlKClcbiAgY29uc3QgW3NlYXJjaF0gPSB1c2VRdWVyeSgpXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgb3Blbk1lbnVTdGF0ZS5oYW5kbGVDbGljaygpXG4gIH0sIFtdKVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNlbGVjdGlvbkludGVyZmFjZS5zZXRDdXJyZW50UXVlcnkoc2VhcmNoKVxuICB9LCBbXSlcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgcC0yXCI+XG4gICAgICA8QnV0dG9uXG4gICAgICAgIGNvbXBvbmVudD1cImRpdlwiXG4gICAgICAgIG9uQ2xpY2s9e29wZW5NZW51U3RhdGUuaGFuZGxlQ2xpY2t9XG4gICAgICAgIGNsYXNzTmFtZT1cInRleHQtMnhsIHBiLTJcIlxuICAgICAgICB2YXJpYW50PVwiY29udGFpbmVkXCJcbiAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgcmVmPXtvcGVuTWVudVN0YXRlLmFuY2hvclJlZn1cbiAgICAgID5cbiAgICAgICAgQ3JlYXRlXG4gICAgICA8L0J1dHRvbj5cbiAgICAgIDxQb3BvdmVyXG4gICAgICAgIG9wZW49e3RpdGxlTWVudVN0YXRlLm9wZW59XG4gICAgICAgIGFuY2hvckVsPXt0aXRsZU1lbnVTdGF0ZS5hbmNob3JSZWYuY3VycmVudH1cbiAgICAgICAgb25DbG9zZT17dGl0bGVNZW51U3RhdGUuaGFuZGxlQ2xvc2V9XG4gICAgICAgIGFuY2hvck9yaWdpbj17eyB2ZXJ0aWNhbDogJ2JvdHRvbScsIGhvcml6b250YWw6ICdsZWZ0JyB9fVxuICAgICAgPlxuICAgICAgICA8UGFwZXIgZWxldmF0aW9uPXtFbGV2YXRpb25zLm92ZXJsYXlzfSBjbGFzc05hbWU9XCJwLTJcIj5cbiAgICAgICAgICA8U2F2ZUZvcm1cbiAgICAgICAgICAgIHNlbGVjdGlvbkludGVyZmFjZT17c2VsZWN0aW9uSW50ZXJmYWNlfVxuICAgICAgICAgICAgb25DbG9zZT17KCkgPT4ge1xuICAgICAgICAgICAgICB0aXRsZU1lbnVTdGF0ZS5oYW5kbGVDbG9zZSgpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgb25TYXZlPXsodGl0bGUpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoRGF0YSA9IFVzZXJRdWVyeSgpLnRvSlNPTigpXG4gICAgICAgICAgICAgIHNlYXJjaERhdGEudGl0bGUgPSB0aXRsZVxuICAgICAgICAgICAgICBjb25zdCB0YXNrID0gQXN5bmNUYXNrcy5jcmVhdGVTZWFyY2goeyBkYXRhOiBzZWFyY2hEYXRhIH0pXG4gICAgICAgICAgICAgIG5hdmlnYXRlKGAvc2VhcmNoLyR7dGFzay5kYXRhLmlkfWApXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvUGFwZXI+XG4gICAgICA8L1BvcG92ZXI+XG4gICAgICA8UG9wb3ZlclxuICAgICAgICBvcGVuPXtmcm9tRXhpc3RpbmdNZW51U3RhdGUub3Blbn1cbiAgICAgICAgYW5jaG9yRWw9e2Zyb21FeGlzdGluZ01lbnVTdGF0ZS5hbmNob3JSZWYuY3VycmVudH1cbiAgICAgICAgb25DbG9zZT17ZnJvbUV4aXN0aW5nTWVudVN0YXRlLmhhbmRsZUNsb3NlfVxuICAgICAgICBhbmNob3JPcmlnaW49e3sgdmVydGljYWw6ICdib3R0b20nLCBob3Jpem9udGFsOiAnbGVmdCcgfX1cbiAgICAgID5cbiAgICAgICAgPFBhcGVyIGVsZXZhdGlvbj17RWxldmF0aW9ucy5vdmVybGF5c30gY2xhc3NOYW1lPVwicC0yIHctNjRcIj5cbiAgICAgICAgICA8T3BlblNlYXJjaFxuICAgICAgICAgICAgbGFiZWw9XCJcIlxuICAgICAgICAgICAgY29uc3RydWN0TGluaz17KHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gYC9zZWFyY2gvJHtyZXN1bHQucGxhaW4uaWR9YFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIG9uRmluaXNoPXsodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY29weSA9IEpTT04ucGFyc2UoXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUucGxhaW4ubWV0YWNhcmQucHJvcGVydGllcylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBkZWxldGUgY29weS5pZFxuICAgICAgICAgICAgICBjb3B5LnRpdGxlID0gYE5ldyBmcm9tICcke2NvcHkudGl0bGV9J2BcbiAgICAgICAgICAgICAgY29uc3QgdGFzayA9IEFzeW5jVGFza3MuY3JlYXRlU2VhcmNoKHsgZGF0YTogY29weSB9KVxuICAgICAgICAgICAgICBuYXZpZ2F0ZShgL3NlYXJjaC8ke3Rhc2suZGF0YS5pZH1gLCB7XG4gICAgICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBhdXRvY29tcGxldGVQcm9wcz17e1xuICAgICAgICAgICAgICBmdWxsV2lkdGg6IHRydWUsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3ctZnVsbCcsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvUGFwZXI+XG4gICAgICA8L1BvcG92ZXI+XG4gICAgICA8UG9wb3ZlclxuICAgICAgICBvcGVuPXtvcGVuTWVudVN0YXRlLm9wZW59XG4gICAgICAgIG9uQ2xvc2U9e29wZW5NZW51U3RhdGUuaGFuZGxlQ2xvc2V9XG4gICAgICAgIGFuY2hvckVsPXtvcGVuTWVudVN0YXRlLmFuY2hvclJlZi5jdXJyZW50fVxuICAgICAgICBhbmNob3JPcmlnaW49e3sgdmVydGljYWw6ICdib3R0b20nLCBob3Jpem9udGFsOiAnbGVmdCcgfX1cbiAgICAgID5cbiAgICAgICAgPE1lbnVJdGVtXG4gICAgICAgICAgY29tcG9uZW50PVwiZGl2XCJcbiAgICAgICAgICByZWY9e3RpdGxlTWVudVN0YXRlLmFuY2hvclJlZn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICB0aXRsZU1lbnVTdGF0ZS5oYW5kbGVDbGljaygpXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIFNlYXJjaFxuICAgICAgICA8L01lbnVJdGVtPlxuICAgICAgICA8TWVudUl0ZW1cbiAgICAgICAgICBjb21wb25lbnQ9XCJkaXZcIlxuICAgICAgICAgIHJlZj17ZnJvbUV4aXN0aW5nTWVudVN0YXRlLmFuY2hvclJlZn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBmcm9tRXhpc3RpbmdNZW51U3RhdGUuaGFuZGxlQ2xpY2soKVxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICBTZWFyY2ggZnJvbSBleGlzdGluZ1xuICAgICAgICA8L01lbnVJdGVtPlxuICAgICAgPC9Qb3BvdmVyPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IE9wZW5cbiJdfQ==
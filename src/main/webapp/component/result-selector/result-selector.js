import { __assign, __read } from "tslib";
import * as React from 'react';
import Spellcheck from '../spellcheck/spellcheck';
import Grid from '@mui/material/Grid';
import { hot } from 'react-hot-loader';
import QueryFeed from './query-feed';
import LinearProgress from '@mui/material/LinearProgress';
import Paging from './paging';
import Paper from '@mui/material/Paper';
import Button from '@mui/material/Button';
import FilterListIcon from '@mui/icons-material/FilterList';
import ResultFilter from '../result-filter/result-filter';
import { useBackbone } from '../selection-checkbox/useBackbone.hook';
import EphemeralSearchSort from '../../react-component/query-sort-selection/ephemeral-search-sort';
import { useLazyResultsStatusFromSelectionInterface, useLazyResultsSelectedResultsFromSelectionInterface, } from '../selection-interface/hooks';
import VisualizationSelector from '../../react-component/visualization-selector/visualization-selector';
import LayoutDropdownIcon from '@mui/icons-material/ViewComfy';
import ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';
import user from '../singletons/user-instance';
import MoreIcon from '@mui/icons-material/MoreVert';
import LazyMetacardInteractions from '../visualization/results-visual/lazy-metacard-interactions';
import { Elevations } from '../theme/theme';
import SelectionRipple from '../golden-layout/selection-ripple';
import Extensions from '../../extension-points';
import { useMenuState } from '../menu-state/menu-state';
import Popover from '@mui/material/Popover';
import Badge from '@mui/material/Badge';
var SelectedResults = function (_a) {
    var selectionInterface = _a.selectionInterface;
    var selectedResults = useLazyResultsSelectedResultsFromSelectionInterface({
        selectionInterface: selectionInterface,
    });
    var selectedResultsArray = Object.values(selectedResults);
    var _b = useMenuState(), MuiButtonProps = _b.MuiButtonProps, MuiPopoverProps = _b.MuiPopoverProps, handleClose = _b.handleClose;
    return (React.createElement(React.Fragment, null,
        React.createElement(Button, __assign({ "data-id": "result-selector-more-vert-button", className: "relative ".concat(selectedResultsArray.length === 0 ? 'invisible' : ''), color: "primary", disabled: selectedResultsArray.length === 0, style: { height: '100%' }, size: "small" }, MuiButtonProps),
            selectedResultsArray.length,
            " selected",
            React.createElement("div", { className: selectedResultsArray.length === 0 ? '' : 'Mui-text-text-primary' },
                React.createElement(MoreIcon, null))),
        React.createElement(Popover, __assign({}, MuiPopoverProps, { keepMounted: true }),
            React.createElement(Paper, null,
                React.createElement(LazyMetacardInteractions, { lazyResults: selectedResultsArray, onClose: handleClose })))));
};
var determineResultFilterSize = function () {
    var resultFilters = user.get('user').get('preferences').get('resultFilter');
    if (!resultFilters || !resultFilters.filters) {
        return 0;
    }
    return resultFilters.filters.length;
};
var determineResultSortSize = function () {
    var resultSorts = user.get('user').get('preferences').get('resultSort');
    if (!resultSorts) {
        return 0;
    }
    return resultSorts.length;
};
var ResultSelector = function (_a) {
    var selectionInterface = _a.selectionInterface, model = _a.model, goldenLayout = _a.goldenLayout, layoutResult = _a.layoutResult, editLayoutRef = _a.editLayoutRef;
    var isSearching = useLazyResultsStatusFromSelectionInterface({
        selectionInterface: selectionInterface,
    }).isSearching;
    var _b = __read(React.useState(determineResultFilterSize()), 2), resultFilterSize = _b[0], setResultFilterSize = _b[1];
    var _c = __read(React.useState(determineResultSortSize()), 2), resultSortSize = _c[0], setResultSortSize = _c[1];
    var listenTo = useBackbone().listenTo;
    React.useEffect(function () {
        listenTo(user.get('user').get('preferences'), 'change:resultFilter', function () {
            setResultFilterSize(determineResultFilterSize());
        });
        listenTo(user.get('user').get('preferences'), 'change:resultSort', function () {
            setResultSortSize(determineResultSortSize());
        });
    }, []);
    var LayoutDropdown = Extensions.layoutDropdown({
        goldenLayout: goldenLayout,
        layoutResult: layoutResult,
        editLayoutRef: editLayoutRef,
    });
    var resultFilterMenuState = useMenuState();
    var resultSortMenuState = useMenuState();
    var layoutMenuState = useMenuState();
    return (React.createElement(React.Fragment, null,
        React.createElement(Grid, { container: true, alignItems: "center", justifyContent: "flex-start", direction: "row" },
            isSearching ? (React.createElement(LinearProgress, { variant: "query", className: "opacity-100 absolute w-full h-1 left-0 bottom-0" })) : null,
            React.createElement(Grid, { item: true },
                React.createElement(Spellcheck, { key: Math.random(), selectionInterface: selectionInterface, model: model })),
            React.createElement(Grid, { item: true, className: "relative z-10" },
                React.createElement(QueryFeed, { selectionInterface: selectionInterface })),
            React.createElement(Grid, { item: true, className: "relative z-0" },
                React.createElement(SelectionRipple, { selectionInterface: selectionInterface }),
                React.createElement(SelectedResults, { selectionInterface: selectionInterface })),
            React.createElement(Grid, { item: true, className: "pl-2 mx-auto" },
                React.createElement(Paging, { selectionInterface: selectionInterface })),
            React.createElement(Grid, { item: true, className: "ml-auto" },
                React.createElement(Button, __assign({ "data-id": "filter-button", variant: "text", color: "primary" }, resultFilterMenuState.MuiButtonProps),
                    React.createElement(Badge, { color: "secondary", badgeContent: resultFilterSize, anchorOrigin: {
                            vertical: 'top',
                            horizontal: 'left',
                        }, className: "items-center" },
                        React.createElement(FilterListIcon, { className: "Mui-text-text-primary" }),
                        "Filter")),
                React.createElement(Popover, __assign({}, resultFilterMenuState.MuiPopoverProps),
                    React.createElement(Paper, { className: "p-3", elevation: Elevations.overlays },
                        React.createElement(ResultFilter, { closeDropdown: resultFilterMenuState.handleClose })))),
            React.createElement(Grid, { item: true, className: "pl-2" },
                React.createElement(Button, __assign({ "data-id": "sort-button", variant: "text", color: "primary" }, resultSortMenuState.MuiButtonProps),
                    React.createElement(Badge, { color: "secondary", badgeContent: resultSortSize, anchorOrigin: {
                            vertical: 'top',
                            horizontal: 'left',
                        }, className: "items-center" },
                        React.createElement(ArrowDownwardIcon, { className: "Mui-text-text-primary" }),
                        "Sort")),
                React.createElement(Popover, __assign({}, resultSortMenuState.MuiPopoverProps),
                    React.createElement(Paper, { className: "p-3", elevation: Elevations.overlays },
                        React.createElement(EphemeralSearchSort, { closeDropdown: resultSortMenuState.handleClose })))),
            React.createElement(Grid, { item: true, className: "pl-2" },
                React.createElement(Button, __assign({ "data-id": "layout-button", color: "primary" }, layoutMenuState.MuiButtonProps),
                    React.createElement(LayoutDropdownIcon, { className: "Mui-text-text-primary" }),
                    React.createElement("div", { className: "pl-1" }, "Layout")),
                React.createElement(Popover, __assign({}, layoutMenuState.MuiPopoverProps),
                    React.createElement(Paper, { className: "p-3", elevation: Elevations.overlays }, LayoutDropdown || (React.createElement(VisualizationSelector, { onClose: layoutMenuState.handleClose, goldenLayout: goldenLayout }))))))));
};
export default hot(module)(ResultSelector);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzdWx0LXNlbGVjdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudC9yZXN1bHQtc2VsZWN0b3IvcmVzdWx0LXNlbGVjdG9yLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxLQUFLLEtBQUssTUFBTSxPQUFPLENBQUE7QUFDOUIsT0FBTyxVQUFVLE1BQU0sMEJBQTBCLENBQUE7QUFDakQsT0FBTyxJQUFJLE1BQU0sb0JBQW9CLENBQUE7QUFDckMsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGtCQUFrQixDQUFBO0FBQ3RDLE9BQU8sU0FBUyxNQUFNLGNBQWMsQ0FBQTtBQUNwQyxPQUFPLGNBQWMsTUFBTSw4QkFBOEIsQ0FBQTtBQUN6RCxPQUFPLE1BQU0sTUFBTSxVQUFVLENBQUE7QUFDN0IsT0FBTyxLQUFLLE1BQU0scUJBQXFCLENBQUE7QUFDdkMsT0FBTyxNQUFNLE1BQU0sc0JBQXNCLENBQUE7QUFDekMsT0FBTyxjQUFjLE1BQU0sZ0NBQWdDLENBQUE7QUFDM0QsT0FBTyxZQUFZLE1BQU0sZ0NBQWdDLENBQUE7QUFDekQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdDQUF3QyxDQUFBO0FBQ3BFLE9BQU8sbUJBQW1CLE1BQU0sa0VBQWtFLENBQUE7QUFDbEcsT0FBTyxFQUNMLDBDQUEwQyxFQUMxQyxtREFBbUQsR0FDcEQsTUFBTSw4QkFBOEIsQ0FBQTtBQUVyQyxPQUFPLHFCQUFxQixNQUFNLHFFQUFxRSxDQUFBO0FBQ3ZHLE9BQU8sa0JBQWtCLE1BQU0sK0JBQStCLENBQUE7QUFDOUQsT0FBTyxpQkFBaUIsTUFBTSxtQ0FBbUMsQ0FBQTtBQUNqRSxPQUFPLElBQUksTUFBTSw2QkFBNkIsQ0FBQTtBQUM5QyxPQUFPLFFBQVEsTUFBTSw4QkFBOEIsQ0FBQTtBQUVuRCxPQUFPLHdCQUF3QixNQUFNLDREQUE0RCxDQUFBO0FBQ2pHLE9BQU8s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LENBQzNCO2dCQUNULG9CQUFDLE9BQU8sZUFBSyxlQUFlLENBQUMsZUFBZTtvQkFDMUMsb0JBQUMsS0FBSyxJQUFDLFNBQVMsRUFBQyxLQUFLLEVBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQyxRQUFRLElBQ2xELGNBQWMsSUFBSSxDQUNqQixvQkFBQyxxQkFBcUIsSUFDcEIsT0FBTyxFQUFFLGVBQWUsQ0FBQyxXQUFXLEVBQ3BDLFlBQVksRUFBRSxZQUFZLEdBQzFCLENBQ0gsQ0FDSyxDQUNBLENBQ0wsQ0FDRixDQUNRLENBQ2xCLENBQUE7QUFDSCxDQUFDLENBQUE7QUFFRCxlQUFlLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IFNwZWxsY2hlY2sgZnJvbSAnLi4vc3BlbGxjaGVjay9zcGVsbGNoZWNrJ1xuaW1wb3J0IEdyaWQgZnJvbSAnQG11aS9tYXRlcmlhbC9HcmlkJ1xuaW1wb3J0IHsgaG90IH0gZnJvbSAncmVhY3QtaG90LWxvYWRlcidcbmltcG9ydCBRdWVyeUZlZWQgZnJvbSAnLi9xdWVyeS1mZWVkJ1xuaW1wb3J0IExpbmVhclByb2dyZXNzIGZyb20gJ0BtdWkvbWF0ZXJpYWwvTGluZWFyUHJvZ3Jlc3MnXG5pbXBvcnQgUGFnaW5nIGZyb20gJy4vcGFnaW5nJ1xuaW1wb3J0IFBhcGVyIGZyb20gJ0BtdWkvbWF0ZXJpYWwvUGFwZXInXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtdWkvbWF0ZXJpYWwvQnV0dG9uJ1xuaW1wb3J0IEZpbHRlckxpc3RJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRmlsdGVyTGlzdCdcbmltcG9ydCBSZXN1bHRGaWx0ZXIgZnJvbSAnLi4vcmVzdWx0LWZpbHRlci9yZXN1bHQtZmlsdGVyJ1xuaW1wb3J0IHsgdXNlQmFja2JvbmUgfSBmcm9tICcuLi9zZWxlY3Rpb24tY2hlY2tib3gvdXNlQmFja2JvbmUuaG9vaydcbmltcG9ydCBFcGhlbWVyYWxTZWFyY2hTb3J0IGZyb20gJy4uLy4uL3JlYWN0LWNvbXBvbmVudC9xdWVyeS1zb3J0LXNlbGVjdGlvbi9lcGhlbWVyYWwtc2VhcmNoLXNvcnQnXG5pbXBvcnQge1xuICB1c2VMYXp5UmVzdWx0c1N0YXR1c0Zyb21TZWxlY3Rpb25JbnRlcmZhY2UsXG4gIHVzZUxhenlSZXN1bHRzU2VsZWN0ZWRSZXN1bHRzRnJvbVNlbGVjdGlvbkludGVyZmFjZSxcbn0gZnJvbSAnLi4vc2VsZWN0aW9uLWludGVyZmFjZS9ob29rcydcblxuaW1wb3J0IFZpc3VhbGl6YXRpb25TZWxlY3RvciBmcm9tICcuLi8uLi9yZWFjdC1jb21wb25lbnQvdmlzdWFsaXphdGlvbi1zZWxlY3Rvci92aXN1YWxpemF0aW9uLXNlbGVjdG9yJ1xuaW1wb3J0IExheW91dERyb3Bkb3duSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1ZpZXdDb21meSdcbmltcG9ydCBBcnJvd0Rvd253YXJkSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93RG93bndhcmQnXG5pbXBvcnQgdXNlciBmcm9tICcuLi9zaW5nbGV0b25zL3VzZXItaW5zdGFuY2UnXG5pbXBvcnQgTW9yZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9Nb3JlVmVydCdcblxuaW1wb3J0IExhenlNZXRhY2FyZEludGVyYWN0aW9ucyBmcm9tICcuLi92aXN1YWxpemF0aW9uL3Jlc3VsdHMtdmlzdWFsL2xhenktbWV0YWNhcmQtaW50ZXJhY3Rpb25zJ1xuaW1wb3J0IHsgRWxldmF0aW9ucyB9IGZyb20gJy4uL3RoZW1lL3RoZW1lJ1xuaW1wb3J0IFNlbGVjdGlvblJpcHBsZSBmcm9tICcuLi9nb2xkZW4tbGF5b3V0L3NlbGVjdGlvbi1yaXBwbGUnXG5pbXBvcnQgeyBSZXN1bHRUeXBlIH0gZnJvbSAnLi4vLi4vanMvbW9kZWwvVHlwZXMnXG5pbXBvcnQgRXh0ZW5zaW9ucyBmcm9tICcuLi8uLi9leHRlbnNpb24tcG9pbnRzJ1xuaW1wb3J0IHsgdXNlTWVudVN0YXRlIH0gZnJvbSAnLi4vbWVudS1zdGF0ZS9tZW51LXN0YXRlJ1xuaW1wb3J0IFBvcG92ZXIgZnJvbSAnQG11aS9tYXRlcmlhbC9Qb3BvdmVyJ1xuaW1wb3J0IEJhZGdlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvQmFkZ2UnXG5cbmNvbnN0IFNlbGVjdGVkUmVzdWx0cyA9ICh7IHNlbGVjdGlvbkludGVyZmFjZSB9OiBhbnkpID0+IHtcbiAgY29uc3Qgc2VsZWN0ZWRSZXN1bHRzID0gdXNlTGF6eVJlc3VsdHNTZWxlY3RlZFJlc3VsdHNGcm9tU2VsZWN0aW9uSW50ZXJmYWNlKHtcbiAgICBzZWxlY3Rpb25JbnRlcmZhY2UsXG4gIH0pXG4gIGNvbnN0IHNlbGVjdGVkUmVzdWx0c0FycmF5ID0gT2JqZWN0LnZhbHVlcyhzZWxlY3RlZFJlc3VsdHMpXG4gIGNvbnN0IHsgTXVpQnV0dG9uUHJvcHMsIE11aVBvcG92ZXJQcm9wcywgaGFuZGxlQ2xvc2UgfSA9IHVzZU1lbnVTdGF0ZSgpXG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEJ1dHRvblxuICAgICAgICBkYXRhLWlkPVwicmVzdWx0LXNlbGVjdG9yLW1vcmUtdmVydC1idXR0b25cIlxuICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSAke1xuICAgICAgICAgIHNlbGVjdGVkUmVzdWx0c0FycmF5Lmxlbmd0aCA9PT0gMCA/ICdpbnZpc2libGUnIDogJydcbiAgICAgICAgfWB9XG4gICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgIGRpc2FibGVkPXtzZWxlY3RlZFJlc3VsdHNBcnJheS5sZW5ndGggPT09IDB9XG4gICAgICAgIHN0eWxlPXt7IGhlaWdodDogJzEwMCUnIH19XG4gICAgICAgIHNpemU9XCJzbWFsbFwiXG4gICAgICAgIHsuLi5NdWlCdXR0b25Qcm9wc31cbiAgICAgID5cbiAgICAgICAge3NlbGVjdGVkUmVzdWx0c0FycmF5Lmxlbmd0aH0gc2VsZWN0ZWRcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICBzZWxlY3RlZFJlc3VsdHNBcnJheS5sZW5ndGggPT09IDAgPyAnJyA6ICdNdWktdGV4dC10ZXh0LXByaW1hcnknXG4gICAgICAgICAgfVxuICAgICAgICA+XG4gICAgICAgICAgPE1vcmVJY29uIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9CdXR0b24+XG4gICAgICA8UG9wb3ZlciB7Li4uTXVpUG9wb3ZlclByb3BzfSBrZWVwTW91bnRlZD17dHJ1ZX0+XG4gICAgICAgIDxQYXBlcj5cbiAgICAgICAgICA8TGF6eU1ldGFjYXJkSW50ZXJhY3Rpb25zXG4gICAgICAgICAgICBsYXp5UmVzdWx0cz17c2VsZWN0ZWRSZXN1bHRzQXJyYXl9XG4gICAgICAgICAgICBvbkNsb3NlPXtoYW5kbGVDbG9zZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L1BhcGVyPlxuICAgICAgPC9Qb3BvdmVyPlxuICAgIDwvPlxuICApXG59XG5cbmNvbnN0IGRldGVybWluZVJlc3VsdEZpbHRlclNpemUgPSAoKSA9PiB7XG4gIGNvbnN0IHJlc3VsdEZpbHRlcnMgPSB1c2VyLmdldCgndXNlcicpLmdldCgncHJlZmVyZW5jZXMnKS5nZXQoJ3Jlc3VsdEZpbHRlcicpXG4gIGlmICghcmVzdWx0RmlsdGVycyB8fCAhcmVzdWx0RmlsdGVycy5maWx0ZXJzKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICByZXR1cm4gcmVzdWx0RmlsdGVycy5maWx0ZXJzLmxlbmd0aFxufVxuXG5jb25zdCBkZXRlcm1pbmVSZXN1bHRTb3J0U2l6ZSA9ICgpID0+IHtcbiAgY29uc3QgcmVzdWx0U29ydHMgPSB1c2VyLmdldCgndXNlcicpLmdldCgncHJlZmVyZW5jZXMnKS5nZXQoJ3Jlc3VsdFNvcnQnKVxuICBpZiAoIXJlc3VsdFNvcnRzKSB7XG4gICAgcmV0dXJuIDBcbiAgfVxuICByZXR1cm4gcmVzdWx0U29ydHMubGVuZ3RoXG59XG5cbnR5cGUgUHJvcHMgPSB7XG4gIHNlbGVjdGlvbkludGVyZmFjZTogYW55XG4gIG1vZGVsOiBhbnlcbiAgZ29sZGVuTGF5b3V0OiBhbnlcbiAgbGF5b3V0UmVzdWx0PzogUmVzdWx0VHlwZVxuICBlZGl0TGF5b3V0UmVmPzogYW55XG59XG5cbmNvbnN0IFJlc3VsdFNlbGVjdG9yID0gKHtcbiAgc2VsZWN0aW9uSW50ZXJmYWNlLFxuICBtb2RlbCxcbiAgZ29sZGVuTGF5b3V0LFxuICBsYXlvdXRSZXN1bHQsXG4gIGVkaXRMYXlvdXRSZWYsXG59OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IGlzU2VhcmNoaW5nIH0gPSB1c2VMYXp5UmVzdWx0c1N0YXR1c0Zyb21TZWxlY3Rpb25JbnRlcmZhY2Uoe1xuICAgIHNlbGVjdGlvbkludGVyZmFjZSxcbiAgfSlcbiAgY29uc3QgW3Jlc3VsdEZpbHRlclNpemUsIHNldFJlc3VsdEZpbHRlclNpemVdID0gUmVhY3QudXNlU3RhdGUoXG4gICAgZGV0ZXJtaW5lUmVzdWx0RmlsdGVyU2l6ZSgpXG4gIClcbiAgY29uc3QgW3Jlc3VsdFNvcnRTaXplLCBzZXRSZXN1bHRTb3J0U2l6ZV0gPSBSZWFjdC51c2VTdGF0ZShcbiAgICBkZXRlcm1pbmVSZXN1bHRTb3J0U2l6ZSgpXG4gIClcbiAgY29uc3QgeyBsaXN0ZW5UbyB9ID0gdXNlQmFja2JvbmUoKVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxpc3RlblRvKHVzZXIuZ2V0KCd1c2VyJykuZ2V0KCdwcmVmZXJlbmNlcycpLCAnY2hhbmdlOnJlc3VsdEZpbHRlcicsICgpID0+IHtcbiAgICAgIHNldFJlc3VsdEZpbHRlclNpemUoZGV0ZXJtaW5lUmVzdWx0RmlsdGVyU2l6ZSgpKVxuICAgIH0pXG4gICAgbGlzdGVuVG8odXNlci5nZXQoJ3VzZXInKS5nZXQoJ3ByZWZlcmVuY2VzJyksICdjaGFuZ2U6cmVzdWx0U29ydCcsICgpID0+IHtcbiAgICAgIHNldFJlc3VsdFNvcnRTaXplKGRldGVybWluZVJlc3VsdFNvcnRTaXplKCkpXG4gICAgfSlcbiAgfSwgW10pXG4gIGNvbnN0IExheW91dERyb3Bkb3duID0gRXh0ZW5zaW9ucy5sYXlvdXREcm9wZG93bih7XG4gICAgZ29sZGVuTGF5b3V0LFxuICAgIGxheW91dFJlc3VsdCxcbiAgICBlZGl0TGF5b3V0UmVmLFxuICB9KVxuICBjb25zdCByZXN1bHRGaWx0ZXJNZW51U3RhdGUgPSB1c2VNZW51U3RhdGUoKVxuICBjb25zdCByZXN1bHRTb3J0TWVudVN0YXRlID0gdXNlTWVudVN0YXRlKClcbiAgY29uc3QgbGF5b3V0TWVudVN0YXRlID0gdXNlTWVudVN0YXRlKClcbiAgcmV0dXJuIChcbiAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICA8R3JpZFxuICAgICAgICBjb250YWluZXJcbiAgICAgICAgYWxpZ25JdGVtcz1cImNlbnRlclwiXG4gICAgICAgIGp1c3RpZnlDb250ZW50PVwiZmxleC1zdGFydFwiXG4gICAgICAgIGRpcmVjdGlvbj1cInJvd1wiXG4gICAgICA+XG4gICAgICAgIHtpc1NlYXJjaGluZyA/IChcbiAgICAgICAgICA8TGluZWFyUHJvZ3Jlc3NcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJxdWVyeVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJvcGFjaXR5LTEwMCBhYnNvbHV0ZSB3LWZ1bGwgaC0xIGxlZnQtMCBib3R0b20tMFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAgPEdyaWQgaXRlbT5cbiAgICAgICAgICA8U3BlbGxjaGVja1xuICAgICAgICAgICAga2V5PXtNYXRoLnJhbmRvbSgpfVxuICAgICAgICAgICAgc2VsZWN0aW9uSW50ZXJmYWNlPXtzZWxlY3Rpb25JbnRlcmZhY2V9XG4gICAgICAgICAgICBtb2RlbD17bW9kZWx9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9HcmlkPlxuICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInJlbGF0aXZlIHotMTBcIj5cbiAgICAgICAgICA8UXVlcnlGZWVkIHNlbGVjdGlvbkludGVyZmFjZT17c2VsZWN0aW9uSW50ZXJmYWNlfSAvPlxuICAgICAgICA8L0dyaWQ+XG5cbiAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9XCJyZWxhdGl2ZSB6LTBcIj5cbiAgICAgICAgICA8U2VsZWN0aW9uUmlwcGxlIHNlbGVjdGlvbkludGVyZmFjZT17c2VsZWN0aW9uSW50ZXJmYWNlfSAvPlxuICAgICAgICAgIDxTZWxlY3RlZFJlc3VsdHMgc2VsZWN0aW9uSW50ZXJmYWNlPXtzZWxlY3Rpb25JbnRlcmZhY2V9IC8+XG4gICAgICAgIDwvR3JpZD5cbiAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9XCJwbC0yIG14LWF1dG9cIj5cbiAgICAgICAgICA8UGFnaW5nIHNlbGVjdGlvbkludGVyZmFjZT17c2VsZWN0aW9uSW50ZXJmYWNlfSAvPlxuICAgICAgICA8L0dyaWQ+XG4gICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPVwibWwtYXV0b1wiPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGRhdGEtaWQ9XCJmaWx0ZXItYnV0dG9uXCJcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJ0ZXh0XCJcbiAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgICB7Li4ucmVzdWx0RmlsdGVyTWVudVN0YXRlLk11aUJ1dHRvblByb3BzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxCYWRnZVxuICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgIGJhZGdlQ29udGVudD17cmVzdWx0RmlsdGVyU2l6ZX1cbiAgICAgICAgICAgICAgYW5jaG9yT3JpZ2luPXt7XG4gICAgICAgICAgICAgICAgdmVydGljYWw6ICd0b3AnLFxuICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdsZWZ0JyxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEZpbHRlckxpc3RJY29uIGNsYXNzTmFtZT1cIk11aS10ZXh0LXRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgICAgICAgIEZpbHRlclxuICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8UG9wb3ZlciB7Li4ucmVzdWx0RmlsdGVyTWVudVN0YXRlLk11aVBvcG92ZXJQcm9wc30+XG4gICAgICAgICAgICA8UGFwZXIgY2xhc3NOYW1lPVwicC0zXCIgZWxldmF0aW9uPXtFbGV2YXRpb25zLm92ZXJsYXlzfT5cbiAgICAgICAgICAgICAgPFJlc3VsdEZpbHRlciBjbG9zZURyb3Bkb3duPXtyZXN1bHRGaWx0ZXJNZW51U3RhdGUuaGFuZGxlQ2xvc2V9IC8+XG4gICAgICAgICAgICA8L1BhcGVyPlxuICAgICAgICAgIDwvUG9wb3Zlcj5cbiAgICAgICAgPC9HcmlkPlxuICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInBsLTJcIj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBkYXRhLWlkPVwic29ydC1idXR0b25cIlxuICAgICAgICAgICAgdmFyaWFudD1cInRleHRcIlxuICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIHsuLi5yZXN1bHRTb3J0TWVudVN0YXRlLk11aUJ1dHRvblByb3BzfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxCYWRnZVxuICAgICAgICAgICAgICBjb2xvcj1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgIGJhZGdlQ29udGVudD17cmVzdWx0U29ydFNpemV9XG4gICAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xuICAgICAgICAgICAgICAgIHZlcnRpY2FsOiAndG9wJyxcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAnbGVmdCcsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW1zLWNlbnRlclwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxBcnJvd0Rvd253YXJkSWNvbiBjbGFzc05hbWU9XCJNdWktdGV4dC10ZXh0LXByaW1hcnlcIiAvPlxuICAgICAgICAgICAgICBTb3J0XG4gICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxQb3BvdmVyIHsuLi5yZXN1bHRTb3J0TWVudVN0YXRlLk11aVBvcG92ZXJQcm9wc30+XG4gICAgICAgICAgICA8UGFwZXIgY2xhc3NOYW1lPVwicC0zXCIgZWxldmF0aW9uPXtFbGV2YXRpb25zLm92ZXJsYXlzfT5cbiAgICAgICAgICAgICAgPEVwaGVtZXJhbFNlYXJjaFNvcnRcbiAgICAgICAgICAgICAgICBjbG9zZURyb3Bkb3duPXtyZXN1bHRTb3J0TWVudVN0YXRlLmhhbmRsZUNsb3NlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9QYXBlcj5cbiAgICAgICAgICA8L1BvcG92ZXI+XG4gICAgICAgIDwvR3JpZD5cbiAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9XCJwbC0yXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgZGF0YS1pZD1cImxheW91dC1idXR0b25cIlxuICAgICAgICAgICAgY29sb3I9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgIHsuLi5sYXlvdXRNZW51U3RhdGUuTXVpQnV0dG9uUHJvcHN9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPExheW91dERyb3Bkb3duSWNvbiBjbGFzc05hbWU9XCJNdWktdGV4dC10ZXh0LXByaW1hcnlcIiAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwbC0xXCI+TGF5b3V0PC9kaXY+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPFBvcG92ZXIgey4uLmxheW91dE1lbnVTdGF0ZS5NdWlQb3BvdmVyUHJvcHN9PlxuICAgICAgICAgICAgPFBhcGVyIGNsYXNzTmFtZT1cInAtM1wiIGVsZXZhdGlvbj17RWxldmF0aW9ucy5vdmVybGF5c30+XG4gICAgICAgICAgICAgIHtMYXlvdXREcm9wZG93biB8fCAoXG4gICAgICAgICAgICAgICAgPFZpc3VhbGl6YXRpb25TZWxlY3RvclxuICAgICAgICAgICAgICAgICAgb25DbG9zZT17bGF5b3V0TWVudVN0YXRlLmhhbmRsZUNsb3NlfVxuICAgICAgICAgICAgICAgICAgZ29sZGVuTGF5b3V0PXtnb2xkZW5MYXlvdXR9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvUGFwZXI+XG4gICAgICAgICAgPC9Qb3BvdmVyPlxuICAgICAgICA8L0dyaWQ+XG4gICAgICA8L0dyaWQ+XG4gICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBob3QobW9kdWxlKShSZXN1bHRTZWxlY3RvcilcbiJdfQ==
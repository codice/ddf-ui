import { __assign, __rest } from "tslib";
import * as React from 'react';
import FakeIcon from '@mui/icons-material/AcUnit';
import Button from '@mui/material/Button';
import { hot } from 'react-hot-loader';
import Tooltip from '@mui/material/Tooltip';
import Paper from '@mui/material/Paper';
import { Elevations } from '../theme/theme';
import { useIsTruncated } from '../overflow-tooltip/overflow-tooltip';
var ExpandingButton = function (_a) {
    var expanded = _a.expanded, Icon = _a.Icon, expandedLabel = _a.expandedLabel, unexpandedLabel = _a.unexpandedLabel, _b = _a.dataId, dataId = _b === void 0 ? (expandedLabel === null || expandedLabel === void 0 ? void 0 : expandedLabel.toString()) || 'default' : _b, _c = _a.orientation, orientation = _c === void 0 ? 'horizontal' : _c, buttonProps = __rest(_a, ["expanded", "Icon", "expandedLabel", "unexpandedLabel", "dataId", "orientation"]);
    var className = buttonProps.className, otherButtonProps = __rest(buttonProps, ["className"]);
    var isTruncatedState = useIsTruncated();
    var disableTooltip = (function () {
        if ((orientation === 'vertical' && !expanded) ||
            (!unexpandedLabel && !expanded)) {
            return false;
        }
        else {
            return !isTruncatedState.isTruncated;
        }
    })();
    return (React.createElement(Tooltip, { title: disableTooltip ? ('') : (React.createElement(Paper, { elevation: Elevations.overlays },
            React.createElement("div", { className: "p-2" }, expandedLabel))), onOpen: function () {
            isTruncatedState.compareSize.current();
        }, placement: "right" },
        React.createElement(Button, __assign({ "data-id": dataId, fullWidth: true, className: "".concat(className, " transition-all duration-200 ease-in-out whitespace-nowrap max-w-full overflow-hidden relative outline-none ").concat(expanded ? '' : 'p-0') }, otherButtonProps),
            React.createElement("div", { className: "flex flex-row flex-nowrap items-center w-full h-full", ref: isTruncatedState.ref },
                React.createElement("div", { className: " ".concat(expanded ? 'hidden' : '', " w-full flex flex-col shrink-0 items-center justify-start flex-nowrap py-2") },
                    Icon ? React.createElement(Icon, { className: "py-1" }) : null,
                    React.createElement("div", { className: "".concat(orientation === 'horizontal'
                            ? 'w-full'
                            : 'writing-mode-vertical-lr', " truncate text-center") }, unexpandedLabel)),
                React.createElement("div", { className: "".concat(expanded ? '' : 'hidden', " pl-4 shrink-1 w-full truncate") },
                    React.createElement("div", { className: "flex flex-row items-center flex-nowrap w-full" },
                        Icon ? (React.createElement(Icon, { className: "transition duration-200 ease-in-out mr-2 shrink-0" })) : (React.createElement(FakeIcon, { className: "transition duration-200 ease-in-out mr-2 opacity-0 shrink-0" })),
                        React.createElement("div", { className: "flex flex-col items-start flex-nowrap text-lg w-full shrink-1 truncate" }, expandedLabel)))))));
};
export default hot(module)(ExpandingButton);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwYW5kaW5nLWJ1dHRvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9tYWluL3dlYmFwcC9jb21wb25lbnQvYnV0dG9uL2V4cGFuZGluZy1idXR0b24udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUM5QixPQUFPLFFBQVEsTUFBTSw0QkFBNEIsQ0FBQTtBQUNqRCxPQUFPLE1BQXVCLE1BQU0sc0JBQXNCLENBQUE7QUFFMUQsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGtCQUFrQixDQUFBO0FBQ3RDLE9BQU8sT0FBTyxNQUFNLHVCQUF1QixDQUFBO0FBQzNDLE9BQU8sS0FBSyxNQUFNLHFCQUFxQixDQUFBO0FBQ3ZDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQTtBQUMzQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sc0NBQXNDLENBQUE7QUE0QnJFLElBQU0sZUFBZSxHQUFHLFVBQUMsRUFRRjtJQVByQixJQUFBLFFBQVEsY0FBQSxFQUNSLElBQUksVUFBQSxFQUNKLGFBQWEsbUJBQUEsRUFDYixlQUFlLHFCQUFBLEVBQ2YsY0FBK0MsRUFBL0MsTUFBTSxtQkFBRyxDQUFBLGFBQWEsYUFBYixhQUFhLHVCQUFiLGFBQWEsQ0FBRSxRQUFRLEVBQUUsS0FBSSxTQUFTLEtBQUEsRUFDL0MsbUJBQTBCLEVBQTFCLFdBQVcsbUJBQUcsWUFBWSxLQUFBLEVBQ3ZCLFdBQVcsY0FQUyxpRkFReEIsQ0FEZTtJQUVOLElBQUEsU0FBUyxHQUEwQixXQUFXLFVBQXJDLEVBQUssZ0JBQWdCLFVBQUssV0FBVyxFQUFoRCxhQUFrQyxDQUFGLENBQWdCO0lBQ3RELElBQU0sZ0JBQWdCLEdBQUcsY0FBYyxFQUFrQixDQUFBO0lBQ3pELElBQU0sY0FBYyxHQUFHLENBQUM7UUFDdEIsSUFDRSxDQUFDLFdBQVcsS0FBSyxVQUFVLElBQUksQ0FBQyxRQUFRLENBQUM7WUFDekMsQ0FBQyxDQUFDLGVBQWUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUMvQjtZQUNBLE9BQU8sS0FBSyxDQUFBO1NBQ2I7YUFBTTtZQUNMLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLENBQUE7U0FDckM7SUFDSCxDQUFDLENBQUMsRUFBRSxDQUFBO0lBQ0osT0FBTyxDQUNMLG9CQUFDLE9BQU8sSUFDTixLQUFLLEVBQ0gsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUNmLEVBQUUsQ0FDSCxDQUFDLENBQUMsQ0FBQyxDQUNGLG9CQUFDLEtBQUssSUFBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLFFBQVE7WUFDbkMsNkJBQUssU0FBUyxFQUFDLEtBQUssSUFBRSxhQUFhLENBQU8sQ0FDcEMsQ0FDVCxFQUVILE1BQU0sRUFBRTtZQUNOLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUN4QyxDQUFDLEVBQ0QsU0FBUyxFQUFDLE9BQU87UUFFakIsb0JBQUMsTUFBTSx3QkFDSSxNQUFNLEVBQ2YsU0FBUyxRQUNULFNBQVMsRUFBRSxVQUFHLFNBQVMseUhBQ3JCLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQ3JCLElBQ0UsZ0JBQWdCO1lBRXBCLDZCQUNFLFNBQVMsRUFBRSxzREFBc0QsRUFDakUsR0FBRyxFQUFFLGdCQUFnQixDQUFDLEdBQUc7Z0JBRXpCLDZCQUNFLFNBQVMsRUFBRSxXQUNULFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLCtFQUNrRDtvQkFFM0UsSUFBSSxDQUFDLENBQUMsQ0FBQyxvQkFBQyxJQUFJLElBQUMsU0FBUyxFQUFFLE1BQU0sR0FBSSxDQUFDLENBQUMsQ0FBQyxJQUFJO29CQUMxQyw2QkFDRSxTQUFTLEVBQUUsVUFDVCxXQUFXLEtBQUssWUFBWTs0QkFDMUIsQ0FBQyxDQUFDLFFBQVE7NEJBQ1YsQ0FBQyxDQUFDLDBCQUEwQiwwQkFDVCxJQUV0QixlQUFlLENBQ1osQ0FDRjtnQkFFTiw2QkFDRSxTQUFTLEVBQUUsVUFDVCxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxtQ0FDTTtvQkFFaEMsNkJBQUssU0FBUyxFQUFDLCtDQUErQzt3QkFDM0QsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUNOLG9CQUFDLElBQUksSUFBQyxTQUFTLEVBQUMsbURBQW1ELEdBQUcsQ0FDdkUsQ0FBQyxDQUFDLENBQUMsQ0FDRixvQkFBQyxRQUFRLElBQUMsU0FBUyxFQUFDLDZEQUE2RCxHQUFHLENBQ3JGO3dCQUNELDZCQUFLLFNBQVMsRUFBQyx3RUFBd0UsSUFDcEYsYUFBYSxDQUNWLENBQ0YsQ0FDRixDQUNGLENBQ0MsQ0FDRCxDQUNYLENBQUE7QUFDSCxDQUFDLENBQUE7QUFFRCxlQUFlLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0J1xuaW1wb3J0IEZha2VJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQWNVbml0J1xuaW1wb3J0IEJ1dHRvbiwgeyBCdXR0b25Qcm9wcyB9IGZyb20gJ0BtdWkvbWF0ZXJpYWwvQnV0dG9uJ1xuaW1wb3J0IHsgTGlua1Byb3BzLCBMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSdcbmltcG9ydCB7IGhvdCB9IGZyb20gJ3JlYWN0LWhvdC1sb2FkZXInXG5pbXBvcnQgVG9vbHRpcCBmcm9tICdAbXVpL21hdGVyaWFsL1Rvb2x0aXAnXG5pbXBvcnQgUGFwZXIgZnJvbSAnQG11aS9tYXRlcmlhbC9QYXBlcidcbmltcG9ydCB7IEVsZXZhdGlvbnMgfSBmcm9tICcuLi90aGVtZS90aGVtZSdcbmltcG9ydCB7IHVzZUlzVHJ1bmNhdGVkIH0gZnJvbSAnLi4vb3ZlcmZsb3ctdG9vbHRpcC9vdmVyZmxvdy10b29sdGlwJ1xuXG5leHBvcnQgdHlwZSBCYXNlUHJvcHMgPSB7XG4gIEljb24/OiBSZWFjdC5GQzxSZWFjdC5Qcm9wc1dpdGhDaGlsZHJlbjxhbnk+PlxuICBleHBhbmRlZExhYmVsOiBSZWFjdC5SZWFjdE5vZGVcbiAgdW5leHBhbmRlZExhYmVsOiBSZWFjdC5SZWFjdE5vZGVcbiAgZGF0YUlkPzogc3RyaW5nXG4gIGV4cGFuZGVkOiBib29sZWFuXG4gIG9yaWVudGF0aW9uPzogJ3ZlcnRpY2FsJyB8ICdob3Jpem9udGFsJ1xufVxuXG50eXBlIEV4cGFuZGluZ0J1dHRvblByb3BzID1cbiAgfCAoQnV0dG9uUHJvcHMgJiB7XG4gICAgICBjb21wb25lbnQ/OiB1bmRlZmluZWRcbiAgICB9ICYgQmFzZVByb3BzKVxuICB8IChCdXR0b25Qcm9wcyAmXG4gICAgICBCYXNlUHJvcHMgJiB7XG4gICAgICAgIGNvbXBvbmVudDogdHlwZW9mIExpbmtcbiAgICAgIH0gJiBQYXJ0aWFsPExpbmtQcm9wcz4pXG4gIHwgKEJ1dHRvblByb3BzICZcbiAgICAgIEJhc2VQcm9wcyAmIHtcbiAgICAgICAgY29tcG9uZW50OiAnYSdcbiAgICAgIH0gJiBQYXJ0aWFsPFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxBbmNob3JFbGVtZW50Pj4pXG4gIHwgKEJ1dHRvblByb3BzICZcbiAgICAgIEJhc2VQcm9wcyAmIHtcbiAgICAgICAgY29tcG9uZW50OiB0eXBlb2YgQnV0dG9uXG4gICAgICB9ICYgUGFydGlhbDxCdXR0b25Qcm9wcz4pXG5cbmNvbnN0IEV4cGFuZGluZ0J1dHRvbiA9ICh7XG4gIGV4cGFuZGVkLFxuICBJY29uLFxuICBleHBhbmRlZExhYmVsLFxuICB1bmV4cGFuZGVkTGFiZWwsXG4gIGRhdGFJZCA9IGV4cGFuZGVkTGFiZWw/LnRvU3RyaW5nKCkgfHwgJ2RlZmF1bHQnLFxuICBvcmllbnRhdGlvbiA9ICdob3Jpem9udGFsJyxcbiAgLi4uYnV0dG9uUHJvcHNcbn06IEV4cGFuZGluZ0J1dHRvblByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlckJ1dHRvblByb3BzIH0gPSBidXR0b25Qcm9wc1xuICBjb25zdCBpc1RydW5jYXRlZFN0YXRlID0gdXNlSXNUcnVuY2F0ZWQ8SFRNTERpdkVsZW1lbnQ+KClcbiAgY29uc3QgZGlzYWJsZVRvb2x0aXAgPSAoKCkgPT4ge1xuICAgIGlmIChcbiAgICAgIChvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyAmJiAhZXhwYW5kZWQpIHx8XG4gICAgICAoIXVuZXhwYW5kZWRMYWJlbCAmJiAhZXhwYW5kZWQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICFpc1RydW5jYXRlZFN0YXRlLmlzVHJ1bmNhdGVkXG4gICAgfVxuICB9KSgpXG4gIHJldHVybiAoXG4gICAgPFRvb2x0aXBcbiAgICAgIHRpdGxlPXtcbiAgICAgICAgZGlzYWJsZVRvb2x0aXAgPyAoXG4gICAgICAgICAgJydcbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8UGFwZXIgZWxldmF0aW9uPXtFbGV2YXRpb25zLm92ZXJsYXlzfT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yXCI+e2V4cGFuZGVkTGFiZWx9PC9kaXY+XG4gICAgICAgICAgPC9QYXBlcj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgb25PcGVuPXsoKSA9PiB7XG4gICAgICAgIGlzVHJ1bmNhdGVkU3RhdGUuY29tcGFyZVNpemUuY3VycmVudCgpXG4gICAgICB9fVxuICAgICAgcGxhY2VtZW50PVwicmlnaHRcIlxuICAgID5cbiAgICAgIDxCdXR0b25cbiAgICAgICAgZGF0YS1pZD17ZGF0YUlkfVxuICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBlYXNlLWluLW91dCB3aGl0ZXNwYWNlLW5vd3JhcCBtYXgtdy1mdWxsIG92ZXJmbG93LWhpZGRlbiByZWxhdGl2ZSBvdXRsaW5lLW5vbmUgJHtcbiAgICAgICAgICBleHBhbmRlZCA/ICcnIDogJ3AtMCdcbiAgICAgICAgfWB9XG4gICAgICAgIHsuLi5vdGhlckJ1dHRvblByb3BzfVxuICAgICAgPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBmbGV4LXJvdyBmbGV4LW5vd3JhcCBpdGVtcy1jZW50ZXIgdy1mdWxsIGgtZnVsbGB9XG4gICAgICAgICAgcmVmPXtpc1RydW5jYXRlZFN0YXRlLnJlZn1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YCAke1xuICAgICAgICAgICAgICBleHBhbmRlZCA/ICdoaWRkZW4nIDogJydcbiAgICAgICAgICAgIH0gdy1mdWxsIGZsZXggZmxleC1jb2wgc2hyaW5rLTAgaXRlbXMtY2VudGVyIGp1c3RpZnktc3RhcnQgZmxleC1ub3dyYXAgcHktMmB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge0ljb24gPyA8SWNvbiBjbGFzc05hbWU9e2BweS0xYH0gLz4gOiBudWxsfVxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2Ake1xuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCdcbiAgICAgICAgICAgICAgICAgID8gJ3ctZnVsbCdcbiAgICAgICAgICAgICAgICAgIDogJ3dyaXRpbmctbW9kZS12ZXJ0aWNhbC1scidcbiAgICAgICAgICAgICAgfSB0cnVuY2F0ZSB0ZXh0LWNlbnRlcmB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt1bmV4cGFuZGVkTGFiZWx9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7XG4gICAgICAgICAgICAgIGV4cGFuZGVkID8gJycgOiAnaGlkZGVuJ1xuICAgICAgICAgICAgfSBwbC00IHNocmluay0xIHctZnVsbCB0cnVuY2F0ZWB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBmbGV4LW5vd3JhcCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAge0ljb24gPyAoXG4gICAgICAgICAgICAgICAgPEljb24gY2xhc3NOYW1lPVwidHJhbnNpdGlvbiBkdXJhdGlvbi0yMDAgZWFzZS1pbi1vdXQgbXItMiBzaHJpbmstMFwiIC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPEZha2VJY29uIGNsYXNzTmFtZT1cInRyYW5zaXRpb24gZHVyYXRpb24tMjAwIGVhc2UtaW4tb3V0IG1yLTIgb3BhY2l0eS0wIHNocmluay0wXCIgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLXN0YXJ0IGZsZXgtbm93cmFwIHRleHQtbGcgdy1mdWxsIHNocmluay0xIHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAge2V4cGFuZGVkTGFiZWx9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9CdXR0b24+XG4gICAgPC9Ub29sdGlwPlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IGhvdChtb2R1bGUpKEV4cGFuZGluZ0J1dHRvbilcbiJdfQ==
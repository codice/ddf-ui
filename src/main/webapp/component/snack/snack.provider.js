import { __assign, __read, __spreadArray } from "tslib";
import React, { createContext, useState, useEffect, useMemo } from 'react';
import Button from '@mui/material/Button';
import SnackBar from '@mui/material/Snackbar';
import Alert from '@mui/material/Alert';
import IconButton from '@mui/material/IconButton';
import CloseIcon from '@mui/icons-material/Close';
import Portal from '@mui/material/Portal';
var AUTO_DISMISS = 5000;
// Gives the addSnack function the correct type signature
export var SnackBarContext = createContext({});
export function SnackProvider(_a) {
    var children = _a.children;
    var _b = __read(useState([]), 2), snacks = _b[0], setSnacks = _b[1];
    var _c = __read(useState({}), 2), currentSnack = _c[0], setCurrentSnack = _c[1];
    var addSnack = function (message, props) {
        if (props === void 0) { props = {}; }
        var newSnack = __assign({ message: message }, props);
        setSnacks(function (snacks) {
            if (props.id) {
                var snackIndex = snacks.findIndex(function (s) { return s.id === props.id; });
                if (snackIndex >= 0) {
                    snacks.splice(snackIndex, 1);
                }
            }
            return __spreadArray([newSnack], __read(snacks), false);
        });
        var closeSnack = function () {
            setSnacks(function (snacks) { return snacks.filter(function (snack) { return snack !== newSnack; }); });
        };
        return closeSnack;
    };
    // Set current snack to be displayed
    useEffect(function () {
        if (snacks.length > 0) {
            setCurrentSnack(snacks[snacks.length - 1]);
        }
    }, [snacks]);
    // Remove snack after timeout
    useEffect(function () {
        if (currentSnack.message) {
            var timeout = currentSnack.timeout || AUTO_DISMISS;
            var timer_1 = setTimeout(function () {
                removeCurrentSnack();
            }, timeout);
            return function () { return clearTimeout(timer_1); };
        }
        return;
    }, [currentSnack]);
    var handleClose = function (_e, reason) {
        if (reason === 'clickaway' && currentSnack.clickawayCloseable) {
            removeCurrentSnack();
        }
        else if (reason !== 'clickaway' && currentSnack.closeable) {
            removeCurrentSnack();
        }
    };
    var handleUndo = function () {
        currentSnack.undo && currentSnack.undo();
        removeCurrentSnack();
    };
    var removeCurrentSnack = function () {
        setCurrentSnack({});
        setSnacks(function (snacks) { return snacks.slice(0, snacks.length - 1); });
    };
    var value = useMemo(function () { return addSnack; }, []);
    var message = currentSnack.message, status = currentSnack.status, closeable = currentSnack.closeable, undo = currentSnack.undo, snackBarProps = currentSnack.snackBarProps, alertProps = currentSnack.alertProps;
    return (React.createElement(SnackBarContext.Provider, { value: value },
        children,
        message && (React.createElement(Portal, null,
            React.createElement(SnackBar, __assign({ key: message, className: "left-0 bottom-0 p-4 max-w-full", anchorOrigin: {
                    vertical: 'bottom',
                    horizontal: 'left',
                }, open: true, onClose: handleClose }, snackBarProps),
                React.createElement(Alert, __assign({ style: {
                        minWidth: '18rem',
                        alignItems: 'center',
                    }, action: React.createElement(React.Fragment, null,
                        undo && (React.createElement(Button, { color: "inherit", size: "small", style: { fontSize: '.75rem' }, onClick: handleUndo }, "UNDO")),
                        closeable && (
                        // @ts-expect-error ts-migrate(2769) FIXME: No overload matches this call.
                        React.createElement(IconButton, { style: { padding: '3px' }, color: "inherit", onClick: handleClose, size: "large" },
                            React.createElement(CloseIcon, { fontSize: "small" })))), severity: status }, alertProps), message))))));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic25hY2sucHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbWFpbi93ZWJhcHAvY29tcG9uZW50L3NuYWNrL3NuYWNrLnByb3ZpZGVyLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxLQUFLLEVBQUUsRUFBRSxhQUFhLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsTUFBTSxPQUFPLENBQUE7QUFDMUUsT0FBTyxNQUFNLE1BQU0sc0JBQXNCLENBQUE7QUFDekMsT0FBTyxRQUEyQixNQUFNLHdCQUF3QixDQUFBO0FBQ2hFLE9BQU8sS0FBcUIsTUFBTSxxQkFBcUIsQ0FBQTtBQUN2RCxPQUFPLFVBQVUsTUFBTSwwQkFBMEIsQ0FBQTtBQUNqRCxPQUFPLFNBQVMsTUFBTSwyQkFBMkIsQ0FBQTtBQUNqRCxPQUFPLE1BQU0sTUFBTSxzQkFBc0IsQ0FBQTtBQW1CekMsSUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFBO0FBRXpCLHlEQUF5RDtBQUN6RCxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQUcsYUFBYSxDQUFXLEVBQWMsQ0FBQyxDQUFBO0FBRXRFLE1BQU0sVUFBVSxhQUFhLENBQUMsRUFBaUI7UUFBZixRQUFRLGNBQUE7SUFDaEMsSUFBQSxLQUFBLE9BQXNCLFFBQVEsQ0FBQyxFQUFhLENBQUMsSUFBQSxFQUE1QyxNQUFNLFFBQUEsRUFBRSxTQUFTLFFBQTJCLENBQUE7SUFDN0MsSUFBQSxLQUFBLE9BQWtDLFFBQVEsQ0FBQyxFQUFXLENBQUMsSUFBQSxFQUF0RCxZQUFZLFFBQUEsRUFBRSxlQUFlLFFBQXlCLENBQUE7SUFFN0QsSUFBTSxRQUFRLEdBQWEsVUFBQyxPQUFPLEVBQUUsS0FBVTtRQUFWLHNCQUFBLEVBQUEsVUFBVTtRQUM3QyxJQUFNLFFBQVEsY0FBSyxPQUFPLFNBQUEsSUFBSyxLQUFLLENBQUUsQ0FBQTtRQUN0QyxTQUFTLENBQUMsVUFBQyxNQUFNO1lB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UUFDbkMsUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUNWLG9CQUFDLE1BQU07WUFDTCxvQkFBQyxRQUFRLGFBQ1AsR0FBRyxFQUFFLE9BQU8sRUFDWixTQUFTLEVBQUMsZ0NBQWdDLEVBQzFDLFlBQVksRUFBRTtvQkFDWixRQUFRLEVBQUUsUUFBUTtvQkFDbEIsVUFBVSxFQUFFLE1BQU07aUJBQ25CLEVBQ0QsSUFBSSxFQUFFLElBQUksRUFDVixPQUFPLEVBQUUsV0FBVyxJQUNoQixhQUFhO2dCQUVqQixvQkFBQyxLQUFLLGFBQ0osS0FBSyxFQUFFO3dCQUNMLFFBQVEsRUFBRSxPQUFPO3dCQUNqQixVQUFVLEVBQUUsUUFBUTtxQkFDckIsRUFDRCxNQUFNLEVBQ0o7d0JBQ0csSUFBSSxJQUFJLENBQ1Asb0JBQUMsTUFBTSxJQUNMLEtBQUssRUFBQyxTQUFTLEVBQ2YsSUFBSSxFQUFDLE9BQU8sRUFDWixLQUFLLEVBQUUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLEVBQzdCLE9BQU8sRUFBRSxVQUFVLFdBR1osQ0FDVjt3QkFDQSxTQUFTLElBQUk7d0JBQ1osMEVBQTBFO3dCQUMxRSxvQkFBQyxVQUFVLElBQ1QsS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUN6QixLQUFLLEVBQUMsU0FBUyxFQUNmLE9BQU8sRUFBRSxXQUFXLEVBQ3BCLElBQUksRUFBQyxPQUFPOzRCQUVaLG9CQUFDLFNBQVMsSUFBQyxRQUFRLEVBQUMsT0FBTyxHQUFHLENBQ25CLENBQ2QsQ0FDQSxFQUVMLFFBQVEsRUFBRSxNQUFNLElBQ1osVUFBVSxHQUViLE9BQU8sQ0FDRixDQUNDLENBQ0osQ0FDVixDQUN3QixDQUM1QixDQUFBO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgQnV0dG9uIGZyb20gJ0BtdWkvbWF0ZXJpYWwvQnV0dG9uJ1xuaW1wb3J0IFNuYWNrQmFyLCB7IFNuYWNrYmFyUHJvcHMgfSBmcm9tICdAbXVpL21hdGVyaWFsL1NuYWNrYmFyJ1xuaW1wb3J0IEFsZXJ0LCB7IEFsZXJ0UHJvcHMgfSBmcm9tICdAbXVpL21hdGVyaWFsL0FsZXJ0J1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG11aS9tYXRlcmlhbC9JY29uQnV0dG9uJ1xuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Nsb3NlJ1xuaW1wb3J0IFBvcnRhbCBmcm9tICdAbXVpL21hdGVyaWFsL1BvcnRhbCdcblxuZXhwb3J0IHR5cGUgQWRkU25hY2sgPSAobWVzc2FnZTogc3RyaW5nLCBwcm9wcz86IFNuYWNrUHJvcHMpID0+ICgpID0+IHZvaWRcblxudHlwZSBTbmFjayA9IHtcbiAgbWVzc2FnZT86IHN0cmluZ1xufSAmIFNuYWNrUHJvcHNcblxuZXhwb3J0IHR5cGUgU25hY2tQcm9wcyA9IHtcbiAgaWQ/OiBzdHJpbmdcbiAgc3RhdHVzPzogQWxlcnRQcm9wc1snc2V2ZXJpdHknXVxuICBjbG9zZWFibGU/OiBib29sZWFuXG4gIGNsaWNrYXdheUNsb3NlYWJsZT86IGJvb2xlYW5cbiAgdGltZW91dD86IG51bWJlclxuICB1bmRvPzogKCkgPT4gdm9pZFxuICBzbmFja0JhclByb3BzPzogU25hY2tiYXJQcm9wc1xuICBhbGVydFByb3BzPzogQWxlcnRQcm9wc1xufVxuXG5jb25zdCBBVVRPX0RJU01JU1MgPSA1MDAwXG5cbi8vIEdpdmVzIHRoZSBhZGRTbmFjayBmdW5jdGlvbiB0aGUgY29ycmVjdCB0eXBlIHNpZ25hdHVyZVxuZXhwb3J0IGNvbnN0IFNuYWNrQmFyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QWRkU25hY2s+KHt9IGFzIEFkZFNuYWNrKVxuXG5leHBvcnQgZnVuY3Rpb24gU25hY2tQcm92aWRlcih7IGNoaWxkcmVuIH06IGFueSkge1xuICBjb25zdCBbc25hY2tzLCBzZXRTbmFja3NdID0gdXNlU3RhdGUoW10gYXMgU25hY2tbXSlcbiAgY29uc3QgW2N1cnJlbnRTbmFjaywgc2V0Q3VycmVudFNuYWNrXSA9IHVzZVN0YXRlKHt9IGFzIFNuYWNrKVxuXG4gIGNvbnN0IGFkZFNuYWNrOiBBZGRTbmFjayA9IChtZXNzYWdlLCBwcm9wcyA9IHt9KSA9PiB7XG4gICAgY29uc3QgbmV3U25hY2sgPSB7IG1lc3NhZ2UsIC4uLnByb3BzIH1cbiAgICBzZXRTbmFja3MoKHNuYWNrcykgPT4ge1xuICAgICAgaWYgKHByb3BzLmlkKSB7XG4gICAgICAgIGNvbnN0IHNuYWNrSW5kZXggPSBzbmFja3MuZmluZEluZGV4KChzKSA9PiBzLmlkID09PSBwcm9wcy5pZClcbiAgICAgICAgaWYgKHNuYWNrSW5kZXggPj0gMCkge1xuICAgICAgICAgIHNuYWNrcy5zcGxpY2Uoc25hY2tJbmRleCwgMSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFtuZXdTbmFjaywgLi4uc25hY2tzXVxuICAgIH0pXG5cbiAgICBjb25zdCBjbG9zZVNuYWNrID0gKCkgPT4ge1xuICAgICAgc2V0U25hY2tzKChzbmFja3MpID0+IHNuYWNrcy5maWx0ZXIoKHNuYWNrKSA9PiBzbmFjayAhPT0gbmV3U25hY2spKVxuICAgIH1cblxuICAgIHJldHVybiBjbG9zZVNuYWNrXG4gIH1cblxuICAvLyBTZXQgY3VycmVudCBzbmFjayB0byBiZSBkaXNwbGF5ZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc25hY2tzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldEN1cnJlbnRTbmFjayhzbmFja3Nbc25hY2tzLmxlbmd0aCAtIDFdKVxuICAgIH1cbiAgfSwgW3NuYWNrc10pXG5cbiAgLy8gUmVtb3ZlIHNuYWNrIGFmdGVyIHRpbWVvdXRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY3VycmVudFNuYWNrLm1lc3NhZ2UpIHtcbiAgICAgIGNvbnN0IHRpbWVvdXQgPSBjdXJyZW50U25hY2sudGltZW91dCB8fCBBVVRPX0RJU01JU1NcblxuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgcmVtb3ZlQ3VycmVudFNuYWNrKClcbiAgICAgIH0sIHRpbWVvdXQpXG5cbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpXG4gICAgfVxuXG4gICAgcmV0dXJuXG4gIH0sIFtjdXJyZW50U25hY2tdKVxuXG4gIGNvbnN0IGhhbmRsZUNsb3NlID0gKF9lOiBhbnksIHJlYXNvbjogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHJlYXNvbiA9PT0gJ2NsaWNrYXdheScgJiYgY3VycmVudFNuYWNrLmNsaWNrYXdheUNsb3NlYWJsZSkge1xuICAgICAgcmVtb3ZlQ3VycmVudFNuYWNrKClcbiAgICB9IGVsc2UgaWYgKHJlYXNvbiAhPT0gJ2NsaWNrYXdheScgJiYgY3VycmVudFNuYWNrLmNsb3NlYWJsZSkge1xuICAgICAgcmVtb3ZlQ3VycmVudFNuYWNrKClcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVVbmRvID0gKCkgPT4ge1xuICAgIGN1cnJlbnRTbmFjay51bmRvICYmIGN1cnJlbnRTbmFjay51bmRvKClcbiAgICByZW1vdmVDdXJyZW50U25hY2soKVxuICB9XG5cbiAgY29uc3QgcmVtb3ZlQ3VycmVudFNuYWNrID0gKCkgPT4ge1xuICAgIHNldEN1cnJlbnRTbmFjayh7fSlcbiAgICBzZXRTbmFja3MoKHNuYWNrcykgPT4gc25hY2tzLnNsaWNlKDAsIHNuYWNrcy5sZW5ndGggLSAxKSlcbiAgfVxuXG4gIGNvbnN0IHZhbHVlID0gdXNlTWVtbygoKSA9PiBhZGRTbmFjaywgW10pXG4gIGNvbnN0IHsgbWVzc2FnZSwgc3RhdHVzLCBjbG9zZWFibGUsIHVuZG8sIHNuYWNrQmFyUHJvcHMsIGFsZXJ0UHJvcHMgfSA9XG4gICAgY3VycmVudFNuYWNrXG4gIHJldHVybiAoXG4gICAgPFNuYWNrQmFyQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PlxuICAgICAge2NoaWxkcmVufVxuICAgICAge21lc3NhZ2UgJiYgKFxuICAgICAgICA8UG9ydGFsPlxuICAgICAgICAgIDxTbmFja0JhclxuICAgICAgICAgICAga2V5PXttZXNzYWdlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibGVmdC0wIGJvdHRvbS0wIHAtNCBtYXgtdy1mdWxsXCJcbiAgICAgICAgICAgIGFuY2hvck9yaWdpbj17e1xuICAgICAgICAgICAgICB2ZXJ0aWNhbDogJ2JvdHRvbScsXG4gICAgICAgICAgICAgIGhvcml6b250YWw6ICdsZWZ0JyxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBvcGVuPXt0cnVlfVxuICAgICAgICAgICAgb25DbG9zZT17aGFuZGxlQ2xvc2V9XG4gICAgICAgICAgICB7Li4uc25hY2tCYXJQcm9wc31cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8QWxlcnRcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBtaW5XaWR0aDogJzE4cmVtJyxcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgYWN0aW9uPXtcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAge3VuZG8gJiYgKFxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnLjc1cmVtJyB9fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVVuZG99XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBVTkRPXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtjbG9zZWFibGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHRzLW1pZ3JhdGUoMjc2OSkgRklYTUU6IE5vIG92ZXJsb2FkIG1hdGNoZXMgdGhpcyBjYWxsLlxuICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmc6ICczcHgnIH19XG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbG9zZX1cbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXZlcml0eT17c3RhdHVzfVxuICAgICAgICAgICAgICB7Li4uYWxlcnRQcm9wc31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge21lc3NhZ2V9XG4gICAgICAgICAgICA8L0FsZXJ0PlxuICAgICAgICAgIDwvU25hY2tCYXI+XG4gICAgICAgIDwvUG9ydGFsPlxuICAgICAgKX1cbiAgICA8L1NuYWNrQmFyQ29udGV4dC5Qcm92aWRlcj5cbiAgKVxufVxuIl19
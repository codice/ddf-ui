import { __read } from "tslib";
import * as React from 'react';
import { hot } from 'react-hot-loader';
import { useBackbone } from '../selection-checkbox/useBackbone.hook';
import TextField from '@mui/material/TextField';
import MenuItem from '@mui/material/MenuItem';
import Typography from '@mui/material/Typography';
import Swath from '../swath/swath';
import Grid from '@mui/material/Grid';
import HomeIcon from '@mui/icons-material/Home';
import CloudIcon from '@mui/icons-material/Cloud';
import WarningIcon from '@mui/icons-material/Warning';
import CheckBoxIcon from '@mui/icons-material/CheckBox';
import CheckBoxOutlineBlankIcon from '@mui/icons-material/CheckBoxOutlineBlank';
import Chip from '@mui/material/Chip';
import _ from 'lodash';
import { useSources } from '../../js/model/Startup/sources.hooks';
export var getHumanReadableSourceName = function (sourceId) {
    if (sourceId === 'all') {
        return 'All';
    }
    else if (sourceId === 'remote') {
        return (React.createElement("div", { className: "flex flex-row items-center" },
            React.createElement("div", null, "Slow (offsite)"),
            ' ',
            React.createElement("div", null,
                React.createElement(CloudIcon, null))));
    }
    else if (sourceId === 'local') {
        return (React.createElement("div", { className: "flex flex-row items-center" },
            React.createElement("div", null, "Fast (onsite)"),
            ' ',
            React.createElement("div", null,
                React.createElement(HomeIcon, null))));
    }
    return sourceId;
};
var getSourcesFromSearch = function (_a) {
    var search = _a.search;
    return search.get('sources') || [];
};
var shouldBeSelected = function (_a) {
    var srcId = _a.srcId, sources = _a.sources, isHarvested = _a.isHarvested;
    if (sources.includes('all')) {
        return true;
    }
    else if (sources.includes('local') && isHarvested(srcId)) {
        return true;
    }
    else if (sources.includes('remote') &&
        !isHarvested(srcId) &&
        srcId !== 'all' &&
        srcId !== 'local') {
        return true;
    }
    if (sources.includes(srcId)) {
        return true;
    }
    return false;
};
/**
 * So we used to use two separate search properties to track sources, federation and sources.
 * If federation was enterprise, we searched everything.  If not, we looked to sources.  I also think local was a thing.
 *
 * Instead, we're going to swap to storing only one property, sources (an array of strings).
 * If sources includes, 'all' then that's enterprise.  If it includes 'local', then that means everything local.
 * If it includes 'remote', that that means everything remote.  All other values are singular selections of a source.
 */
var SourceSelector = function (_a) {
    var search = _a.search;
    var availableSources = useSources().sources;
    var _b = __read(React.useState(getSourcesFromSearch({ search: search })), 2), sources = _b[0], setSources = _b[1];
    var listenTo = useBackbone().listenTo;
    React.useEffect(function () {
        listenTo(search, 'change:sources', function () {
            setSources(getSourcesFromSearch({ search: search }));
        });
    }, []);
    React.useEffect(function () {
        search.set('sources', sources);
    }, [sources]);
    var availableLocalSources = availableSources.filter(function (availableSource) {
        return availableSource.harvested;
    });
    var availableRemoteSources = availableSources.filter(function (availableSource) {
        return !availableSource.harvested;
    });
    var isHarvested = function (source) {
        return availableLocalSources.some(function (availableSource) {
            return availableSource.id === source;
        });
    };
    return (React.createElement("div", null,
        React.createElement(Typography, { className: "pb-2" }, "Data Sources"),
        React.createElement(TextField, { "data-id": "data-sources-select", fullWidth: true, variant: "outlined", select: true, SelectProps: {
                multiple: true,
                renderValue: function (selected) {
                    return (React.createElement(Grid, { container: true, alignItems: "center", direction: "row" }, selected
                        .sort(function (a, b) {
                        return a.toLowerCase().localeCompare(b.toLowerCase()); // case insensitive sort
                    })
                        .sort(function (a) {
                        if (a === 'local' || a === 'remote') {
                            return -1; // move these subcategories upwards to front
                        }
                        return 0;
                    })
                        .map(function (src) {
                        return (React.createElement(Grid, { item: true, key: src, className: "mr-2" },
                            React.createElement(Chip, { variant: "outlined", color: "default", className: "cursor-pointer", label: getHumanReadableSourceName(src) })));
                    })));
                },
                MenuProps: {},
            }, value: sources, onChange: function (e) {
                // first of all I'm sorry, second of all, order matters in these cases.  Should really just make a state machine out of this.
                // https://xstate.js.org/docs/  perhaps?
                var newSources = e.target.value;
                // these first three if only apply if the value didn't previous exist (user is going from not all to 'all', etc.)
                var newLocalSources = newSources
                    .filter(function (src) { return !['all', 'remote', 'local'].includes(src); })
                    .filter(function (src) { return isHarvested(src); });
                var newRemoteSources = newSources
                    .filter(function (src) { return !['all', 'remote', 'local'].includes(src); })
                    .filter(function (src) { return !isHarvested(src); });
                if ((newSources.includes('all') && !sources.includes('all')) ||
                    (newSources.includes('local') &&
                        newSources.includes('remote') &&
                        (!sources.includes('remote') || !sources.includes('local')) &&
                        !sources.includes('all'))) {
                    setSources(['all']);
                }
                else if (sources.includes('all') && newSources.includes('local')) {
                    setSources(['remote']);
                }
                else if (sources.includes('all') && newSources.includes('remote')) {
                    setSources(['local']);
                }
                else if (sources.includes('all') && newLocalSources.length > 0) {
                    setSources(_.difference(availableLocalSources.map(function (src) { return src.id; }).concat(['remote']), newLocalSources));
                }
                else if (sources.includes('all') && newRemoteSources.length > 0) {
                    setSources(_.difference(availableRemoteSources.map(function (src) { return src.id; }).concat(['local']), newRemoteSources));
                }
                else if (sources.includes('local') && newLocalSources.length > 0) {
                    setSources(_.difference(sources
                        .filter(function (src) { return src !== 'local'; })
                        .concat(availableLocalSources.map(function (src) { return src.id; })), newLocalSources));
                }
                else if (sources.includes('remote') &&
                    newRemoteSources.length > 0) {
                    setSources(_.difference(sources
                        .filter(function (src) { return src !== 'remote'; })
                        .concat(availableRemoteSources.map(function (src) { return src.id; })), newRemoteSources));
                }
                else if (newSources.includes('local') &&
                    !sources.includes('local')) {
                    setSources(newSources.filter(function (val) { return !isHarvested(val) && val !== 'all'; }));
                }
                else if (newSources.includes('remote') &&
                    !sources.includes('remote')) {
                    setSources(['remote'].concat(newSources.filter(function (val) { return isHarvested(val) && val !== 'all'; })));
                }
                else if (newSources.length ===
                    availableLocalSources.length + availableRemoteSources.length ||
                    (newSources.includes('local') &&
                        newSources.length === availableRemoteSources.length + 1) ||
                    (newSources.includes('remote') &&
                        newSources.length === availableLocalSources.length + 1)) {
                    setSources(['all']);
                }
                else if (availableLocalSources.length > 0 &&
                    _.difference(availableLocalSources.map(function (src) { return src.id; }), newSources.filter(function (src) { return isHarvested(src); })).length === 0) {
                    setSources(['local'].concat(newSources.filter(function (src) { return !isHarvested(src); })));
                }
                else if (availableRemoteSources.length > 0 &&
                    _.difference(availableRemoteSources.map(function (src) { return src.id; }), newSources.filter(function (src) { return !isHarvested(src); })).length === 0) {
                    setSources(['remote'].concat(newSources.filter(function (src) { return isHarvested(src); })));
                }
                else {
                    // in these case, we now have to determine if we should remove all, remote, or local based on what is in newSources
                    // no matter what all should be removed
                    newSources = newSources.filter(function (src) { return src !== 'all'; });
                    if (newSources.find(function (src) { return isHarvested(src); })) {
                        newSources = newSources.filter(function (src) { return src !== 'local'; });
                    }
                    if (newSources.find(function (src) { return src !== 'remote' && !isHarvested(src); })) {
                        newSources = newSources.filter(function (src) { return src !== 'remote'; });
                    }
                    setSources(newSources);
                }
            }, size: "small" },
            React.createElement(MenuItem, { "data-id": "all-option", value: "all" },
                React.createElement(Grid, { container: true, alignItems: "stretch", direction: "row", wrap: "nowrap" },
                    React.createElement(Grid, { container: true, direction: "row", alignItems: "center" },
                        React.createElement(Grid, { item: true, className: "pr-2" }, shouldBeSelected({ srcId: 'all', sources: sources, isHarvested: isHarvested }) ? (React.createElement(CheckBoxIcon, null)) : (React.createElement(CheckBoxOutlineBlankIcon, null))),
                        React.createElement(Grid, { item: true }, "All")))),
            availableLocalSources.length > 0 ? (React.createElement(MenuItem, { "data-id": "onsite-option", value: "local" },
                React.createElement(Grid, { container: true, alignItems: "stretch", direction: "row", wrap: "nowrap", className: "pl-3" },
                    React.createElement(Grid, { item: true, className: "pr-2" },
                        React.createElement(Swath, { className: "w-1 h-full" })),
                    React.createElement(Grid, { container: true, direction: "row", alignItems: "center" },
                        React.createElement(Grid, { item: true, className: "pr-2" }, shouldBeSelected({
                            srcId: 'local',
                            sources: sources,
                            isHarvested: isHarvested,
                        }) ? (React.createElement(CheckBoxIcon, null)) : (React.createElement(CheckBoxOutlineBlankIcon, null))),
                        React.createElement(Grid, { item: true }, "Fast (onsite)"),
                        React.createElement(Grid, { item: true, className: "pl-2" },
                            React.createElement(HomeIcon, null)))))) : null,
            availableLocalSources.length > 0
                ? availableLocalSources.map(function (source) {
                    return (React.createElement(MenuItem, { "data-id": "source-".concat(source.id, "-option"), key: source.id, value: source.id },
                        React.createElement(Grid, { container: true, alignItems: "stretch", direction: "row", wrap: "nowrap", className: "pl-6" },
                            React.createElement(Grid, { item: true, className: "pl-3 pr-3" },
                                React.createElement(Swath, { className: "w-1 h-full" })),
                            React.createElement(Grid, { container: true, direction: "row", alignItems: "center" },
                                React.createElement(Grid, { item: true, className: "pr-2" }, shouldBeSelected({
                                    srcId: source.id,
                                    sources: sources,
                                    isHarvested: isHarvested,
                                }) ? (React.createElement(CheckBoxIcon, null)) : (React.createElement(CheckBoxOutlineBlankIcon, null))),
                                React.createElement(Grid, { item: true },
                                    React.createElement("div", { className: source.available
                                            ? 'Mui-text-text-primary'
                                            : 'Mui-text-warning' }, source.id)),
                                React.createElement(Grid, { item: true, className: "pl-2" }, source.available ? null : React.createElement(WarningIcon, null))))));
                })
                : null,
            availableRemoteSources.length > -1 ? (React.createElement(MenuItem, { "data-id": "offsite-option", value: "remote" },
                React.createElement(Grid, { container: true, alignItems: "stretch", direction: "row", wrap: "nowrap", className: "pl-3" },
                    React.createElement(Grid, { item: true, className: "pr-2" },
                        React.createElement(Swath, { className: "w-1 h-full" })),
                    React.createElement(Grid, { container: true, direction: "row", alignItems: "center" },
                        React.createElement(Grid, { item: true, className: "pr-2" }, shouldBeSelected({
                            srcId: 'remote',
                            sources: sources,
                            isHarvested: isHarvested,
                        }) ? (React.createElement(CheckBoxIcon, null)) : (React.createElement(CheckBoxOutlineBlankIcon, null))),
                        React.createElement(Grid, { item: true }, "Slow (offsite)"),
                        React.createElement(Grid, { item: true, className: "pl-2" },
                            React.createElement(CloudIcon, null)))))) : null,
            availableRemoteSources.length > 0
                ? availableRemoteSources.map(function (source) {
                    return (React.createElement(MenuItem, { "data-id": "source-".concat(source.id, "-option"), key: source.id, value: source.id },
                        React.createElement(Grid, { container: true, alignItems: "stretch", direction: "row", wrap: "nowrap", className: "pl-6" },
                            React.createElement(Grid, { item: true, className: "pl-3 pr-3" },
                                React.createElement(Swath, { className: "w-1 h-full" })),
                            React.createElement(Grid, { container: true, direction: "row", alignItems: "center" },
                                React.createElement(Grid, { item: true, className: "pr-2" }, shouldBeSelected({
                                    srcId: source.id,
                                    sources: sources,
                                    isHarvested: isHarvested,
                                }) ? (React.createElement(CheckBoxIcon, null)) : (React.createElement(CheckBoxOutlineBlankIcon, null))),
                                React.createElement(Grid, { item: true },
                                    React.createElement("div", { className: source.available
                                            ? 'Mui-text-text-primary'
                                            : 'Mui-text-warning' }, source.id)),
                                React.createElement(Grid, { item: true, className: "pl-2" }, source.available ? null : React.createElement(WarningIcon, null))))));
                })
                : null)));
};
export default hot(module)(SourceSelector);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic291cmNlLXNlbGVjdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL21haW4vd2ViYXBwL2NvbXBvbmVudC9xdWVyeS1zZXR0aW5ncy9zb3VyY2Utc2VsZWN0b3IudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUM5QixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFDdEMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdDQUF3QyxDQUFBO0FBQ3BFLE9BQU8sU0FBUyxNQUFNLHlCQUF5QixDQUFBO0FBQy9DLE9BQU8sUUFBUSxNQUFNLHdCQUF3QixDQUFBO0FBQzdDLE9BQU8sVUFBVSxNQUFNLDBCQUEwQixDQUFBO0FBQ2pELE9BQU8sS0FBSyxNQUFNLGdCQUFnQixDQUFBO0FBQ2xDLE9BQU8sSUFBSSxNQUFNLG9CQUFvQixDQUFBO0FBQ3JDLE9BQU8sUUFBUSxNQUFNLDBCQUEwQixDQUFBO0FBQy9DLE9BQU8sU0FBUyxNQUFNLDJCQUEyQixDQUFBO0FBQ2pELE9BQU8sV0FBVyxNQUFNLDZCQUE2QixDQUFBO0FBQ3JELE9BQU8sWUFBWSxNQUFNLDhCQUE4QixDQUFBO0FBQ3ZELE9BQU8sd0JBQXdCLE1BQU0sMENBQTBDLENBQUE7QUFDL0UsT0FBTyxJQUFJLE1BQU0sb0JBQW9CLENBQUE7QUFDckMsT0FBTyxDQUFDLE1BQU0sUUFBUSxDQUFBO0FBQ3RCLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQTtBQU9qRSxNQUFNLENBQUMsSUFBTSwwQkFBMEIsR0FBRyxVQUFDLFFBQWdCO0lBQ3pELElBQUksUUFBUSxLQUFLLEtBQUssRUFBRTtRQUN0QixPQUFPLEtBQUssQ0FBQTtLQUNiO1NBQU0sSUFBSSxRQUFRLEtBQUssUUFBUSxFQUFFO1FBQ2hDLE9BQU8sQ0FDTCw2QkFBSyxTQUFTLEVBQUMsNEJB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QixDQUFDO29DQUNoQixLQUFLLEVBQUUsTUFBTSxDQUFDLEVBQUU7b0NBQ2hCLE9BQU8sU0FBQTtvQ0FDUCxXQUFXLGFBQUE7aUNBQ1osQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNILG9CQUFDLFlBQVksT0FBRyxDQUNqQixDQUFDLENBQUMsQ0FBQyxDQUNGLG9CQUFDLHdCQUF3QixPQUFHLENBQzdCLENBQ0k7Z0NBQ1Asb0JBQUMsSUFBSSxJQUFDLElBQUk7b0NBQ1IsNkJBQ0UsU0FBUyxFQUNQLE1BQU0sQ0FBQyxTQUFTOzRDQUNkLENBQUMsQ0FBQyx1QkFBdUI7NENBQ3pCLENBQUMsQ0FBQyxrQkFBa0IsSUFHdkIsTUFBTSxDQUFDLEVBQUUsQ0FDTixDQUNEO2dDQUNQLG9CQUFDLElBQUksSUFBQyxJQUFJLFFBQUMsU0FBUyxFQUFDLE1BQU0sSUFDeEIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxvQkFBQyxXQUFXLE9BQUcsQ0FDckMsQ0FDRixDQUNGLENBQ0UsQ0FDWixDQUFBO2dCQUNILENBQUMsQ0FBQztnQkFDSixDQUFDLENBQUMsSUFBSSxDQUNFLENBQ1IsQ0FDUCxDQUFBO0FBQ0gsQ0FBQyxDQUFBO0FBRUQsZUFBZSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IGhvdCB9IGZyb20gJ3JlYWN0LWhvdC1sb2FkZXInXG5pbXBvcnQgeyB1c2VCYWNrYm9uZSB9IGZyb20gJy4uL3NlbGVjdGlvbi1jaGVja2JveC91c2VCYWNrYm9uZS5ob29rJ1xuaW1wb3J0IFRleHRGaWVsZCBmcm9tICdAbXVpL21hdGVyaWFsL1RleHRGaWVsZCdcbmltcG9ydCBNZW51SXRlbSBmcm9tICdAbXVpL21hdGVyaWFsL01lbnVJdGVtJ1xuaW1wb3J0IFR5cG9ncmFwaHkgZnJvbSAnQG11aS9tYXRlcmlhbC9UeXBvZ3JhcGh5J1xuaW1wb3J0IFN3YXRoIGZyb20gJy4uL3N3YXRoL3N3YXRoJ1xuaW1wb3J0IEdyaWQgZnJvbSAnQG11aS9tYXRlcmlhbC9HcmlkJ1xuaW1wb3J0IEhvbWVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvSG9tZSdcbmltcG9ydCBDbG91ZEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9DbG91ZCdcbmltcG9ydCBXYXJuaW5nSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL1dhcm5pbmcnXG5pbXBvcnQgQ2hlY2tCb3hJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ2hlY2tCb3gnXG5pbXBvcnQgQ2hlY2tCb3hPdXRsaW5lQmxhbmtJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ2hlY2tCb3hPdXRsaW5lQmxhbmsnXG5pbXBvcnQgQ2hpcCBmcm9tICdAbXVpL21hdGVyaWFsL0NoaXAnXG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnXG5pbXBvcnQgeyB1c2VTb3VyY2VzIH0gZnJvbSAnLi4vLi4vanMvbW9kZWwvU3RhcnR1cC9zb3VyY2VzLmhvb2tzJ1xudHlwZSBQcm9wcyA9IHtcbiAgc2VhcmNoOiBhbnlcbn1cblxudHlwZSBTb3VyY2VzVHlwZSA9ICgnYWxsJyB8ICdmYXN0JyB8ICdzbG93JyB8IHN0cmluZylbXVxuXG5leHBvcnQgY29uc3QgZ2V0SHVtYW5SZWFkYWJsZVNvdXJjZU5hbWUgPSAoc291cmNlSWQ6IHN0cmluZykgPT4ge1xuICBpZiAoc291cmNlSWQgPT09ICdhbGwnKSB7XG4gICAgcmV0dXJuICdBbGwnXG4gIH0gZWxzZSBpZiAoc291cmNlSWQgPT09ICdyZW1vdGUnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXJvdyBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPGRpdj5TbG93IChvZmZzaXRlKTwvZGl2PnsnICd9XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPENsb3VkSWNvbiAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSBlbHNlIGlmIChzb3VyY2VJZCA9PT0gJ2xvY2FsJykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgIDxkaXY+RmFzdCAob25zaXRlKTwvZGl2PnsnICd9XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPEhvbWVJY29uIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG4gIHJldHVybiBzb3VyY2VJZFxufVxuXG5jb25zdCBnZXRTb3VyY2VzRnJvbVNlYXJjaCA9ICh7IHNlYXJjaCB9OiBQcm9wcyk6IFNvdXJjZXNUeXBlID0+IHtcbiAgcmV0dXJuIHNlYXJjaC5nZXQoJ3NvdXJjZXMnKSB8fCBbXVxufVxuXG5jb25zdCBzaG91bGRCZVNlbGVjdGVkID0gKHtcbiAgc3JjSWQsXG4gIHNvdXJjZXMsXG4gIGlzSGFydmVzdGVkLFxufToge1xuICBzcmNJZDogc3RyaW5nXG4gIHNvdXJjZXM6IFNvdXJjZXNUeXBlXG4gIGlzSGFydmVzdGVkOiAoc291cmNlOiBzdHJpbmcpID0+IGJvb2xlYW5cbn0pID0+IHtcbiAgaWYgKHNvdXJjZXMuaW5jbHVkZXMoJ2FsbCcpKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIGlmIChzb3VyY2VzLmluY2x1ZGVzKCdsb2NhbCcpICYmIGlzSGFydmVzdGVkKHNyY0lkKSkge1xuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSBpZiAoXG4gICAgc291cmNlcy5pbmNsdWRlcygncmVtb3RlJykgJiZcbiAgICAhaXNIYXJ2ZXN0ZWQoc3JjSWQpICYmXG4gICAgc3JjSWQgIT09ICdhbGwnICYmXG4gICAgc3JjSWQgIT09ICdsb2NhbCdcbiAgKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoc291cmNlcy5pbmNsdWRlcyhzcmNJZCkpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vKipcbiAqIFNvIHdlIHVzZWQgdG8gdXNlIHR3byBzZXBhcmF0ZSBzZWFyY2ggcHJvcGVydGllcyB0byB0cmFjayBzb3VyY2VzLCBmZWRlcmF0aW9uIGFuZCBzb3VyY2VzLlxuICogSWYgZmVkZXJhdGlvbiB3YXMgZW50ZXJwcmlzZSwgd2Ugc2VhcmNoZWQgZXZlcnl0aGluZy4gIElmIG5vdCwgd2UgbG9va2VkIHRvIHNvdXJjZXMuICBJIGFsc28gdGhpbmsgbG9jYWwgd2FzIGEgdGhpbmcuXG4gKlxuICogSW5zdGVhZCwgd2UncmUgZ29pbmcgdG8gc3dhcCB0byBzdG9yaW5nIG9ubHkgb25lIHByb3BlcnR5LCBzb3VyY2VzIChhbiBhcnJheSBvZiBzdHJpbmdzKS5cbiAqIElmIHNvdXJjZXMgaW5jbHVkZXMsICdhbGwnIHRoZW4gdGhhdCdzIGVudGVycHJpc2UuICBJZiBpdCBpbmNsdWRlcyAnbG9jYWwnLCB0aGVuIHRoYXQgbWVhbnMgZXZlcnl0aGluZyBsb2NhbC5cbiAqIElmIGl0IGluY2x1ZGVzICdyZW1vdGUnLCB0aGF0IHRoYXQgbWVhbnMgZXZlcnl0aGluZyByZW1vdGUuICBBbGwgb3RoZXIgdmFsdWVzIGFyZSBzaW5ndWxhciBzZWxlY3Rpb25zIG9mIGEgc291cmNlLlxuICovXG5jb25zdCBTb3VyY2VTZWxlY3RvciA9ICh7IHNlYXJjaCB9OiBQcm9wcykgPT4ge1xuICBjb25zdCB7IHNvdXJjZXM6IGF2YWlsYWJsZVNvdXJjZXMgfSA9IHVzZVNvdXJjZXMoKVxuICBjb25zdCBbc291cmNlcywgc2V0U291cmNlc10gPSBSZWFjdC51c2VTdGF0ZShnZXRTb3VyY2VzRnJvbVNlYXJjaCh7IHNlYXJjaCB9KSlcbiAgY29uc3QgeyBsaXN0ZW5UbyB9ID0gdXNlQmFja2JvbmUoKVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxpc3RlblRvKHNlYXJjaCwgJ2NoYW5nZTpzb3VyY2VzJywgKCkgPT4ge1xuICAgICAgc2V0U291cmNlcyhnZXRTb3VyY2VzRnJvbVNlYXJjaCh7IHNlYXJjaCB9KSlcbiAgICB9KVxuICB9LCBbXSlcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZWFyY2guc2V0KCdzb3VyY2VzJywgc291cmNlcylcbiAgfSwgW3NvdXJjZXNdKVxuICBjb25zdCBhdmFpbGFibGVMb2NhbFNvdXJjZXMgPSBhdmFpbGFibGVTb3VyY2VzLmZpbHRlcigoYXZhaWxhYmxlU291cmNlKSA9PiB7XG4gICAgcmV0dXJuIGF2YWlsYWJsZVNvdXJjZS5oYXJ2ZXN0ZWRcbiAgfSlcbiAgY29uc3QgYXZhaWxhYmxlUmVtb3RlU291cmNlcyA9IGF2YWlsYWJsZVNvdXJjZXMuZmlsdGVyKChhdmFpbGFibGVTb3VyY2UpID0+IHtcbiAgICByZXR1cm4gIWF2YWlsYWJsZVNvdXJjZS5oYXJ2ZXN0ZWRcbiAgfSlcblxuICBjb25zdCBpc0hhcnZlc3RlZCA9IChzb3VyY2U6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBhdmFpbGFibGVMb2NhbFNvdXJjZXMuc29tZSgoYXZhaWxhYmxlU291cmNlKSA9PiB7XG4gICAgICByZXR1cm4gYXZhaWxhYmxlU291cmNlLmlkID09PSBzb3VyY2VcbiAgICB9KVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAgPFR5cG9ncmFwaHkgY2xhc3NOYW1lPVwicGItMlwiPkRhdGEgU291cmNlczwvVHlwb2dyYXBoeT5cbiAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgZGF0YS1pZD1cImRhdGEtc291cmNlcy1zZWxlY3RcIlxuICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCJcbiAgICAgICAgc2VsZWN0XG4gICAgICAgIFNlbGVjdFByb3BzPXt7XG4gICAgICAgICAgbXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgcmVuZGVyVmFsdWU6IChzZWxlY3RlZDogc3RyaW5nW10pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwiY2VudGVyXCIgZGlyZWN0aW9uPVwicm93XCI+XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS50b0xvd2VyQ2FzZSgpLmxvY2FsZUNvbXBhcmUoYi50b0xvd2VyQ2FzZSgpKSAvLyBjYXNlIGluc2Vuc2l0aXZlIHNvcnRcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAuc29ydCgoYSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYSA9PT0gJ2xvY2FsJyB8fCBhID09PSAncmVtb3RlJykge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMSAvLyBtb3ZlIHRoZXNlIHN1YmNhdGVnb3JpZXMgdXB3YXJkcyB0byBmcm9udFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgLm1hcCgoc3JjKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBrZXk9e3NyY30gY2xhc3NOYW1lPVwibXItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENoaXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJkZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17Z2V0SHVtYW5SZWFkYWJsZVNvdXJjZU5hbWUoc3JjKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgTWVudVByb3BzOiB7fSxcbiAgICAgICAgfX1cbiAgICAgICAgdmFsdWU9e3NvdXJjZXN9XG4gICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgIC8vIGZpcnN0IG9mIGFsbCBJJ20gc29ycnksIHNlY29uZCBvZiBhbGwsIG9yZGVyIG1hdHRlcnMgaW4gdGhlc2UgY2FzZXMuICBTaG91bGQgcmVhbGx5IGp1c3QgbWFrZSBhIHN0YXRlIG1hY2hpbmUgb3V0IG9mIHRoaXMuXG4gICAgICAgICAgLy8gaHR0cHM6Ly94c3RhdGUuanMub3JnL2RvY3MvICBwZXJoYXBzP1xuICAgICAgICAgIGxldCBuZXdTb3VyY2VzID0gZS50YXJnZXQudmFsdWUgYXMgdW5rbm93biBhcyBzdHJpbmdbXVxuICAgICAgICAgIC8vIHRoZXNlIGZpcnN0IHRocmVlIGlmIG9ubHkgYXBwbHkgaWYgdGhlIHZhbHVlIGRpZG4ndCBwcmV2aW91cyBleGlzdCAodXNlciBpcyBnb2luZyBmcm9tIG5vdCBhbGwgdG8gJ2FsbCcsIGV0Yy4pXG4gICAgICAgICAgY29uc3QgbmV3TG9jYWxTb3VyY2VzID0gbmV3U291cmNlc1xuICAgICAgICAgICAgLmZpbHRlcigoc3JjKSA9PiAhWydhbGwnLCAncmVtb3RlJywgJ2xvY2FsJ10uaW5jbHVkZXMoc3JjKSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHNyYykgPT4gaXNIYXJ2ZXN0ZWQoc3JjKSlcbiAgICAgICAgICBjb25zdCBuZXdSZW1vdGVTb3VyY2VzID0gbmV3U291cmNlc1xuICAgICAgICAgICAgLmZpbHRlcigoc3JjKSA9PiAhWydhbGwnLCAncmVtb3RlJywgJ2xvY2FsJ10uaW5jbHVkZXMoc3JjKSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHNyYykgPT4gIWlzSGFydmVzdGVkKHNyYykpXG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAobmV3U291cmNlcy5pbmNsdWRlcygnYWxsJykgJiYgIXNvdXJjZXMuaW5jbHVkZXMoJ2FsbCcpKSB8fFxuICAgICAgICAgICAgKG5ld1NvdXJjZXMuaW5jbHVkZXMoJ2xvY2FsJykgJiZcbiAgICAgICAgICAgICAgbmV3U291cmNlcy5pbmNsdWRlcygncmVtb3RlJykgJiZcbiAgICAgICAgICAgICAgKCFzb3VyY2VzLmluY2x1ZGVzKCdyZW1vdGUnKSB8fCAhc291cmNlcy5pbmNsdWRlcygnbG9jYWwnKSkgJiZcbiAgICAgICAgICAgICAgIXNvdXJjZXMuaW5jbHVkZXMoJ2FsbCcpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0U291cmNlcyhbJ2FsbCddKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlcy5pbmNsdWRlcygnYWxsJykgJiYgbmV3U291cmNlcy5pbmNsdWRlcygnbG9jYWwnKSkge1xuICAgICAgICAgICAgc2V0U291cmNlcyhbJ3JlbW90ZSddKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlcy5pbmNsdWRlcygnYWxsJykgJiYgbmV3U291cmNlcy5pbmNsdWRlcygncmVtb3RlJykpIHtcbiAgICAgICAgICAgIHNldFNvdXJjZXMoWydsb2NhbCddKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlcy5pbmNsdWRlcygnYWxsJykgJiYgbmV3TG9jYWxTb3VyY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldFNvdXJjZXMoXG4gICAgICAgICAgICAgIF8uZGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVMb2NhbFNvdXJjZXMubWFwKChzcmMpID0+IHNyYy5pZCkuY29uY2F0KFsncmVtb3RlJ10pLFxuICAgICAgICAgICAgICAgIG5ld0xvY2FsU291cmNlc1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2VzLmluY2x1ZGVzKCdhbGwnKSAmJiBuZXdSZW1vdGVTb3VyY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldFNvdXJjZXMoXG4gICAgICAgICAgICAgIF8uZGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICBhdmFpbGFibGVSZW1vdGVTb3VyY2VzLm1hcCgoc3JjKSA9PiBzcmMuaWQpLmNvbmNhdChbJ2xvY2FsJ10pLFxuICAgICAgICAgICAgICAgIG5ld1JlbW90ZVNvdXJjZXNcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc291cmNlcy5pbmNsdWRlcygnbG9jYWwnKSAmJiBuZXdMb2NhbFNvdXJjZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0U291cmNlcyhcbiAgICAgICAgICAgICAgXy5kaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgIHNvdXJjZXNcbiAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKHNyYykgPT4gc3JjICE9PSAnbG9jYWwnKVxuICAgICAgICAgICAgICAgICAgLmNvbmNhdChhdmFpbGFibGVMb2NhbFNvdXJjZXMubWFwKChzcmMpID0+IHNyYy5pZCkpLFxuICAgICAgICAgICAgICAgIG5ld0xvY2FsU291cmNlc1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHNvdXJjZXMuaW5jbHVkZXMoJ3JlbW90ZScpICYmXG4gICAgICAgICAgICBuZXdSZW1vdGVTb3VyY2VzLmxlbmd0aCA+IDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHNldFNvdXJjZXMoXG4gICAgICAgICAgICAgIF8uZGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICBzb3VyY2VzXG4gICAgICAgICAgICAgICAgICAuZmlsdGVyKChzcmMpID0+IHNyYyAhPT0gJ3JlbW90ZScpXG4gICAgICAgICAgICAgICAgICAuY29uY2F0KGF2YWlsYWJsZVJlbW90ZVNvdXJjZXMubWFwKChzcmMpID0+IHNyYy5pZCkpLFxuICAgICAgICAgICAgICAgIG5ld1JlbW90ZVNvdXJjZXNcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBuZXdTb3VyY2VzLmluY2x1ZGVzKCdsb2NhbCcpICYmXG4gICAgICAgICAgICAhc291cmNlcy5pbmNsdWRlcygnbG9jYWwnKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0U291cmNlcyhcbiAgICAgICAgICAgICAgbmV3U291cmNlcy5maWx0ZXIoKHZhbCkgPT4gIWlzSGFydmVzdGVkKHZhbCkgJiYgdmFsICE9PSAnYWxsJylcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgbmV3U291cmNlcy5pbmNsdWRlcygncmVtb3RlJykgJiZcbiAgICAgICAgICAgICFzb3VyY2VzLmluY2x1ZGVzKCdyZW1vdGUnKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0U291cmNlcyhcbiAgICAgICAgICAgICAgWydyZW1vdGUnXS5jb25jYXQoXG4gICAgICAgICAgICAgICAgbmV3U291cmNlcy5maWx0ZXIoKHZhbCkgPT4gaXNIYXJ2ZXN0ZWQodmFsKSAmJiB2YWwgIT09ICdhbGwnKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIG5ld1NvdXJjZXMubGVuZ3RoID09PVxuICAgICAgICAgICAgICBhdmFpbGFibGVMb2NhbFNvdXJjZXMubGVuZ3RoICsgYXZhaWxhYmxlUmVtb3RlU291cmNlcy5sZW5ndGggfHxcbiAgICAgICAgICAgIChuZXdTb3VyY2VzLmluY2x1ZGVzKCdsb2NhbCcpICYmXG4gICAgICAgICAgICAgIG5ld1NvdXJjZXMubGVuZ3RoID09PSBhdmFpbGFibGVSZW1vdGVTb3VyY2VzLmxlbmd0aCArIDEpIHx8XG4gICAgICAgICAgICAobmV3U291cmNlcy5pbmNsdWRlcygncmVtb3RlJykgJiZcbiAgICAgICAgICAgICAgbmV3U291cmNlcy5sZW5ndGggPT09IGF2YWlsYWJsZUxvY2FsU291cmNlcy5sZW5ndGggKyAxKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0U291cmNlcyhbJ2FsbCddKVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBhdmFpbGFibGVMb2NhbFNvdXJjZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgXy5kaWZmZXJlbmNlKFxuICAgICAgICAgICAgICBhdmFpbGFibGVMb2NhbFNvdXJjZXMubWFwKChzcmMpID0+IHNyYy5pZCksXG4gICAgICAgICAgICAgIG5ld1NvdXJjZXMuZmlsdGVyKChzcmMpID0+IGlzSGFydmVzdGVkKHNyYykpXG4gICAgICAgICAgICApLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2V0U291cmNlcyhcbiAgICAgICAgICAgICAgWydsb2NhbCddLmNvbmNhdChuZXdTb3VyY2VzLmZpbHRlcigoc3JjKSA9PiAhaXNIYXJ2ZXN0ZWQoc3JjKSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIGF2YWlsYWJsZVJlbW90ZVNvdXJjZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgXy5kaWZmZXJlbmNlKFxuICAgICAgICAgICAgICBhdmFpbGFibGVSZW1vdGVTb3VyY2VzLm1hcCgoc3JjKSA9PiBzcmMuaWQpLFxuICAgICAgICAgICAgICBuZXdTb3VyY2VzLmZpbHRlcigoc3JjKSA9PiAhaXNIYXJ2ZXN0ZWQoc3JjKSlcbiAgICAgICAgICAgICkubGVuZ3RoID09PSAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzZXRTb3VyY2VzKFxuICAgICAgICAgICAgICBbJ3JlbW90ZSddLmNvbmNhdChuZXdTb3VyY2VzLmZpbHRlcigoc3JjKSA9PiBpc0hhcnZlc3RlZChzcmMpKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaW4gdGhlc2UgY2FzZSwgd2Ugbm93IGhhdmUgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCByZW1vdmUgYWxsLCByZW1vdGUsIG9yIGxvY2FsIGJhc2VkIG9uIHdoYXQgaXMgaW4gbmV3U291cmNlc1xuICAgICAgICAgICAgLy8gbm8gbWF0dGVyIHdoYXQgYWxsIHNob3VsZCBiZSByZW1vdmVkXG4gICAgICAgICAgICBuZXdTb3VyY2VzID0gbmV3U291cmNlcy5maWx0ZXIoKHNyYykgPT4gc3JjICE9PSAnYWxsJylcbiAgICAgICAgICAgIGlmIChuZXdTb3VyY2VzLmZpbmQoKHNyYykgPT4gaXNIYXJ2ZXN0ZWQoc3JjKSkpIHtcbiAgICAgICAgICAgICAgbmV3U291cmNlcyA9IG5ld1NvdXJjZXMuZmlsdGVyKChzcmMpID0+IHNyYyAhPT0gJ2xvY2FsJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgbmV3U291cmNlcy5maW5kKChzcmMpID0+IHNyYyAhPT0gJ3JlbW90ZScgJiYgIWlzSGFydmVzdGVkKHNyYykpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgbmV3U291cmNlcyA9IG5ld1NvdXJjZXMuZmlsdGVyKChzcmMpID0+IHNyYyAhPT0gJ3JlbW90ZScpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRTb3VyY2VzKG5ld1NvdXJjZXMpXG4gICAgICAgICAgfVxuICAgICAgICB9fVxuICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgPlxuICAgICAgICA8TWVudUl0ZW0gZGF0YS1pZD1cImFsbC1vcHRpb25cIiB2YWx1ZT1cImFsbFwiPlxuICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBhbGlnbkl0ZW1zPVwic3RyZXRjaFwiIGRpcmVjdGlvbj1cInJvd1wiIHdyYXA9XCJub3dyYXBcIj5cbiAgICAgICAgICAgIDxHcmlkIGNvbnRhaW5lciBkaXJlY3Rpb249XCJyb3dcIiBhbGlnbkl0ZW1zPVwiY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPVwicHItMlwiPlxuICAgICAgICAgICAgICAgIHtzaG91bGRCZVNlbGVjdGVkKHsgc3JjSWQ6ICdhbGwnLCBzb3VyY2VzLCBpc0hhcnZlc3RlZCB9KSA/IChcbiAgICAgICAgICAgICAgICAgIDxDaGVja0JveEljb24gLz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPENoZWNrQm94T3V0bGluZUJsYW5rSWNvbiAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgPEdyaWQgaXRlbT5BbGw8L0dyaWQ+XG4gICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgPC9HcmlkPlxuICAgICAgICA8L01lbnVJdGVtPlxuICAgICAgICB7YXZhaWxhYmxlTG9jYWxTb3VyY2VzLmxlbmd0aCA+IDAgPyAoXG4gICAgICAgICAgPE1lbnVJdGVtIGRhdGEtaWQ9XCJvbnNpdGUtb3B0aW9uXCIgdmFsdWU9XCJsb2NhbFwiPlxuICAgICAgICAgICAgPEdyaWRcbiAgICAgICAgICAgICAgY29udGFpbmVyXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM9XCJzdHJldGNoXCJcbiAgICAgICAgICAgICAgZGlyZWN0aW9uPVwicm93XCJcbiAgICAgICAgICAgICAgd3JhcD1cIm5vd3JhcFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBsLTNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInByLTJcIj5cbiAgICAgICAgICAgICAgICA8U3dhdGggY2xhc3NOYW1lPVwidy0xIGgtZnVsbFwiIC8+XG4gICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGRpcmVjdGlvbj1cInJvd1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInByLTJcIj5cbiAgICAgICAgICAgICAgICAgIHtzaG91bGRCZVNlbGVjdGVkKHtcbiAgICAgICAgICAgICAgICAgICAgc3JjSWQ6ICdsb2NhbCcsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZXMsXG4gICAgICAgICAgICAgICAgICAgIGlzSGFydmVzdGVkLFxuICAgICAgICAgICAgICAgICAgfSkgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxDaGVja0JveEljb24gLz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxDaGVja0JveE91dGxpbmVCbGFua0ljb24gLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0+RmFzdCAob25zaXRlKTwvR3JpZD5cbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInBsLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxIb21lSWNvbiAvPlxuICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgIDwvTWVudUl0ZW0+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgICB7YXZhaWxhYmxlTG9jYWxTb3VyY2VzLmxlbmd0aCA+IDBcbiAgICAgICAgICA/IGF2YWlsYWJsZUxvY2FsU291cmNlcy5tYXAoKHNvdXJjZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPE1lbnVJdGVtXG4gICAgICAgICAgICAgICAgICBkYXRhLWlkPXtgc291cmNlLSR7c291cmNlLmlkfS1vcHRpb25gfVxuICAgICAgICAgICAgICAgICAga2V5PXtzb3VyY2UuaWR9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c291cmNlLmlkfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxHcmlkXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zPVwic3RyZXRjaFwiXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbj1cInJvd1wiXG4gICAgICAgICAgICAgICAgICAgIHdyYXA9XCJub3dyYXBcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwbC02XCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9XCJwbC0zIHByLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U3dhdGggY2xhc3NOYW1lPVwidy0xIGgtZnVsbFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGRpcmVjdGlvbj1cInJvd1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInByLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzaG91bGRCZVNlbGVjdGVkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjSWQ6IHNvdXJjZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXNIYXJ2ZXN0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQm94SWNvbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQm94T3V0bGluZUJsYW5rSWNvbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdNdWktdGV4dC10ZXh0LXByaW1hcnknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdNdWktdGV4dC13YXJuaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtzb3VyY2UuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgPEdyaWQgaXRlbSBjbGFzc05hbWU9XCJwbC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c291cmNlLmF2YWlsYWJsZSA/IG51bGwgOiA8V2FybmluZ0ljb24gLz59XG4gICAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgPC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IG51bGx9XG4gICAgICAgIHthdmFpbGFibGVSZW1vdGVTb3VyY2VzLmxlbmd0aCA+IC0xID8gKFxuICAgICAgICAgIDxNZW51SXRlbSBkYXRhLWlkPVwib2Zmc2l0ZS1vcHRpb25cIiB2YWx1ZT1cInJlbW90ZVwiPlxuICAgICAgICAgICAgPEdyaWRcbiAgICAgICAgICAgICAgY29udGFpbmVyXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM9XCJzdHJldGNoXCJcbiAgICAgICAgICAgICAgZGlyZWN0aW9uPVwicm93XCJcbiAgICAgICAgICAgICAgd3JhcD1cIm5vd3JhcFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBsLTNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInByLTJcIj5cbiAgICAgICAgICAgICAgICA8U3dhdGggY2xhc3NOYW1lPVwidy0xIGgtZnVsbFwiIC8+XG4gICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgPEdyaWQgY29udGFpbmVyIGRpcmVjdGlvbj1cInJvd1wiIGFsaWduSXRlbXM9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInByLTJcIj5cbiAgICAgICAgICAgICAgICAgIHtzaG91bGRCZVNlbGVjdGVkKHtcbiAgICAgICAgICAgICAgICAgICAgc3JjSWQ6ICdyZW1vdGUnLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICBpc0hhcnZlc3RlZCxcbiAgICAgICAgICAgICAgICAgIH0pID8gKFxuICAgICAgICAgICAgICAgICAgICA8Q2hlY2tCb3hJY29uIC8+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8Q2hlY2tCb3hPdXRsaW5lQmxhbmtJY29uIC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlNsb3cgKG9mZnNpdGUpPC9HcmlkPlxuICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPVwicGwtMlwiPlxuICAgICAgICAgICAgICAgICAgPENsb3VkSWNvbiAvPlxuICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgIDwvTWVudUl0ZW0+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgICB7YXZhaWxhYmxlUmVtb3RlU291cmNlcy5sZW5ndGggPiAwXG4gICAgICAgICAgPyBhdmFpbGFibGVSZW1vdGVTb3VyY2VzLm1hcCgoc291cmNlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8TWVudUl0ZW1cbiAgICAgICAgICAgICAgICAgIGRhdGEtaWQ9e2Bzb3VyY2UtJHtzb3VyY2UuaWR9LW9wdGlvbmB9XG4gICAgICAgICAgICAgICAgICBrZXk9e3NvdXJjZS5pZH1cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzb3VyY2UuaWR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEdyaWRcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM9XCJzdHJldGNoXCJcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uPVwicm93XCJcbiAgICAgICAgICAgICAgICAgICAgd3JhcD1cIm5vd3JhcFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBsLTZcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInBsLTMgcHItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTd2F0aCBjbGFzc05hbWU9XCJ3LTEgaC1mdWxsXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9HcmlkPlxuICAgICAgICAgICAgICAgICAgICA8R3JpZCBjb250YWluZXIgZGlyZWN0aW9uPVwicm93XCIgYWxpZ25JdGVtcz1cImNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIGl0ZW0gY2xhc3NOYW1lPVwicHItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Nob3VsZEJlU2VsZWN0ZWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNJZDogc291cmNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpc0hhcnZlc3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tCb3hJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tCb3hPdXRsaW5lQmxhbmtJY29uIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZS5hdmFpbGFibGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ011aS10ZXh0LXRleHQtcHJpbWFyeSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ011aS10ZXh0LXdhcm5pbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3NvdXJjZS5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgICAgICA8R3JpZCBpdGVtIGNsYXNzTmFtZT1cInBsLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzb3VyY2UuYXZhaWxhYmxlID8gbnVsbCA6IDxXYXJuaW5nSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICA8L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICAgIDwvR3JpZD5cbiAgICAgICAgICAgICAgICA8L01lbnVJdGVtPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogbnVsbH1cbiAgICAgIDwvVGV4dEZpZWxkPlxuICAgIDwvZGl2PlxuICApXG59XG5cbmV4cG9ydCBkZWZhdWx0IGhvdChtb2R1bGUpKFNvdXJjZVNlbGVjdG9yKVxuIl19
import { __read } from "tslib";
import { jsx as _jsx } from "react/jsx-runtime";
import { getAttributeType } from '../filterHelper';
import React from 'react';
// verified
export var dateComparators = [
    {
        value: 'BEFORE',
        label: 'BEFORE',
    },
    {
        value: 'AFTER',
        label: 'AFTER',
    },
    {
        value: 'RELATIVE',
        label: 'WITHIN THE LAST',
    },
    {
        value: 'DURING',
        label: 'BETWEEN',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
    {
        value: 'AROUND',
        label: 'AROUND',
    },
];
// verified
export var geometryComparators = [
    {
        value: 'GEOMETRY',
        label: 'INTERSECTS',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
];
// verified
export var stringComparators = [
    {
        value: 'ILIKE',
        label: 'CONTAINS',
    },
    {
        value: 'LIKE',
        label: 'MATCHCASE',
    },
    {
        value: '=',
        label: '=',
    },
    {
        value: 'FILTER FUNCTION proximity',
        label: 'NEAR',
    },
    {
        value: 'BOOLEAN_TEXT_SEARCH',
        label: 'BOOLEAN',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
];
// verified
export var numberComparators = [
    {
        value: '>',
        label: '>',
    },
    {
        value: '<',
        label: '<',
    },
    {
        value: '=',
        label: '=',
    },
    {
        value: '>=',
        label: '>=',
    },
    {
        value: '<=',
        label: '<=',
    },
    {
        value: 'BETWEEN',
        label: 'RANGE',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
];
// verified
export var booleanComparators = [
    {
        value: '=',
        label: '=',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
];
export var TypeToComparators = {
    STRING: stringComparators,
    DATE: dateComparators,
    LONG: numberComparators,
    DOUBLE: numberComparators,
    FLOAT: numberComparators,
    INTEGER: numberComparators,
    SHORT: numberComparators,
    LOCATION: geometryComparators,
    GEOMETRY: geometryComparators,
    BOOLEAN: booleanComparators,
    XML: [],
    OBJECT: [],
    BINARY: [],
};
export var getComparators = function (attribute) {
    var comparators = TypeToComparators[getAttributeType(attribute)] || [];
    // IS NULL checks do not work on these
    if (attribute === 'anyGeo' || attribute === 'anyText') {
        comparators = comparators.filter(function (comparator) { return comparator.value !== 'IS NULL'; });
    }
    return comparators;
};
export var ComparatorContext = React.createContext({
    getComparators: getComparators,
});
export function DefaultComparatorProvider(_a) {
    var children = _a.children;
    return (_jsx(ComparatorContext.Provider, { value: { getComparators: getComparators }, children: children }));
}
export function useComparators() {
    return React.useContext(ComparatorContext);
}
export function useGetComparators() {
    return useComparators().getComparators;
}
export function useComparatorsForAttribute(attribute) {
    var comparators = useGetComparators();
    var _a = __read(React.useState(comparators(attribute)), 2), comparatorList = _a[0], setComparatorList = _a[1];
    React.useEffect(function () {
        setComparatorList(comparators(attribute));
    }, [attribute, comparators]);
    return comparatorList;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcGFyYXRvclV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vc3JjL21haW4vd2ViYXBwL3JlYWN0LWNvbXBvbmVudC9maWx0ZXIvZmlsdGVyLWNvbXBhcmF0b3IvY29tcGFyYXRvclV0aWxzLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQWVBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFBO0FBQ2xELE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQTtBQUd6QixXQUFXO0FBQ1gsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHO0lBQzdCO1FBQ0UsS0FBSyxFQUFFLFFBQVE7UUFDZixLQUFLLEVBQUUsUUFBUTtLQUNoQjtJQUNEO1FBQ0UsS0FBSyxFQUFFLE9BQU87UUFDZCxLQUFLLEVBQUUsT0FBTztLQUNmO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsVUFBVTtRQUNqQixLQUFLLEVBQUUsaUJBQWlCO0tBQ3pCO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsUUFBUTtRQUNmLEtBQUssRUFBRSxTQUFTO0tBQ2pCO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsU0FBUztRQUNoQixLQUFLLEVBQUUsVUFBVTtLQUNsQjtJQUNEO1FBQ0UsS0FBSyxFQUFFLFFBQVE7UUFDZixLQUFLLEVBQUUsUUFBUTtLQUNoQjtDQUNrQixDQUFBO0FBQ3JCLFdBQVc7QUFDWCxNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRztJQUNqQztRQUNFLEtBQUssRUFBRSxVQUFVO1FBQ2pCLEtBQUssRUFBRSxZQUFZO0tBQ3BCO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsU0FBUztRQUNoQixLQUFLLEVBQUUsVUFBVTtLQUNsQjtDQUNrQixDQUFBO0FBQ3JCLFdBQVc7QUFDWCxNQUFNLENBQUMsSUFBTSxpQkFBaUIsR0FBRztJQUMvQjtRQUNFLEtBQUssRUFBRSxPQUFPO1FBQ2QsS0FBSyxFQUFFLFVBQVU7S0FDbEI7SUFDRDtRQUNFLEtBQUss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QzVDLENBQUM7QUFFRCxNQUFNLFVBQVUsaUJBQWlCO0lBQy9CLE9BQU8sY0FBYyxFQUFFLENBQUMsY0FBYyxDQUFBO0FBQ3hDLENBQUM7QUFFRCxNQUFNLFVBQVUsMEJBQTBCLENBQUMsU0FBaUI7SUFDMUQsSUFBTSxXQUFXLEdBQUcsaUJBQWlCLEVBQUUsQ0FBQTtJQUNqQyxJQUFBLEtBQUEsT0FBc0MsS0FBSyxDQUFDLFFBQVEsQ0FDeEQsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUN2QixJQUFBLEVBRk0sY0FBYyxRQUFBLEVBQUUsaUJBQWlCLFFBRXZDLENBQUE7SUFDRCxLQUFLLENBQUMsU0FBUyxDQUFDO1FBQ2QsaUJBQWlCLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUE7SUFDM0MsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUE7SUFDNUIsT0FBTyxjQUFjLENBQUE7QUFDdkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBDb2RpY2UgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXJcbiAqIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlXG4gKiBMaWNlbnNlLCBvciBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBUaGlzIHByb2dyYW0gaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwgYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0XG4gKiBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gU2VlIHRoZSBHTlVcbiAqIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuIEEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBpcyBkaXN0cmlidXRlZCBhbG9uZyB3aXRoIHRoaXMgcHJvZ3JhbSBhbmQgY2FuIGJlIGZvdW5kIGF0XG4gKiA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2xncGwuaHRtbD4uXG4gKlxuICoqL1xuaW1wb3J0IHsgQXR0cmlidXRlVHlwZXMgfSBmcm9tICcuLi8uLi8uLi9qcy9tb2RlbC9TdGFydHVwL3N0YXJ0dXAudHlwZXMnXG5pbXBvcnQgeyBnZXRBdHRyaWJ1dGVUeXBlIH0gZnJvbSAnLi4vZmlsdGVySGVscGVyJ1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG50eXBlIENvbXBhcmF0b3JUeXBlID0geyB2YWx1ZTogc3RyaW5nOyBsYWJlbDogc3RyaW5nIH1cbi8vIHZlcmlmaWVkXG5leHBvcnQgY29uc3QgZGF0ZUNvbXBhcmF0b3JzID0gW1xuICB7XG4gICAgdmFsdWU6ICdCRUZPUkUnLFxuICAgIGxhYmVsOiAnQkVGT1JFJyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnQUZURVInLFxuICAgIGxhYmVsOiAnQUZURVInLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdSRUxBVElWRScsXG4gICAgbGFiZWw6ICdXSVRISU4gVEhFIExBU1QnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdEVVJJTkcnLFxuICAgIGxhYmVsOiAnQkVUV0VFTicsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0lTIE5VTEwnLFxuICAgIGxhYmVsOiAnSVMgRU1QVFknLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdBUk9VTkQnLFxuICAgIGxhYmVsOiAnQVJPVU5EJyxcbiAgfSxcbl0gYXMgQ29tcGFyYXRvclR5cGVbXVxuLy8gdmVyaWZpZWRcbmV4cG9ydCBjb25zdCBnZW9tZXRyeUNvbXBhcmF0b3JzID0gW1xuICB7XG4gICAgdmFsdWU6ICdHRU9NRVRSWScsXG4gICAgbGFiZWw6ICdJTlRFUlNFQ1RTJyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnSVMgTlVMTCcsXG4gICAgbGFiZWw6ICdJUyBFTVBUWScsXG4gIH0sXG5dIGFzIENvbXBhcmF0b3JUeXBlW11cbi8vIHZlcmlmaWVkXG5leHBvcnQgY29uc3Qgc3RyaW5nQ29tcGFyYXRvcnMgPSBbXG4gIHtcbiAgICB2YWx1ZTogJ0lMSUtFJyxcbiAgICBsYWJlbDogJ0NPTlRBSU5TJyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnTElLRScsXG4gICAgbGFiZWw6ICdNQVRDSENBU0UnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICc9JyxcbiAgICBsYWJlbDogJz0nLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdGSUxURVIgRlVOQ1RJT04gcHJveGltaXR5JyxcbiAgICBsYWJlbDogJ05FQVInLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdCT09MRUFOX1RFWFRfU0VBUkNIJyxcbiAgICBsYWJlbDogJ0JPT0xFQU4nLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdJUyBOVUxMJyxcbiAgICBsYWJlbDogJ0lTIEVNUFRZJyxcbiAgfSxcbl0gYXMgQ29tcGFyYXRvclR5cGVbXVxuLy8gdmVyaWZpZWRcbmV4cG9ydCBjb25zdCBudW1iZXJDb21wYXJhdG9ycyA9IFtcbiAge1xuICAgIHZhbHVlOiAnPicsXG4gICAgbGFiZWw6ICc+JyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnPCcsXG4gICAgbGFiZWw6ICc8JyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnPScsXG4gICAgbGFiZWw6ICc9JyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnPj0nLFxuICAgIGxhYmVsOiAnPj0nLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICc8PScsXG4gICAgbGFiZWw6ICc8PScsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0JFVFdFRU4nLFxuICAgIGxhYmVsOiAnUkFOR0UnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdJUyBOVUxMJyxcbiAgICBsYWJlbDogJ0lTIEVNUFRZJyxcbiAgfSxcbl1cbi8vIHZlcmlmaWVkXG5leHBvcnQgY29uc3QgYm9vbGVhbkNvbXBhcmF0b3JzID0gW1xuICB7XG4gICAgdmFsdWU6ICc9JyxcbiAgICBsYWJlbDogJz0nLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdJUyBOVUxMJyxcbiAgICBsYWJlbDogJ0lTIEVNUFRZJyxcbiAgfSxcbl0gYXMgQ29tcGFyYXRvclR5cGVbXVxuXG5leHBvcnQgY29uc3QgVHlwZVRvQ29tcGFyYXRvcnM6IHsgW2tleSBpbiBBdHRyaWJ1dGVUeXBlc106IENvbXBhcmF0b3JUeXBlW10gfSA9XG4gIHtcbiAgICBTVFJJTkc6IHN0cmluZ0NvbXBhcmF0b3JzLFxuICAgIERBVEU6IGRhdGVDb21wYXJhdG9ycyxcbiAgICBMT05HOiBudW1iZXJDb21wYXJhdG9ycyxcbiAgICBET1VCTEU6IG51bWJlckNvbXBhcmF0b3JzLFxuICAgIEZMT0FUOiBudW1iZXJDb21wYXJhdG9ycyxcbiAgICBJTlRFR0VSOiBudW1iZXJDb21wYXJhdG9ycyxcbiAgICBTSE9SVDogbnVtYmVyQ29tcGFyYXRvcnMsXG4gICAgTE9DQVRJT046IGdlb21ldHJ5Q29tcGFyYXRvcnMsXG4gICAgR0VPTUVUUlk6IGdlb21ldHJ5Q29tcGFyYXRvcnMsXG4gICAgQk9PTEVBTjogYm9vbGVhbkNvbXBhcmF0b3JzLFxuICAgIFhNTDogW10sXG4gICAgT0JKRUNUOiBbXSxcbiAgICBCSU5BUlk6IFtdLFxuICB9XG5cbmV4cG9ydCBjb25zdCBnZXRDb21wYXJhdG9ycyA9IChhdHRyaWJ1dGU6IHN0cmluZyk6IENvbXBhcmF0b3JUeXBlW10gPT4ge1xuICBsZXQgY29tcGFyYXRvcnMgPSBUeXBlVG9Db21wYXJhdG9yc1tnZXRBdHRyaWJ1dGVUeXBlKGF0dHJpYnV0ZSldIHx8IFtdXG4gIC8vIElTIE5VTEwgY2hlY2tzIGRvIG5vdCB3b3JrIG9uIHRoZXNlXG4gIGlmIChhdHRyaWJ1dGUgPT09ICdhbnlHZW8nIHx8IGF0dHJpYnV0ZSA9PT0gJ2FueVRleHQnKSB7XG4gICAgY29tcGFyYXRvcnMgPSBjb21wYXJhdG9ycy5maWx0ZXIoXG4gICAgICAoY29tcGFyYXRvcikgPT4gY29tcGFyYXRvci52YWx1ZSAhPT0gJ0lTIE5VTEwnXG4gICAgKVxuICB9XG4gIHJldHVybiBjb21wYXJhdG9yc1xufVxuXG5leHBvcnQgY29uc3QgQ29tcGFyYXRvckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgZ2V0Q29tcGFyYXRvcnMsXG59KVxuXG5leHBvcnQgZnVuY3Rpb24gRGVmYXVsdENvbXBhcmF0b3JQcm92aWRlcih7XG4gIGNoaWxkcmVuLFxufToge1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlXG59KSB7XG4gIHJldHVybiAoXG4gICAgPENvbXBhcmF0b3JDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IGdldENvbXBhcmF0b3JzIH19PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvQ29tcGFyYXRvckNvbnRleHQuUHJvdmlkZXI+XG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbXBhcmF0b3JzKCkge1xuICByZXR1cm4gUmVhY3QudXNlQ29udGV4dChDb21wYXJhdG9yQ29udGV4dClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdldENvbXBhcmF0b3JzKCkge1xuICByZXR1cm4gdXNlQ29tcGFyYXRvcnMoKS5nZXRDb21wYXJhdG9yc1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29tcGFyYXRvcnNGb3JBdHRyaWJ1dGUoYXR0cmlidXRlOiBzdHJpbmcpIHtcbiAgY29uc3QgY29tcGFyYXRvcnMgPSB1c2VHZXRDb21wYXJhdG9ycygpXG4gIGNvbnN0IFtjb21wYXJhdG9yTGlzdCwgc2V0Q29tcGFyYXRvckxpc3RdID0gUmVhY3QudXNlU3RhdGU8Q29tcGFyYXRvclR5cGVbXT4oXG4gICAgY29tcGFyYXRvcnMoYXR0cmlidXRlKVxuICApXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0Q29tcGFyYXRvckxpc3QoY29tcGFyYXRvcnMoYXR0cmlidXRlKSlcbiAgfSwgW2F0dHJpYnV0ZSwgY29tcGFyYXRvcnNdKVxuICByZXR1cm4gY29tcGFyYXRvckxpc3Rcbn1cbiJdfQ==
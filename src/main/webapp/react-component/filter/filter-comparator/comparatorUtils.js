import { __read } from "tslib";
import { getAttributeType } from '../filterHelper';
import React from 'react';
// verified
export var dateComparators = [
    {
        value: 'BEFORE',
        label: 'BEFORE',
    },
    {
        value: 'AFTER',
        label: 'AFTER',
    },
    {
        value: 'RELATIVE',
        label: 'WITHIN THE LAST',
    },
    {
        value: 'DURING',
        label: 'BETWEEN',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
    {
        value: 'AROUND',
        label: 'AROUND',
    },
];
// verified
export var geometryComparators = [
    {
        value: 'GEOMETRY',
        label: 'INTERSECTS',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
];
// verified
export var stringComparators = [
    {
        value: 'ILIKE',
        label: 'CONTAINS',
    },
    {
        value: 'LIKE',
        label: 'MATCHCASE',
    },
    {
        value: '=',
        label: '=',
    },
    {
        value: 'FILTER FUNCTION proximity',
        label: 'NEAR',
    },
    {
        value: 'BOOLEAN_TEXT_SEARCH',
        label: 'BOOLEAN',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
];
// verified
export var numberComparators = [
    {
        value: '>',
        label: '>',
    },
    {
        value: '<',
        label: '<',
    },
    {
        value: '=',
        label: '=',
    },
    {
        value: '>=',
        label: '>=',
    },
    {
        value: '<=',
        label: '<=',
    },
    {
        value: 'BETWEEN',
        label: 'RANGE',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
];
// verified
export var booleanComparators = [
    {
        value: '=',
        label: '=',
    },
    {
        value: 'IS NULL',
        label: 'IS EMPTY',
    },
];
export var TypeToComparators = {
    STRING: stringComparators,
    DATE: dateComparators,
    LONG: numberComparators,
    DOUBLE: numberComparators,
    FLOAT: numberComparators,
    INTEGER: numberComparators,
    SHORT: numberComparators,
    LOCATION: geometryComparators,
    GEOMETRY: geometryComparators,
    BOOLEAN: booleanComparators,
    XML: [],
    OBJECT: [],
    BINARY: [],
};
export var getComparators = function (attribute) {
    var comparators = TypeToComparators[getAttributeType(attribute)] || [];
    // IS NULL checks do not work on these
    if (attribute === 'anyGeo' || attribute === 'anyText') {
        comparators = comparators.filter(function (comparator) { return comparator.value !== 'IS NULL'; });
    }
    return comparators;
};
export var ComparatorContext = React.createContext({
    getComparators: getComparators,
});
export function DefaultComparatorProvider(_a) {
    var children = _a.children;
    return (React.createElement(ComparatorContext.Provider, { value: { getComparators: getComparators } }, children));
}
export function useComparators() {
    return React.useContext(ComparatorContext);
}
export function useGetComparators() {
    return useComparators().getComparators;
}
export function useComparatorsForAttribute(attribute) {
    var comparators = useGetComparators();
    var _a = __read(React.useState(comparators(attribute)), 2), comparatorList = _a[0], setComparatorList = _a[1];
    React.useEffect(function () {
        setComparatorList(comparators(attribute));
    }, [attribute, comparators]);
    return comparatorList;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcGFyYXRvclV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vc3JjL21haW4vd2ViYXBwL3JlYWN0LWNvbXBvbmVudC9maWx0ZXIvZmlsdGVyLWNvbXBhcmF0b3IvY29tcGFyYXRvclV0aWxzLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBZUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUE7QUFDbEQsT0FBTyxLQUFLLE1BQU0sT0FBTyxDQUFBO0FBR3pCLFdBQVc7QUFDWCxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQUc7SUFDN0I7UUFDRSxLQUFLLEVBQUUsUUFBUTtRQUNmLEtBQUssRUFBRSxRQUFRO0tBQ2hCO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsT0FBTztRQUNkLEtBQUssRUFBRSxPQUFPO0tBQ2Y7SUFDRDtRQUNFLEtBQUssRUFBRSxVQUFVO1FBQ2pCLEtBQUssRUFBRSxpQkFBaUI7S0FDekI7SUFDRDtRQUNFLEtBQUssRUFBRSxRQUFRO1FBQ2YsS0FBSyxFQUFFLFNBQVM7S0FDakI7SUFDRDtRQUNFLEtBQUssRUFBRSxTQUFTO1FBQ2hCLEtBQUssRUFBRSxVQUFVO0tBQ2xCO0lBQ0Q7UUFDRSxLQUFLLEVBQUUsUUFBUTtRQUNmLEtBQUssRUFBRSxRQUFRO0tBQ2hCO0NBQ2tCLENBQUE7QUFDckIsV0FBVztBQUNYLE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHO0lBQ2pDO1FBQ0UsS0FBSyxFQUFFLFVBQVU7UUFDakIsS0FBSyxFQUFFLFlBQVk7S0FDcEI7SUFDRDtRQUNFLEtBQUssRUFBRSxTQUFTO1FBQ2hCLEtBQUssRUFBRSxVQUFVO0tBQ2xCO0NBQ2tCLENBQUE7QUFDckIsV0FBVztBQUNYLE1BQU0sQ0FBQyxJQUFNLGlCQUFpQixHQUFHO0lBQy9CO1FBQ0UsS0FBSyxFQUFFLE9BQU87UUFDZCxLQUFLLEVBQUUsVUFBVTtLQUNsQjtJQUNEO1FBQ0UsS0FBSyxF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QUVELE1BQU0sVUFBVSxpQkFBaUI7SUFDL0IsT0FBTyxjQUFjLEVBQUUsQ0FBQyxjQUFjLENBQUE7QUFDeEMsQ0FBQztBQUVELE1BQU0sVUFBVSwwQkFBMEIsQ0FBQyxTQUFpQjtJQUMxRCxJQUFNLFdBQVcsR0FBRyxpQkFBaUIsRUFBRSxDQUFBO0lBQ2pDLElBQUEsS0FBQSxPQUFzQyxLQUFLLENBQUMsUUFBUSxDQUN4RCxXQUFXLENBQUMsU0FBUyxDQUFDLENBQ3ZCLElBQUEsRUFGTSxjQUFjLFFBQUEsRUFBRSxpQkFBaUIsUUFFdkMsQ0FBQTtJQUNELEtBQUssQ0FBQyxTQUFTLENBQUM7UUFDZCxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQTtJQUMzQyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQTtJQUM1QixPQUFPLGNBQWMsQ0FBQTtBQUN2QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIENvZGljZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlclxuICogR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGVcbiAqIExpY2Vuc2UsIG9yIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXRcbiAqIGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiBTZWUgdGhlIEdOVVxuICogTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4gQSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGlzIGRpc3RyaWJ1dGVkIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtIGFuZCBjYW4gYmUgZm91bmQgYXRcbiAqIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvbGdwbC5odG1sPi5cbiAqXG4gKiovXG5pbXBvcnQgeyBBdHRyaWJ1dGVUeXBlcyB9IGZyb20gJy4uLy4uLy4uL2pzL21vZGVsL1N0YXJ0dXAvc3RhcnR1cC50eXBlcydcbmltcG9ydCB7IGdldEF0dHJpYnV0ZVR5cGUgfSBmcm9tICcuLi9maWx0ZXJIZWxwZXInXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5cbnR5cGUgQ29tcGFyYXRvclR5cGUgPSB7IHZhbHVlOiBzdHJpbmc7IGxhYmVsOiBzdHJpbmcgfVxuLy8gdmVyaWZpZWRcbmV4cG9ydCBjb25zdCBkYXRlQ29tcGFyYXRvcnMgPSBbXG4gIHtcbiAgICB2YWx1ZTogJ0JFRk9SRScsXG4gICAgbGFiZWw6ICdCRUZPUkUnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdBRlRFUicsXG4gICAgbGFiZWw6ICdBRlRFUicsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ1JFTEFUSVZFJyxcbiAgICBsYWJlbDogJ1dJVEhJTiBUSEUgTEFTVCcsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0RVUklORycsXG4gICAgbGFiZWw6ICdCRVRXRUVOJyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnSVMgTlVMTCcsXG4gICAgbGFiZWw6ICdJUyBFTVBUWScsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0FST1VORCcsXG4gICAgbGFiZWw6ICdBUk9VTkQnLFxuICB9LFxuXSBhcyBDb21wYXJhdG9yVHlwZVtdXG4vLyB2ZXJpZmllZFxuZXhwb3J0IGNvbnN0IGdlb21ldHJ5Q29tcGFyYXRvcnMgPSBbXG4gIHtcbiAgICB2YWx1ZTogJ0dFT01FVFJZJyxcbiAgICBsYWJlbDogJ0lOVEVSU0VDVFMnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdJUyBOVUxMJyxcbiAgICBsYWJlbDogJ0lTIEVNUFRZJyxcbiAgfSxcbl0gYXMgQ29tcGFyYXRvclR5cGVbXVxuLy8gdmVyaWZpZWRcbmV4cG9ydCBjb25zdCBzdHJpbmdDb21wYXJhdG9ycyA9IFtcbiAge1xuICAgIHZhbHVlOiAnSUxJS0UnLFxuICAgIGxhYmVsOiAnQ09OVEFJTlMnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICdMSUtFJyxcbiAgICBsYWJlbDogJ01BVENIQ0FTRScsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJz0nLFxuICAgIGxhYmVsOiAnPScsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0ZJTFRFUiBGVU5DVElPTiBwcm94aW1pdHknLFxuICAgIGxhYmVsOiAnTkVBUicsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0JPT0xFQU5fVEVYVF9TRUFSQ0gnLFxuICAgIGxhYmVsOiAnQk9PTEVBTicsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0lTIE5VTEwnLFxuICAgIGxhYmVsOiAnSVMgRU1QVFknLFxuICB9LFxuXSBhcyBDb21wYXJhdG9yVHlwZVtdXG4vLyB2ZXJpZmllZFxuZXhwb3J0IGNvbnN0IG51bWJlckNvbXBhcmF0b3JzID0gW1xuICB7XG4gICAgdmFsdWU6ICc+JyxcbiAgICBsYWJlbDogJz4nLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICc8JyxcbiAgICBsYWJlbDogJzwnLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICc9JyxcbiAgICBsYWJlbDogJz0nLFxuICB9LFxuICB7XG4gICAgdmFsdWU6ICc+PScsXG4gICAgbGFiZWw6ICc+PScsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJzw9JyxcbiAgICBsYWJlbDogJzw9JyxcbiAgfSxcbiAge1xuICAgIHZhbHVlOiAnQkVUV0VFTicsXG4gICAgbGFiZWw6ICdSQU5HRScsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0lTIE5VTEwnLFxuICAgIGxhYmVsOiAnSVMgRU1QVFknLFxuICB9LFxuXVxuLy8gdmVyaWZpZWRcbmV4cG9ydCBjb25zdCBib29sZWFuQ29tcGFyYXRvcnMgPSBbXG4gIHtcbiAgICB2YWx1ZTogJz0nLFxuICAgIGxhYmVsOiAnPScsXG4gIH0sXG4gIHtcbiAgICB2YWx1ZTogJ0lTIE5VTEwnLFxuICAgIGxhYmVsOiAnSVMgRU1QVFknLFxuICB9LFxuXSBhcyBDb21wYXJhdG9yVHlwZVtdXG5cbmV4cG9ydCBjb25zdCBUeXBlVG9Db21wYXJhdG9yczogeyBba2V5IGluIEF0dHJpYnV0ZVR5cGVzXTogQ29tcGFyYXRvclR5cGVbXSB9ID1cbiAge1xuICAgIFNUUklORzogc3RyaW5nQ29tcGFyYXRvcnMsXG4gICAgREFURTogZGF0ZUNvbXBhcmF0b3JzLFxuICAgIExPTkc6IG51bWJlckNvbXBhcmF0b3JzLFxuICAgIERPVUJMRTogbnVtYmVyQ29tcGFyYXRvcnMsXG4gICAgRkxPQVQ6IG51bWJlckNvbXBhcmF0b3JzLFxuICAgIElOVEVHRVI6IG51bWJlckNvbXBhcmF0b3JzLFxuICAgIFNIT1JUOiBudW1iZXJDb21wYXJhdG9ycyxcbiAgICBMT0NBVElPTjogZ2VvbWV0cnlDb21wYXJhdG9ycyxcbiAgICBHRU9NRVRSWTogZ2VvbWV0cnlDb21wYXJhdG9ycyxcbiAgICBCT09MRUFOOiBib29sZWFuQ29tcGFyYXRvcnMsXG4gICAgWE1MOiBbXSxcbiAgICBPQkpFQ1Q6IFtdLFxuICAgIEJJTkFSWTogW10sXG4gIH1cblxuZXhwb3J0IGNvbnN0IGdldENvbXBhcmF0b3JzID0gKGF0dHJpYnV0ZTogc3RyaW5nKTogQ29tcGFyYXRvclR5cGVbXSA9PiB7XG4gIGxldCBjb21wYXJhdG9ycyA9IFR5cGVUb0NvbXBhcmF0b3JzW2dldEF0dHJpYnV0ZVR5cGUoYXR0cmlidXRlKV0gfHwgW11cbiAgLy8gSVMgTlVMTCBjaGVja3MgZG8gbm90IHdvcmsgb24gdGhlc2VcbiAgaWYgKGF0dHJpYnV0ZSA9PT0gJ2FueUdlbycgfHwgYXR0cmlidXRlID09PSAnYW55VGV4dCcpIHtcbiAgICBjb21wYXJhdG9ycyA9IGNvbXBhcmF0b3JzLmZpbHRlcihcbiAgICAgIChjb21wYXJhdG9yKSA9PiBjb21wYXJhdG9yLnZhbHVlICE9PSAnSVMgTlVMTCdcbiAgICApXG4gIH1cbiAgcmV0dXJuIGNvbXBhcmF0b3JzXG59XG5cbmV4cG9ydCBjb25zdCBDb21wYXJhdG9yQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoe1xuICBnZXRDb21wYXJhdG9ycyxcbn0pXG5cbmV4cG9ydCBmdW5jdGlvbiBEZWZhdWx0Q29tcGFyYXRvclByb3ZpZGVyKHtcbiAgY2hpbGRyZW4sXG59OiB7XG4gIGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGVcbn0pIHtcbiAgcmV0dXJuIChcbiAgICA8Q29tcGFyYXRvckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgZ2V0Q29tcGFyYXRvcnMgfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9Db21wYXJhdG9yQ29udGV4dC5Qcm92aWRlcj5cbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29tcGFyYXRvcnMoKSB7XG4gIHJldHVybiBSZWFjdC51c2VDb250ZXh0KENvbXBhcmF0b3JDb250ZXh0KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlR2V0Q29tcGFyYXRvcnMoKSB7XG4gIHJldHVybiB1c2VDb21wYXJhdG9ycygpLmdldENvbXBhcmF0b3JzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDb21wYXJhdG9yc0ZvckF0dHJpYnV0ZShhdHRyaWJ1dGU6IHN0cmluZykge1xuICBjb25zdCBjb21wYXJhdG9ycyA9IHVzZUdldENvbXBhcmF0b3JzKClcbiAgY29uc3QgW2NvbXBhcmF0b3JMaXN0LCBzZXRDb21wYXJhdG9yTGlzdF0gPSBSZWFjdC51c2VTdGF0ZTxDb21wYXJhdG9yVHlwZVtdPihcbiAgICBjb21wYXJhdG9ycyhhdHRyaWJ1dGUpXG4gIClcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRDb21wYXJhdG9yTGlzdChjb21wYXJhdG9ycyhhdHRyaWJ1dGUpKVxuICB9LCBbYXR0cmlidXRlLCBjb21wYXJhdG9yc10pXG4gIHJldHVybiBjb21wYXJhdG9yTGlzdFxufVxuIl19
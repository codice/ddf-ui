/**
 * Copyright (c) Codice Foundation
 *
 * This is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser
 * General Public License as published by the Free Software Foundation, either version 3 of the
 * License, or any later version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without
 * even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details. A copy of the GNU Lesser General Public License
 * is distributed along with this program and can be found at
 * <http://www.gnu.org/licenses/lgpl.html>.
 *
 **/
import { __makeTemplateObject } from "tslib";
import { hot } from 'react-hot-loader';
import * as React from 'react';
import Button from '@mui/material/Button';
import styled from 'styled-components';
import LinearProgress from '@mui/material/LinearProgress';
var Root = styled.div(templateObject_1 || (templateObject_1 = __makeTemplateObject(["\n  overflow: auto;\n  height: 100%;\n\n  .metacardHistory-cell {\n    float: left;\n    padding: 10px;\n    text-align: center;\n  }\n\n  ", ";\n"], ["\n  overflow: auto;\n  height: 100%;\n\n  .metacardHistory-cell {\n    float: left;\n    padding: 10px;\n    text-align: center;\n  }\n\n  ", ";\n"])), function (props) {
    if (props.theme.screenBelow(props.theme.smallScreenSize)) {
        return "\n        .metacardHistory-body {\n          max-height: none;\n          overflow: auto;\n        }\n  \n        .metacardHistory-cell {\n          display: block;\n          width: 100%;\n        }\n    ";
    }
    return;
});
var Header = styled.div(templateObject_2 || (templateObject_2 = __makeTemplateObject(["\n  height: 50px;\n"], ["\n  height: 50px;\n"])));
var Row = styled.div(templateObject_3 || (templateObject_3 = __makeTemplateObject(["\n  transition: padding ", " linear;\n"], ["\n  transition: padding ", " linear;\n"
    // prettier-ignore
])), function (props) { return props.theme.transitionTime; });
// prettier-ignore
var Body = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject(["\n  max-height: calc(100% - ", "*2 - 20px - ", ");\n  overflow: auto;\n  overflow-x: hidden;\n  width: 100%;\n  cursor: pointer;\n  display: table;\n  content: \" \";\n  > *,\n  > * > td {\n    display: inline-block;\n    width: 100%;\n    border-top: 1px solid rgba(255, 255, 255, 0.1);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  }\n  > *:hover,\n  > *:hover > td {\n    border-top: 1px solid rgba(255, 255, 255, 0.2);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  }\n"], ["\n  max-height: calc(100% - ", "*2 - 20px - ", ");\n  overflow: auto;\n  overflow-x: hidden;\n  width: 100%;\n  cursor: pointer;\n  display: table;\n  content: \" \";\n  > *,\n  > * > td {\n    display: inline-block;\n    width: 100%;\n    border-top: 1px solid rgba(255, 255, 255, 0.1);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n  }\n  > *:hover,\n  > *:hover > td {\n    border-top: 1px solid rgba(255, 255, 255, 0.2);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2);\n  }\n"])), function (props) { return props.theme.minimumButtonSize; }, function (props) { return props.theme.minimumSpacing; });
var Version = styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject(["\n  width: 20%;\n"], ["\n  width: 20%;\n"])));
var Date = styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject(["\n  width: 50%;\n"], ["\n  width: 50%;\n"])));
var Modified = styled.div(templateObject_7 || (templateObject_7 = __makeTemplateObject(["\n  width: 30%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"], ["\n  width: 30%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])));
var MetacardHistory = function (props) {
    var onClick = props.onClick, revertToSelectedVersion = props.revertToSelectedVersion, history = props.history, selectedVersion = props.selectedVersion, loading = props.loading, canEdit = props.canEdit;
    return loading ? (React.createElement(LinearProgress, { className: "w-full h-2" })) : (React.createElement(React.Fragment, null,
        React.createElement(Root, null,
            React.createElement(Header, null,
                React.createElement(Row, null,
                    React.createElement(Version, { className: "metacardHistory-cell" }, "Version"),
                    React.createElement(Date, { className: "metacardHistory-cell" }, "Date"),
                    React.createElement(Modified, { className: "metacardHistory-cell" }, "Modified by"))),
            React.createElement(Body, { className: "metacardHistory-body", "data-help": "This is the history of changes to\nthis item.  If you have the right permissions, you can click one of the items in the list\nand then click 'Revert to Selected Version' to restore the item to that specific state.  No history\nwill be lost in the process.  Instead a new version will be created that is equal to the state you\nhave chosen." }, history.map(function (historyItem) {
                return (React.createElement(Row, { className: "".concat(selectedVersion === historyItem.id &&
                        ' bg-gray-600 bg-opacity-25'), "data-id": historyItem.id, key: historyItem.id, onClick: onClick },
                    React.createElement(Version, { className: "metacardHistory-cell" }, historyItem.versionNumber),
                    React.createElement(Date, { className: "metacardHistory-cell" }, historyItem.niceDate),
                    React.createElement(Modified, { className: "metacardHistory-cell" }, historyItem.editedBy)));
            })),
            selectedVersion && canEdit && (React.createElement(Button, { fullWidth: true, className: "p-2", variant: "contained", color: "primary", onClick: revertToSelectedVersion }, "Revert to selected version")))));
};
export default hot(module)(MetacardHistory);
var templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlc2VudGF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL21haW4vd2ViYXBwL3JlYWN0LWNvbXBvbmVudC9tZXRhY2FyZC1oaXN0b3J5L3ByZXNlbnRhdGlvbi50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7SUFhSTs7QUFFSixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFDdEMsT0FBTyxLQUFLLEtBQUssTUFBTSxPQUFPLENBQUE7QUFDOUIsT0FBTyxNQUFNLE1BQU0sc0JBQXNCLENBQUE7QUFDekMsT0FBTyxNQUFNLE1BQU0sbUJBQW1CLENBQUE7QUFDdEMsT0FBTyxjQUFjLE1BQU0sOEJBQThCLENBQUE7QUFXekQsSUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLEdBQUcsdU5BQUEsNklBVW5CLEVBZUQsS0FDRixLQWhCRyxVQUFDLEtBQUs7SUFDTixJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLEVBQUU7UUFDeEQsT0FBTywrTUFVUixDQUFBO0tBQ0E7SUFDRCxPQUFNO0FBQ1IsQ0FBQyxDQUNGLENBQUE7QUFFRCxJQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyx3RkFBQSxxQkFFeEIsSUFBQSxDQUFBO0FBRUQsSUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsMkdBQUEsMEJBQ0UsRUFBcUMsWUFDNUQ7SUFFRCxrQkFBa0I7S0FITSxVQUFDLEtBQUssSUFBSyxPQUFBLEtBQUssQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUExQixDQUEwQixDQUM1RCxDQUFBO0FBRUQsa0JBQWtCO0FBQ2xCLElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxHQUFHLHVqQkFBQSw4QkFDSyxFQUFzQyxjQUFlLEVBQW1DLG9jQW1CbkgsS0FuQjJCLFVBQUEsS0FBSyxJQUFJLE9BQUEsS0FBSyxDQUFDLEtBQUssQ0FBQyxpQkFBaUIsRUFBN0IsQ0FBNkIsRUFBZSxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUExQixDQUEwQixDQW1CbkgsQ0FBQTtBQUVELElBQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxHQUFHLHNGQUFBLG1CQUV6QixJQUFBLENBQUE7QUFFRCxJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsR0FBRyxzRkFBQSxtQkFFdEIsSUFBQSxDQUFBO0FBRUQsSUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLEdBQUcsdUlBQUEsb0VBSTFCLElBQUEsQ0FBQTtBQUVELElBQU0sZUFBZSxHQUFHLFVBQUMsS0FBWTtJQUVqQyxJQUFBLE9BQU8sR0FNTCxLQUFLLFFBTkEsRUFDUCx1QkFBdUIsR0FLckIsS0FBSyx3QkFMZ0IsRUFDdkIsT0FBTyxHQUlMLEtBQUssUUFKQSxFQUNQLGVBQWUsR0FHYixLQUFLLGdCQUhRLEVBQ2YsT0FBTyxHQUVMLEtBQUssUUFGQSxFQUNQLE9BQU8sR0FDTCxLQUFLLFFBREEsQ0FDQTtJQUNULE9BQU8sT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUNmLG9CQUFDLGNBQWMsSUFBQyxTQUFTLEVBQUMsWUFBWSxHQUFHLENBQzFDLENBQUMsQ0FBQyxDQUFDLENBQ0Y7UUFDRSxvQkFBQyxJQUFJO1lBQ0gsb0JBQUMsTUFBTTtnQkFDTCxvQkFBQyxHQUFHO29CQUNGLG9CQUFDLE9BQU8sSUFBQyxTQUFTLEVBQUMsc0JBQXNCLGNBQWtCO29CQUMzRCxvQkFBQyxJQUFJLElBQUMsU0FBUyxFQUFDLHNCQUFzQixXQUFZO29CQUNsRCxvQkFBQyxRQUFRLElBQUMsU0FBUyxFQUFDLHNCQUFzQixrQkFBdUIsQ0FDN0QsQ0FDQztZQUNULG9CQUFDLElBQUksSUFDSCxTQUFTLEVBQUMsc0JBQXNCLGVBQ3RCLHFWQUlQLElBRUYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFDLFdBQWdCO2dCQUM1QixPQUFPLENBQ0wsb0JBQUMsR0FBRyxJQUNGLFNBQVMsRUFBRSxVQUNULGVBQWUsS0FBSyxXQUFXLENBQUMsRUFBRTt3QkFDbEMsNEJBQTRCLENBQzVCLGFBQ08sV0FBVyxDQUFDLEVBQUUsRUFDdkIsR0FBRyxFQUFFLFdBQVcsQ0FBQyxFQUFFLEVBQ25CLE9BQU8sRUFBRSxPQUFPO29CQUVoQixvQkFBQyxPQUFPLElBQUMsU0FBUyxFQUFDLHNCQUFzQixJQUN0QyxXQUFXLENBQUMsYUFBYSxDQUNsQjtvQkFDVixvQkFBQyxJQUFJLElBQUMsU0FBUyxFQUFDLHNCQUFzQixJQUNuQyxXQUFXLENBQUMsUUFBUSxDQUNoQjtvQkFDUCxvQkFBQyxRQUFRLElBQUMsU0FBUyxFQUFDLHNCQUFzQixJQUN2QyxXQUFXLENBQUMsUUFBUSxDQUNaLENBQ1AsQ0FDUCxDQUFBO1lBQ0gsQ0FBQyxDQUFDLENBQ0c7WUFDTixlQUFlLElBQUksT0FBTyxJQUFJLENBQzdCLG9CQUFDLE1BQU0sSUFDTCxTQUFTLFFBQ1QsU0FBUyxFQUFDLEtBQUssRUFDZixPQUFPLEVBQUMsV0FBVyxFQUNuQixLQUFLLEVBQUMsU0FBUyxFQUNmLE9BQU8sRUFBRSx1QkFBdUIsaUNBR3pCLENBQ1YsQ0FDSSxDQUNOLENBQ0osQ0FBQTtBQUNILENBQUMsQ0FBQTtBQUVELGVBQWUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIENvZGljZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlclxuICogR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGVcbiAqIExpY2Vuc2UsIG9yIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFRoaXMgcHJvZ3JhbSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLCBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXRcbiAqIGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiBTZWUgdGhlIEdOVVxuICogTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4gQSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGlzIGRpc3RyaWJ1dGVkIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtIGFuZCBjYW4gYmUgZm91bmQgYXRcbiAqIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvbGdwbC5odG1sPi5cbiAqXG4gKiovXG5cbmltcG9ydCB7IGhvdCB9IGZyb20gJ3JlYWN0LWhvdC1sb2FkZXInXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCBCdXR0b24gZnJvbSAnQG11aS9tYXRlcmlhbC9CdXR0b24nXG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xuaW1wb3J0IExpbmVhclByb2dyZXNzIGZyb20gJ0BtdWkvbWF0ZXJpYWwvTGluZWFyUHJvZ3Jlc3MnXG5cbnR5cGUgUHJvcHMgPSB7XG4gIG9uQ2xpY2s6IChldmVudDogYW55KSA9PiB2b2lkXG4gIHJldmVydFRvU2VsZWN0ZWRWZXJzaW9uOiAoKSA9PiB2b2lkXG4gIGhpc3Rvcnk6IGFueVxuICBzZWxlY3RlZFZlcnNpb246IGFueVxuICBsb2FkaW5nOiBib29sZWFuXG4gIGNhbkVkaXQ6IGJvb2xlYW5cbn1cblxuY29uc3QgUm9vdCA9IHN0eWxlZC5kaXZgXG4gIG92ZXJmbG93OiBhdXRvO1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgLm1ldGFjYXJkSGlzdG9yeS1jZWxsIHtcbiAgICBmbG9hdDogbGVmdDtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gICR7KHByb3BzKSA9PiB7XG4gICAgaWYgKHByb3BzLnRoZW1lLnNjcmVlbkJlbG93KHByb3BzLnRoZW1lLnNtYWxsU2NyZWVuU2l6ZSkpIHtcbiAgICAgIHJldHVybiBgXG4gICAgICAgIC5tZXRhY2FyZEhpc3RvcnktYm9keSB7XG4gICAgICAgICAgbWF4LWhlaWdodDogbm9uZTtcbiAgICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgfVxuICBcbiAgICAgICAgLm1ldGFjYXJkSGlzdG9yeS1jZWxsIHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgfVxuICAgIGBcbiAgICB9XG4gICAgcmV0dXJuXG4gIH19O1xuYFxuXG5jb25zdCBIZWFkZXIgPSBzdHlsZWQuZGl2YFxuICBoZWlnaHQ6IDUwcHg7XG5gXG5cbmNvbnN0IFJvdyA9IHN0eWxlZC5kaXZgXG4gIHRyYW5zaXRpb246IHBhZGRpbmcgJHsocHJvcHMpID0+IHByb3BzLnRoZW1lLnRyYW5zaXRpb25UaW1lfSBsaW5lYXI7XG5gXG5cbi8vIHByZXR0aWVyLWlnbm9yZVxuY29uc3QgQm9keSA9IHN0eWxlZC5kaXZgXG4gIG1heC1oZWlnaHQ6IGNhbGMoMTAwJSAtICR7cHJvcHMgPT4gcHJvcHMudGhlbWUubWluaW11bUJ1dHRvblNpemV9KjIgLSAyMHB4IC0gJHtwcm9wcyA9PiBwcm9wcy50aGVtZS5taW5pbXVtU3BhY2luZ30pO1xuICBvdmVyZmxvdzogYXV0bztcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICB3aWR0aDogMTAwJTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBkaXNwbGF5OiB0YWJsZTtcbiAgY29udGVudDogXCIgXCI7XG4gID4gKixcbiAgPiAqID4gdGQge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSk7XG4gIH1cbiAgPiAqOmhvdmVyLFxuICA+ICo6aG92ZXIgPiB0ZCB7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICB9XG5gXG5cbmNvbnN0IFZlcnNpb24gPSBzdHlsZWQuZGl2YFxuICB3aWR0aDogMjAlO1xuYFxuXG5jb25zdCBEYXRlID0gc3R5bGVkLmRpdmBcbiAgd2lkdGg6IDUwJTtcbmBcblxuY29uc3QgTW9kaWZpZWQgPSBzdHlsZWQuZGl2YFxuICB3aWR0aDogMzAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbmBcblxuY29uc3QgTWV0YWNhcmRIaXN0b3J5ID0gKHByb3BzOiBQcm9wcykgPT4ge1xuICBjb25zdCB7XG4gICAgb25DbGljayxcbiAgICByZXZlcnRUb1NlbGVjdGVkVmVyc2lvbixcbiAgICBoaXN0b3J5LFxuICAgIHNlbGVjdGVkVmVyc2lvbixcbiAgICBsb2FkaW5nLFxuICAgIGNhbkVkaXQsXG4gIH0gPSBwcm9wc1xuICByZXR1cm4gbG9hZGluZyA/IChcbiAgICA8TGluZWFyUHJvZ3Jlc3MgY2xhc3NOYW1lPVwidy1mdWxsIGgtMlwiIC8+XG4gICkgOiAoXG4gICAgPD5cbiAgICAgIDxSb290PlxuICAgICAgICA8SGVhZGVyPlxuICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICA8VmVyc2lvbiBjbGFzc05hbWU9XCJtZXRhY2FyZEhpc3RvcnktY2VsbFwiPlZlcnNpb248L1ZlcnNpb24+XG4gICAgICAgICAgICA8RGF0ZSBjbGFzc05hbWU9XCJtZXRhY2FyZEhpc3RvcnktY2VsbFwiPkRhdGU8L0RhdGU+XG4gICAgICAgICAgICA8TW9kaWZpZWQgY2xhc3NOYW1lPVwibWV0YWNhcmRIaXN0b3J5LWNlbGxcIj5Nb2RpZmllZCBieTwvTW9kaWZpZWQ+XG4gICAgICAgICAgPC9Sb3c+XG4gICAgICAgIDwvSGVhZGVyPlxuICAgICAgICA8Qm9keVxuICAgICAgICAgIGNsYXNzTmFtZT1cIm1ldGFjYXJkSGlzdG9yeS1ib2R5XCJcbiAgICAgICAgICBkYXRhLWhlbHA9XCJUaGlzIGlzIHRoZSBoaXN0b3J5IG9mIGNoYW5nZXMgdG9cbnRoaXMgaXRlbS4gIElmIHlvdSBoYXZlIHRoZSByaWdodCBwZXJtaXNzaW9ucywgeW91IGNhbiBjbGljayBvbmUgb2YgdGhlIGl0ZW1zIGluIHRoZSBsaXN0XG5hbmQgdGhlbiBjbGljayAnUmV2ZXJ0IHRvIFNlbGVjdGVkIFZlcnNpb24nIHRvIHJlc3RvcmUgdGhlIGl0ZW0gdG8gdGhhdCBzcGVjaWZpYyBzdGF0ZS4gIE5vIGhpc3RvcnlcbndpbGwgYmUgbG9zdCBpbiB0aGUgcHJvY2Vzcy4gIEluc3RlYWQgYSBuZXcgdmVyc2lvbiB3aWxsIGJlIGNyZWF0ZWQgdGhhdCBpcyBlcXVhbCB0byB0aGUgc3RhdGUgeW91XG5oYXZlIGNob3Nlbi5cIlxuICAgICAgICA+XG4gICAgICAgICAge2hpc3RvcnkubWFwKChoaXN0b3J5SXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8Um93XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkVmVyc2lvbiA9PT0gaGlzdG9yeUl0ZW0uaWQgJiZcbiAgICAgICAgICAgICAgICAgICcgYmctZ3JheS02MDAgYmctb3BhY2l0eS0yNSdcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICBkYXRhLWlkPXtoaXN0b3J5SXRlbS5pZH1cbiAgICAgICAgICAgICAgICBrZXk9e2hpc3RvcnlJdGVtLmlkfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2t9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8VmVyc2lvbiBjbGFzc05hbWU9XCJtZXRhY2FyZEhpc3RvcnktY2VsbFwiPlxuICAgICAgICAgICAgICAgICAge2hpc3RvcnlJdGVtLnZlcnNpb25OdW1iZXJ9XG4gICAgICAgICAgICAgICAgPC9WZXJzaW9uPlxuICAgICAgICAgICAgICAgIDxEYXRlIGNsYXNzTmFtZT1cIm1ldGFjYXJkSGlzdG9yeS1jZWxsXCI+XG4gICAgICAgICAgICAgICAgICB7aGlzdG9yeUl0ZW0ubmljZURhdGV9XG4gICAgICAgICAgICAgICAgPC9EYXRlPlxuICAgICAgICAgICAgICAgIDxNb2RpZmllZCBjbGFzc05hbWU9XCJtZXRhY2FyZEhpc3RvcnktY2VsbFwiPlxuICAgICAgICAgICAgICAgICAge2hpc3RvcnlJdGVtLmVkaXRlZEJ5fVxuICAgICAgICAgICAgICAgIDwvTW9kaWZpZWQ+XG4gICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pfVxuICAgICAgICA8L0JvZHk+XG4gICAgICAgIHtzZWxlY3RlZFZlcnNpb24gJiYgY2FuRWRpdCAmJiAoXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTJcIlxuICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXG4gICAgICAgICAgICBjb2xvcj1cInByaW1hcnlcIlxuICAgICAgICAgICAgb25DbGljaz17cmV2ZXJ0VG9TZWxlY3RlZFZlcnNpb259XG4gICAgICAgICAgPlxuICAgICAgICAgICAgUmV2ZXJ0IHRvIHNlbGVjdGVkIHZlcnNpb25cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgKX1cbiAgICAgIDwvUm9vdD5cbiAgICA8Lz5cbiAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCBob3QobW9kdWxlKShNZXRhY2FyZEhpc3RvcnkpXG4iXX0=